!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@tronweb3/tronwallet-abstract-adapter"]=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n,r={},o={},s={exports:{}};function a(){if(n)return o;n=1;var e=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.Adapter=o.AdapterState=o.WalletReadyState=o.EventEmitter=void 0;const r=e((t||(t=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var i=new o(r,s||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],i]:e._events[c].push(i):(e._events[c]=i,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,a=new Array(s);o<s;o++)a[o]=r[o].fn;return a},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,o,s,a){var i=n?n+e:e;if(!this._events[i])return!1;var c,l,u=this._events[i],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,s),!0;case 6:return u.fn.call(u.context,t,r,o,s,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},i.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,o){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||o&&!i.once||r&&i.context!==r||a(this,s);else{for(var c=0,l=[],u=i.length;c<u;c++)(i[c].fn!==t||o&&!i[c].once||r&&i[c].context!==r)&&l.push(i[c]);l.length?this._events[s]=1===l.length?l[0]:l:a(this,s)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i}(s)),s.exports));var a,i;o.EventEmitter=r.default,function(e){e.Loading="Loading",e.NotFound="NotFound",e.Found="Found"}(a||(o.WalletReadyState=a={})),function(e){e.Loading="Loading",e.NotFound="NotFound",e.Disconnect="Disconnected",e.Connected="Connected"}(i||(o.AdapterState=i={}));class c extends r.default{get connected(){return this.state===i.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...e){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(e){return Promise.reject("The current wallet doesn't support switch chain.")}}return o.Adapter=c,o}var i,c={};function l(){if(i)return c;i=1,Object.defineProperty(c,"__esModule",{value:!0}),c.WalletGetNetworkError=c.WalletSwitchChainError=c.WalletWindowClosedError=c.WalletWalletLoadError=c.WalletSignTransactionError=c.WalletSignMessageError=c.WalletDisconnectionError=c.WalletConnectionError=c.WalletDisconnectedError=c.WalletNotSelectedError=c.WalletNotFoundError=c.WalletError=void 0;class e extends Error{constructor(e,t){super(e),this.error=t}}c.WalletError=e;c.WalletNotFoundError=class extends e{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}};c.WalletNotSelectedError=class extends e{constructor(){super(...arguments),this.name="WalletNotSelectedError",this.message="No wallet is selected. Please select a wallet."}};c.WalletDisconnectedError=class extends e{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}};c.WalletConnectionError=class extends e{constructor(){super(...arguments),this.name="WalletConnectionError"}};c.WalletDisconnectionError=class extends e{constructor(){super(...arguments),this.name="WalletDisconnectionError"}};c.WalletSignMessageError=class extends e{constructor(){super(...arguments),this.name="WalletSignMessageError"}};c.WalletSignTransactionError=class extends e{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};c.WalletWalletLoadError=class extends e{constructor(){super(...arguments),this.name="WalletWalletLoadError"}};c.WalletWindowClosedError=class extends e{constructor(){super(...arguments),this.name="WalletWindowClosedError",this.message="The QR window is closed."}};c.WalletSwitchChainError=class extends e{constructor(){super(...arguments),this.name="WalletSwitchChainError"}};return c.WalletGetNetworkError=class extends e{constructor(){super(...arguments),this.name="WalletGetNetworkError"}},c}var u,d={};function f(){return u||(u=1,Object.defineProperty(d,"__esModule",{value:!0}),d.TIP6963RequestProviderEventName=d.TIP6963AnnounceProviderEventName=d.ChainNetwork=d.NetworkType=void 0,function(e){e.Mainnet="Mainnet",e.Shasta="Shasta",e.Nile="Nile",e.Unknown="Unknown"}(e||(d.NetworkType=e={})),function(e){e.Mainnet="Mainnet",e.Shasta="Shasta",e.Nile="Nile"}(t||(d.ChainNetwork=t={})),d.TIP6963AnnounceProviderEventName="TIP6963:announceProvider",d.TIP6963RequestProviderEventName="TIP6963:requestProvider"),d;var e,t}var p,h,v={};function w(){if(p)return v;function e(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator}return p=1,Object.defineProperty(v,"__esModule",{value:!0}),v.isInBrowser=e,v.checkAdapterState=function(t){if(!e())return;const n=[];function r(){for(const e of n)e()}function o(){t()&&r()}const s=setInterval(o,500);n.push((()=>clearInterval(s))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",o,{once:!0}),n.push((()=>document.removeEventListener("DOMContentLoaded",o))));"complete"!==document.readyState&&(window.addEventListener("load",o,{once:!0}),n.push((()=>window.removeEventListener("load",o))));o(),setTimeout(r,6e4)},v.isInMobileBrowser=function(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)},v}return e((h||(h=1,function(e){var t=r&&r.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=r&&r.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(a(),e),n(l(),e),n(f(),e),n(w(),e)}(r)),r))}));

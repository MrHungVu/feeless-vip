!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@tronweb3/tronwallet-adapter-ledger"]=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var r={},o="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c=!1;function l(){c=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)i[t]=e[t],s[e.charCodeAt(t)]=t;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}function u(e,t,n){for(var r,o,s=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}function f(e){var t;c||l();for(var n=e.length,r=n%3,o="",s=[],a=16383,f=0,h=n-r;f<h;f+=a)s.push(u(e,f,f+a>h?h:f+a));return 1===r?(t=e[n-1],o+=i[t>>2],o+=i[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=i[t>>10],o+=i[t>>4&63],o+=i[t<<2&63],o+="="),s.push(o),s.join("")}function h(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?o-1:0,h=n?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-u)-1,d>>=-u,u+=a;u>0;i=256*i+e[t+f],f+=h,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+f],f+=h,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=l}return(d?-1:1)*s*Math.pow(2,i-r)}function d(e,t,n,r,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,f=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*c-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+d]=255&s,d+=p,s/=256,l-=8);e[n+d-p]|=128*g}var p={}.toString,g=Array.isArray||function(e){return"[object Array]"==p.call(e)};E.TYPED_ARRAY_SUPPORT=void 0===o.TYPED_ARRAY_SUPPORT||o.TYPED_ARRAY_SUPPORT;var _=v();function v(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(e,t){if(v()<t)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=E.prototype:(null===e&&(e=new E(t)),e.length=t),e}function E(e,t,n){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return A(this,e)}return y(this,e,t,n)}function y(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);E.TYPED_ARRAY_SUPPORT?(e=t).__proto__=E.prototype:e=b(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!E.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|N(t,n);e=m(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(L(t)){var n=0|I(t.length);return 0===(e=m(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?m(e,0):b(e,t);if("Buffer"===t.type&&g(t.data))return b(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function w(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function A(e,t){if(w(t),e=m(e,t<0?0:0|I(t)),!E.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function b(e,t){var n=t.length<0?0:0|I(t.length);e=m(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function I(e){if(e>=v())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v().toString(16)+" bytes");return 0|e}function L(e){return!(null==e||!e._isBuffer)}function N(e,t){if(L(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ee(e).length;default:if(r)return Z(e).length;t=(""+t).toLowerCase(),r=!0}}function S(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return G(this,t,n);case"utf8":case"utf-8":return F(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return H(this,t,n);case"base64":return U(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function C(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function R(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=E.from(t,r)),L(t))return 0===t.length?-1:T(e,t,n,r,o);if("number"==typeof t)return t&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):T(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function T(e,t,n,r,o){var i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var u=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(l(e,i+h)!==l(t,h)){f=!1;break}if(f)return i}return-1}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function O(e,t,n,r){return te(Z(t,e.length-n),e,n,r)}function P(e,t,n,r){return te(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function D(e,t,n,r){return P(e,t,n,r)}function M(e,t,n,r){return te(ee(t),e,n,r)}function k(e,t,n,r){return te(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function U(e,t,n){return 0===t&&n===e.length?f(e):f(e.slice(t,n))}function F(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,c,l=e[o],u=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(c=(15&l)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=f}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=B));return n}(r)}E.poolSize=8192,E._augment=function(e){return e.__proto__=E.prototype,e},E.from=function(e,t,n){return y(null,e,t,n)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&E[Symbol.species]),E.alloc=function(e,t,n){return function(e,t,n,r){return w(t),t<=0?m(e,t):void 0!==n?"string"==typeof r?m(e,t).fill(n,r):m(e,t).fill(n):m(e,t)}(null,e,t,n)},E.allocUnsafe=function(e){return A(null,e)},E.allocUnsafeSlow=function(e){return A(null,e)},E.isBuffer=ne,E.compare=function(e,t){if(!L(e)||!L(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},E.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(e,t){if(!g(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return E.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=E.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!L(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},E.byteLength=N,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},E.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},E.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},E.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?F(this,0,e):S.apply(this,arguments)},E.prototype.equals=function(e){if(!L(e))throw new TypeError("Argument must be a Buffer");return this===e||0===E.compare(this,e)},E.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},E.prototype.compare=function(e,t,n,r,o){if(!L(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n),u=0;u<a;++u)if(c[u]!==l[u]){i=c[u],s=l[u];break}return i<s?-1:s<i?1:0},E.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},E.prototype.indexOf=function(e,t,n){return R(this,e,t,n,!0)},E.prototype.lastIndexOf=function(e,t,n){return R(this,e,t,n,!1)},E.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return P(this,e,t,n);case"latin1":case"binary":return D(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function H(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function G(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=$(e[i]);return o}function W(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function z(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Y(e,t,n,r,o,i){if(!L(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function q(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function Q(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function X(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,o){return o||X(e,0,n,4),d(e,t,n,r,23,4),n+4}function J(e,t,n,r,o){return o||X(e,0,n,8),d(e,t,n,r,52,8),n+8}E.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),E.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=E.prototype;else{var o=t-e;n=new E(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},E.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},E.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},E.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},E.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},E.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},E.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},E.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},E.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},E.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},E.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},E.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},E.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},E.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},E.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},E.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),h(this,e,!0,23,4)},E.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),h(this,e,!1,23,4)},E.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),h(this,e,!0,52,8)},E.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),h(this,e,!1,52,8)},E.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Y(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},E.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Y(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},E.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,1,255,0),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},E.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},E.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},E.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Q(this,e,t,!0),t+4},E.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Q(this,e,t,!1),t+4},E.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);Y(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+n},E.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);Y(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+n},E.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,1,127,-128),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},E.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},E.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},E.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Q(this,e,t,!0),t+4},E.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Y(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Q(this,e,t,!1),t+4},E.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},E.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},E.prototype.writeDoubleLE=function(e,t,n){return J(this,e,t,!0,n)},E.prototype.writeDoubleBE=function(e,t,n){return J(this,e,t,!1,n)},E.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!E.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},E.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!E.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=L(e)?e:Z(new E(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function Z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function ee(e){return function(e){var t,n,r,o,i,u;c||l();var f=e.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[f-2]?2:"="===e[f-1]?1:0,u=new a(3*f/4-i),r=i>0?f-4:f;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)o=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],u[h++]=o>>16&255,u[h++]=o>>8&255,u[h++]=255&o;return 2===i?(o=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,u[h++]=255&o):1===i&&(o=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,u[h++]=o>>8&255,u[h++]=255&o),u}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function te(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function ne(e){return null!=e&&(!!e._isBuffer||re(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&re(e.slice(0,0))}(e))}function re(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}const oe=n(Object.freeze({__proto__:null,Buffer:E,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),E.alloc(+e)},isBuffer:ne,kMaxLength:_}));"undefined"!=typeof window&&void 0===window.Buffer&&(window.Buffer=oe.Buffer);var ie={},se={},ae={},ce={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,s),!0}for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),f){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,o);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(ce);var le=ce.exports,ue=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ae,"__esModule",{value:!0}),ae.Adapter=ae.AdapterState=ae.WalletReadyState=ae.EventEmitter=void 0;const fe=ue(le);var he,de;ae.EventEmitter=fe.default,function(e){e.Loading="Loading",e.NotFound="NotFound",e.Found="Found"}(he||(ae.WalletReadyState=he={})),function(e){e.Loading="Loading",e.NotFound="NotFound",e.Disconnect="Disconnected",e.Connected="Connected"}(de||(ae.AdapterState=de={}));class pe extends fe.default{get connected(){return this.state===de.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...e){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(e){return Promise.reject("The current wallet doesn't support switch chain.")}}ae.Adapter=pe;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.WalletGetNetworkError=ge.WalletSwitchChainError=ge.WalletWindowClosedError=ge.WalletWalletLoadError=ge.WalletSignTransactionError=ge.WalletSignMessageError=ge.WalletDisconnectionError=ge.WalletConnectionError=ge.WalletDisconnectedError=ge.WalletNotSelectedError=ge.WalletNotFoundError=ge.WalletError=void 0;class _e extends Error{constructor(e,t){super(e),this.error=t}}ge.WalletError=_e;ge.WalletNotFoundError=class extends _e{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}};ge.WalletNotSelectedError=class extends _e{constructor(){super(...arguments),this.name="WalletNotSelectedError",this.message="No wallet is selected. Please select a wallet."}};ge.WalletDisconnectedError=class extends _e{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}};ge.WalletConnectionError=class extends _e{constructor(){super(...arguments),this.name="WalletConnectionError"}};ge.WalletDisconnectionError=class extends _e{constructor(){super(...arguments),this.name="WalletDisconnectionError"}};ge.WalletSignMessageError=class extends _e{constructor(){super(...arguments),this.name="WalletSignMessageError"}};ge.WalletSignTransactionError=class extends _e{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};ge.WalletWalletLoadError=class extends _e{constructor(){super(...arguments),this.name="WalletWalletLoadError"}};ge.WalletWindowClosedError=class extends _e{constructor(){super(...arguments),this.name="WalletWindowClosedError",this.message="The QR window is closed."}};ge.WalletSwitchChainError=class extends _e{constructor(){super(...arguments),this.name="WalletSwitchChainError"}};ge.WalletGetNetworkError=class extends _e{constructor(){super(...arguments),this.name="WalletGetNetworkError"}};var ve,me,Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.ChainNetwork=Ee.NetworkType=void 0,function(e){e.Mainnet="Mainnet",e.Shasta="Shasta",e.Nile="Nile",e.Unknown="Unknown"}(ve||(Ee.NetworkType=ve={})),function(e){e.Mainnet="Mainnet",e.Shasta="Shasta",e.Nile="Nile"}(me||(Ee.ChainNetwork=me={}));var ye={};function we(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator}Object.defineProperty(ye,"__esModule",{value:!0}),ye.isInBrowser=we,ye.checkAdapterState=function(e){if(!we())return;const t=[];function n(){for(const e of t)e()}function r(){e()&&n()}const o=setInterval(r,500);t.push((()=>clearInterval(o))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",r))));"complete"!==document.readyState&&(window.addEventListener("load",r,{once:!0}),t.push((()=>window.removeEventListener("load",r))));r(),setTimeout(n,6e4)},ye.isInMobileBrowser=function(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)},function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(ae,t),r(ge,t),r(Ee,t),r(ye,t)}(se);var Ae={};function be(e){const t=[];return e.split("/").forEach((e=>{let n=parseInt(e,10);isNaN(n)||(e.length>1&&"'"===e[e.length-1]&&(n+=2147483648),t.push(n))})),t}function Ie(e,t){function n(e,r,o){return e>=r.length?o:t(r[e],e).then((function(t){return o.push(t),n(e+1,r,o)}))}return Promise.resolve().then((()=>n(0,e,[])))}function Le(e,t){let n=0,r=0,o=t;for(;r<64;){const t=e[o];if(n|=(127&t)<<r,o+=1,!(128&t))return n&=4294967295,{value:n,pos:o};r+=7}throw new Error("Too many bytes when decoding varint.")}function Ne(e){const t=e.startsWith("0x")?e.slice(2):e;return Buffer.from((e=>e.length%2?"0"+e:e)(t),"hex")}const Se=224,Ce=250;var Re=Object.freeze({__proto__:null,default:class{constructor(e,t="TRX"){this.transport=e,e.decorateAppAPIMethods(this,["getAddress","getECDHPairKey","signTransaction","signTransactionHash","signPersonalMessage","signTIP712HashedMessage","getAppConfiguration"],t)}getAddress(e,t){const n=be(e),r=Buffer.alloc(1+4*n.length);return r[0]=n.length,n.forEach(((e,t)=>{r.writeUInt32BE(e,1+4*t)})),this.transport.send(Se,2,t?1:0,0,r).then((e=>{const t=e[0],n=e[1+t];return{publicKey:e.slice(1,1+t).toString("hex"),address:e.slice(1+t+1,1+t+1+n).toString("ascii")}}))}getNextLength(e){const t=Le(e,0),n=Le(e,t.pos);return 7&t.value?n.value+n.pos:n.pos}signTransaction(e,t,n){const r=be(e);let o=Buffer.from(t,"hex");const i=[];let s=Buffer.alloc(1+4*r.length);for(s[0]=r.length,r.forEach(((e,t)=>{s.writeUInt32BE(e,1+4*t)}));o.length>0;){const e=this.getNextLength(o);if(e>Ce)throw new Error("Too many bytes to encode.");s.length+e>Ce?(i.push(s),s=Buffer.alloc(0)):(s=Buffer.concat([s,o.slice(0,e)]),o=o.slice(e,o.length))}i.push(s);const a=[];let c;const l=i.length;if(void 0!==n)for(let e=0;e<n.length;e+=1){const t=Buffer.from(n[e],"hex");i.push(t)}if(1===i.length)a.push(16);else{a.push(0);for(let e=1;e<i.length-1;e+=1)e>=l?a.push(160|e-l):a.push(128);void 0!==n&&n.length?a.push(168|n.length-1):a.push(144)}return Ie(i,((e,t)=>this.transport.send(Se,4,a[t],0,e).then((e=>{c=e})))).then((()=>c.slice(0,65).toString("hex")),(e=>{throw(e=>(e&&e.statusCode,e))(e)}))}signTransactionHash(e,t){const n=be(e);let r=Buffer.alloc(1+4*n.length);return r[0]=n.length,n.forEach(((e,t)=>{r.writeUInt32BE(e,1+4*t)})),r=Buffer.concat([r,Buffer.from(t,"hex")]),this.transport.send(Se,5,0,0,r).then((e=>e.slice(0,65).toString("hex")))}getAppConfiguration(){return this.transport.send(Se,6,0,0).then((e=>{const t=(8&e[0])>0;let n=(4&e[0])>0,r=(2&e[0])>0,o=(1&e[0])>0;0===e[1]&&1===e[2]&&e[3]<2&&(o=!0,r=!1),0===e[1]&&1===e[2]&&e[3]<5&&(n=!1);return{version:`${e[1]}.${e[2]}.${e[3]}`,versionN:1e4*e[1]+100*e[2]+e[3],allowData:o,allowContract:r,truncateAddress:n,signByHash:t}}))}signPersonalMessage(e,t){const n=be(e),r=Buffer.from(t,"hex");let o=0;const i=[],s=r.length.toString(16),a="00000000".substr(s.length)+s,c=Buffer.concat([Buffer.from(a,"hex"),r]);for(;o<c.length;){const e=0===o?249-4*n.length:Ce,t=o+e>c.length?c.length-o:e,r=Buffer.alloc(0===o?1+4*n.length+t:t);0===o?(r[0]=n.length,n.forEach(((e,t)=>{r.writeUInt32BE(e,1+4*t)})),c.copy(r,1+4*n.length,o,o+t)):c.copy(r,0,o,o+t),i.push(r),o+=t}let l;return Ie(i,((e,t)=>this.transport.send(Se,8,0===t?0:128,0,e).then((e=>{l=e})))).then((()=>l.slice(0,65).toString("hex")))}signTIP712HashedMessage(e,t,n){return((e,t,n,r)=>{const o=Ne(n),i=Ne(r),s=be(t),a=Buffer.alloc(1+4*s.length+32+32,0);let c=0;return a[0]=s.length,s.forEach(((e,t)=>{a.writeUint32BE(e,1+4*t)})),c=1+4*s.length,o.copy(a,c),c+=32,i.copy(a,c),e.send(224,12,0,0,a).then((e=>e.slice(0,65).toString("hex")))})(this.transport,e,t,n)}getECDHPairKey(e,t){const n=be(e),r=Buffer.from(t,"hex"),o=Buffer.alloc(1+4*n.length+r.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),r.copy(o,1+4*n.length,0,r.length),this.transport.send(Se,10,0,1,o).then((e=>e.slice(0,65).toString("hex")))}}}),Te=n(Re);function xe(){}function Oe(){Oe.init.call(this)}function Pe(e){return void 0===e._maxListeners?Oe.defaultMaxListeners:e._maxListeners}function De(e,t,n,r){var o,i,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]):(i=e._events=new xe,e._eventsCount=0),s){if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(o=Pe(e))&&o>0&&s.length>o){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(a)}}else s=i[t]=n,++e._eventsCount;return e}function Me(e,t,n){var r=!1;function o(){e.removeListener(t,o),r||(r=!0,n.apply(e,arguments))}return o.listener=n,o}function ke(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Ue(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}xe.prototype=Object.create(null),Oe.EventEmitter=Oe,Oe.usingDomains=!1,Oe.prototype.domain=void 0,Oe.prototype._events=void 0,Oe.prototype._maxListeners=void 0,Oe.defaultMaxListeners=10,Oe.init=function(){this.domain=null,Oe.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new xe,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Oe.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Oe.prototype.getMaxListeners=function(){return Pe(this)},Oe.prototype.emit=function(e){var t,n,r,o,i,s,a,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(t=arguments[1],!a){if(t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(n=s[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=Ue(e,r),i=0;i<r;++i)o[i].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=Ue(e,o),s=0;s<o;++s)i[s].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,s=Ue(e,i),a=0;a<i;++a)s[a].call(n,r,o)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var s=e.length,a=Ue(e,s),c=0;c<s;++c)a[c].call(n,r,o,i)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=Ue(e,o),s=0;s<o;++s)i[s].apply(n,r)}(n,u,this,o)}return!0},Oe.prototype.addListener=function(e,t){return De(this,e,t,!1)},Oe.prototype.on=Oe.prototype.addListener,Oe.prototype.prependListener=function(e,t){return De(this,e,t,!0)},Oe.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Me(this,e,t)),this},Oe.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Me(this,e,t)),this},Oe.prototype.removeListener=function(e,t){var n,r,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new xe:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new xe,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o);r.removeListener&&this.emit("removeListener",e,s||t)}return this},Oe.prototype.off=function(e,t){return this.removeListener(e,t)},Oe.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new xe,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new xe:delete n[e]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new xe,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Oe.prototype.listeners=function(e){var t,n,r=this._events;return n=r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[],n},Oe.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ke.call(e,t)},Oe.prototype.listenerCount=ke,Oe.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};const Fe={},Be={},je=(e,t)=>{Be[e]=t},He=e=>{class t extends Error{constructor(n,r,o){if(super(n||e,o),Object.setPrototypeOf(this,t.prototype),this.name=e,r)for(const e in r)this[e]=r[e];if(o&&"object"==typeof o&&"cause"in o&&!("cause"in this)){const e=o.cause;this.cause=e,"stack"in e&&(this.stack=this.stack+"\nCAUSE: "+e.stack)}}}return Fe[e]=t,t};const Ge=e=>{if(e&&"object"==typeof e){try{if("string"==typeof e.message){const t=JSON.parse(e.message);t.message&&t.name&&(e=t)}}catch(e){}let t;if("string"==typeof e.name){const{name:n}=e,r=Be[n];if(r)t=r(e);else{let r="Error"===n?Error:Fe[n];r||(console.warn("deserializing an unknown class '"+n+"'"),r=He(n)),t=Object.create(r.prototype);try{for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}catch(e){}}}else"string"==typeof e.message&&(t=new Error(e.message));return t&&!t.stack&&Error.captureStackTrace&&Error.captureStackTrace(t,Ge),t}return new Error(String(e))};function We(e,t){const n={};t.push(e);for(const r of Object.keys(e)){const o=e[r];"function"!=typeof o&&(o&&"object"==typeof o?-1!==t.indexOf(e[r])?n[r]="[Circular]":n[r]=We(e[r],t.slice(0)):n[r]=o)}return"string"==typeof e.name&&(n.name=e.name),"string"==typeof e.message&&(n.message=e.message),"string"==typeof e.stack&&(n.stack=e.stack),n}const ze=He("AccountNameRequired"),Ye=He("AccountNotSupported"),qe=He("AccountAwaitingSendPendingOperations"),Qe=He("AmountRequired"),Xe=He("BluetoothRequired"),Ve=He("BtcUnmatchedApp"),Je=He("CantOpenDevice"),Ke=He("CashAddrNotSupported"),$e=He("ClaimRewardsFeesWarning"),Ze=He("CurrencyNotSupported"),et=He("DeviceAppVerifyNotSupported"),tt=He("DeviceGenuineSocketEarlyClose"),nt=He("DeviceNotGenuine"),rt=He("DeviceOnDashboardExpected"),ot=He("DeviceOnDashboardUnexpected"),it=He("DeviceInOSUExpected"),st=He("DeviceHalted"),at=He("DeviceNameInvalid"),ct=He("DeviceSocketFail"),lt=He("DeviceSocketNoBulkStatus"),ut=He("DeviceSocketNoBulkStatus"),ft=He("UnresponsiveDeviceError"),ht=He("DisconnectedDevice"),dt=He("DisconnectedDeviceDuringOperation"),pt=He("DeviceExtractOnboardingStateError"),gt=He("DeviceOnboardingStatePollingError"),_t=He("EnpointConfig"),vt=He("EthAppPleaseEnableContractData"),mt=He("FeeEstimationFailed"),Et=He("FirmwareNotRecognized"),yt=He("HardResetFail"),wt=He("InvalidXRPTag"),At=He("InvalidAddress"),bt=He("InvalidNonce"),It=He("InvalidAddressBecauseDestinationIsAlsoSource"),Lt=He("LatestMCUInstalledError"),Nt=He("UnknownMCU"),St=He("LedgerAPIError"),Ct=He("LedgerAPIErrorWithMessage"),Rt=He("LedgerAPINotAvailable"),Tt=He("ManagerAppAlreadyInstalled"),xt=He("ManagerAppRelyOnBTC"),Ot=He("ManagerAppDepInstallRequired"),Pt=He("ManagerAppDepUninstallRequired"),Dt=He("ManagerDeviceLocked"),Mt=He("ManagerFirmwareNotEnoughSpace"),kt=He("ManagerNotEnoughSpace"),Ut=He("ManagerUninstallBTCDep"),Ft=He("NetworkDown"),Bt=He("NetworkError"),jt=He("NoAddressesFound"),Ht=He("NotEnoughBalance"),Gt=He("NotEnoughBalanceSwap"),Wt=He("NotEnoughBalanceToDelegate"),zt=He("NotEnoughBalanceInParentAccount"),Yt=He("NotEnoughSpendableBalance"),qt=He("NotEnoughBalanceBecauseDestinationNotCreated"),Qt=He("NoAccessToCamera"),Xt=He("NotEnoughGas"),Vt=He("NotEnoughGasSwap"),Jt=He("TronEmptyAccount"),Kt=He("MaybeKeepTronAccountAlive"),$t=He("NotSupportedLegacyAddress"),Zt=He("GasLessThanEstimate"),en=He("PriorityFeeTooLow"),tn=He("PriorityFeeTooHigh"),nn=He("PriorityFeeHigherThanMaxFee"),rn=He("MaxFeeTooLow"),on=He("PasswordsDontMatch"),sn=He("PasswordIncorrect"),an=He("RecommendSubAccountsToEmpty"),cn=He("RecommendUndelegation"),ln=He("TimeoutTagged"),un=He("UnexpectedBootloader"),fn=He("MCUNotGenuineToDashboard"),hn=He("RecipientRequired"),dn=He("UnavailableTezosOriginatedAccountReceive"),pn=He("UnavailableTezosOriginatedAccountSend"),gn=He("UpdateFetchFileFail"),_n=He("UpdateIncorrectHash"),vn=He("UpdateIncorrectSig"),mn=He("UpdateYourApp"),En=He("UserRefusedDeviceNameChange"),yn=He("UserRefusedAddress"),wn=He("UserRefusedFirmwareUpdate"),An=He("UserRefusedAllowManager"),bn=He("UserRefusedOnDevice"),In=He("ExpertModeRequired"),Ln=He("TransportOpenUserCancelled"),Nn=He("TransportInterfaceNotAvailable"),Sn=He("TransportRaceCondition"),Cn=He("TransportWebUSBGestureRequired"),Rn=He("TransactionHasBeenValidatedError"),Tn=He("TransportExchangeTimeoutError"),xn=He("DeviceShouldStayInApp"),On=He("WebsocketConnectionError"),Pn=He("WebsocketConnectionFailed"),Dn=He("WrongDeviceForAccount"),Mn=He("WrongDeviceForAccountPayout"),kn=He("WrongDeviceForAccountRefund"),Un=He("WrongAppForCurrency"),Fn=He("ETHAddressNonEIP"),Bn=He("CantScanQRCode"),jn=He("FeeNotLoaded"),Hn=He("FeeNotLoadedSwap"),Gn=He("FeeRequired"),Wn=He("FeeTooHigh"),zn=He("PendingOperation"),Yn=He("SyncError"),qn=He("PairingFailed"),Qn=He("PeerRemovedPairing"),Xn=He("GenuineCheckFailed"),Vn=He("LedgerAPI4xx"),Jn=He("LedgerAPI5xx"),Kn=He("FirmwareOrAppUpdateRequired"),$n=He("ReplacementTransactionUnderpriced"),Zn=He("OpReturnSizeLimit"),er=He("DustLimit"),tr=He("LanguageNotFound"),nr=He("NoDBPathGiven"),rr=He("DBWrongPassword"),or=He("DBNotReset"),ir=He("SequenceNumberError"),sr=He("DisabledTransactionBroadcastError");var ar;!function(e){e.Unknown="Unknown",e.LocationServicesDisabled="LocationServicesDisabled",e.LocationServicesUnauthorized="LocationServicesUnauthorized",e.BluetoothScanStartFailed="BluetoothScanStartFailed"}(ar||(ar={}));class cr extends Error{constructor(e,t){super(t),this.name="HwTransportError",this.type=e,Object.setPrototypeOf(this,cr.prototype)}}class lr extends Error{constructor(e,t){const n="TransportError";super(e||n),this.name=n,this.message=e,this.stack=new Error(e).stack,this.id=t}}je("TransportError",(e=>new lr(e.message,e.id)));const ur={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698};function fr(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}class hr extends Error{constructor(e,{canBeMappedToChildError:t=!0}={}){const n=Object.keys(ur).find((t=>ur[t]===e))||"UNKNOWN_ERROR",r=`Ledger device: ${fr(e)||n} (0x${e.toString(16)})`;if(super(r),this.name="TransportStatusError",this.statusCode=e,this.statusText=n,Object.setPrototypeOf(this,hr.prototype),t&&e===ur.LOCKED_DEVICE)return new dr(r)}}class dr extends hr{constructor(e){super(ur.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,dr.prototype)}}je("TransportStatusError",(e=>new hr(e.statusCode)));var pr=Object.freeze({__proto__:null,AccountAwaitingSendPendingOperations:qe,AccountNameRequiredError:ze,AccountNotSupported:Ye,AmountRequired:Qe,BluetoothRequired:Xe,BtcUnmatchedApp:Ve,CantOpenDevice:Je,CantScanQRCode:Bn,CashAddrNotSupported:Ke,ClaimRewardsFeesWarning:$e,CurrencyNotSupported:Ze,DBNotReset:or,DBWrongPassword:rr,DeviceAppVerifyNotSupported:et,DeviceExtractOnboardingStateError:pt,DeviceGenuineSocketEarlyClose:tt,DeviceHalted:st,DeviceInOSUExpected:it,DeviceNameInvalid:at,DeviceNeedsRestart:ut,DeviceNotGenuineError:nt,DeviceOnDashboardExpected:rt,DeviceOnDashboardUnexpected:ot,DeviceOnboardingStatePollingError:gt,DeviceShouldStayInApp:xn,DeviceSocketFail:ct,DeviceSocketNoBulkStatus:lt,DisabledTransactionBroadcastError:sr,DisconnectedDevice:ht,DisconnectedDeviceDuringOperation:dt,DustLimit:er,ETHAddressNonEIP:Fn,EnpointConfigError:_t,EthAppPleaseEnableContractData:vt,ExpertModeRequired:In,FeeEstimationFailed:mt,FeeNotLoaded:jn,FeeNotLoadedSwap:Hn,FeeRequired:Gn,FeeTooHigh:Wn,FirmwareNotRecognized:Et,FirmwareOrAppUpdateRequired:Kn,GasLessThanEstimate:Zt,GenuineCheckFailed:Xn,HardResetFail:yt,HwTransportError:cr,get HwTransportErrorType(){return ar},InvalidAddress:At,InvalidAddressBecauseDestinationIsAlsoSource:It,InvalidNonce:bt,InvalidXRPTag:wt,LanguageNotFound:tr,LatestMCUInstalledError:Lt,LedgerAPI4xx:Vn,LedgerAPI5xx:Jn,LedgerAPIError:St,LedgerAPIErrorWithMessage:Ct,LedgerAPINotAvailable:Rt,LockedDeviceError:dr,MCUNotGenuineToDashboard:fn,ManagerAppAlreadyInstalledError:Tt,ManagerAppDepInstallRequired:Ot,ManagerAppDepUninstallRequired:Pt,ManagerAppRelyOnBTCError:xt,ManagerDeviceLockedError:Dt,ManagerFirmwareNotEnoughSpaceError:Mt,ManagerNotEnoughSpaceError:kt,ManagerUninstallBTCDep:Ut,MaxFeeTooLow:rn,MaybeKeepTronAccountAlive:Kt,NetworkDown:Ft,NetworkError:Bt,NoAccessToCamera:Qt,NoAddressesFound:jt,NoDBPathGiven:nr,NotEnoughBalance:Ht,NotEnoughBalanceBecauseDestinationNotCreated:qt,NotEnoughBalanceInParentAccount:zt,NotEnoughBalanceSwap:Gt,NotEnoughBalanceToDelegate:Wt,NotEnoughGas:Xt,NotEnoughGasSwap:Vt,NotEnoughSpendableBalance:Yt,NotSupportedLegacyAddress:$t,OpReturnDataSizeLimit:Zn,PairingFailed:qn,PasswordIncorrectError:sn,PasswordsDontMatchError:on,PeerRemovedPairing:Qn,PendingOperation:zn,PriorityFeeHigherThanMaxFee:nn,PriorityFeeTooHigh:tn,PriorityFeeTooLow:en,RecipientRequired:hn,RecommendSubAccountsToEmpty:an,RecommendUndelegation:cn,ReplacementTransactionUnderpriced:$n,SequenceNumberError:ir,StatusCodes:ur,SyncError:Yn,TimeoutTagged:ln,TransactionHasBeenValidatedError:Rn,TransportError:lr,TransportExchangeTimeoutError:Tn,TransportInterfaceNotAvailable:Nn,TransportOpenUserCancelled:Ln,TransportRaceCondition:Sn,TransportStatusError:hr,TransportWebUSBGestureRequired:Cn,TronEmptyAccount:Jt,UnavailableTezosOriginatedAccountReceive:dn,UnavailableTezosOriginatedAccountSend:pn,UnexpectedBootloader:un,UnknownMCU:Nt,UnresponsiveDeviceError:ft,UpdateFetchFileFail:gn,UpdateIncorrectHash:_n,UpdateIncorrectSig:vn,UpdateYourApp:mn,UserRefusedAddress:yn,UserRefusedAllowManager:An,UserRefusedDeviceNameChange:En,UserRefusedFirmwareUpdate:wn,UserRefusedOnDevice:bn,WebsocketConnectionError:On,WebsocketConnectionFailed:Pn,WrongAppForCurrency:Un,WrongDeviceForAccount:Dn,WrongDeviceForAccountPayout:Mn,WrongDeviceForAccountRefund:kn,addCustomErrorDeserializer:je,createCustomErrorClass:He,deserializeError:Ge,getAltStatusMessage:fr,serializeError:e=>e?"object"==typeof e?We(e,[]):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e:e}),gr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},_r=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},vr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},mr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Er=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yr=function(){function e(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Oe,this.send=function(t,n,r,o,i,s){return void 0===i&&(i=Buffer.alloc(0)),void 0===s&&(s=[ur.OK]),gr(e,void 0,void 0,(function(){var e,a;return _r(this,(function(c){switch(c.label){case 0:if(i.length>=256)throw new lr("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(Buffer.concat([Buffer.from([t,n,r,o]),Buffer.from([i.length]),i]))];case 1:if(e=c.sent(),a=e.readUInt16BE(e.length-2),!s.some((function(e){return e===a})))throw new hr(a);return[2,e]}}))}))},this.exchangeAtomicImpl=function(t){return gr(e,void 0,void 0,(function(){var e,n,r,o,i,s=this;return _r(this,(function(a){switch(a.label){case 0:if(this.exchangeBusyPromise)throw new Sn("An action was already pending on the Ledger device. Please deny or reconnect.");n=new Promise((function(t){e=t})),this.exchangeBusyPromise=n,r=!1,o=setTimeout((function(){r=!0,s.emit("unresponsive")}),this.unresponsiveTimeout),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,t()];case 2:return i=a.sent(),r&&this.emit("responsive"),[2,i];case 3:return clearTimeout(o),e&&e(),this.exchangeBusyPromise=null,[7];case 4:return[2]}}))}))},this._appAPIlock=null}return e.prototype.exchange=function(e){throw new Error("exchange not implemented")},e.prototype.setScrambleKey=function(e){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.removeListener(e,t)},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this._events).emit.apply(t,mr([e],vr(n),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},e.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},e.create=function(e,t){var n=this;return void 0===e&&(e=3e3),new Promise((function(r,o){var i=!1,s=n.listen({next:function(t){i=!0,s&&s.unsubscribe(),a&&clearTimeout(a),n.open(t.descriptor,e).then(r,o)},error:function(e){a&&clearTimeout(a),o(e)},complete:function(){a&&clearTimeout(a),i||o(new lr(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),a=t?setTimeout((function(){s.unsubscribe(),o(new lr(n.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))},e.prototype.decorateAppAPIMethods=function(e,t,n){var r,o;try{for(var i=Er(t),s=i.next();!s.done;s=i.next()){var a=s.value;e[a]=this.decorateAppAPIMethod(a,e[a],e,n)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e.prototype.decorateAppAPIMethod=function(e,t,n,r){var o=this;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return gr(o,void 0,void 0,(function(){var o;return _r(this,(function(s){switch(s.label){case 0:if(o=this._appAPIlock)return[2,Promise.reject(new lr("Ledger Device is busy (lock "+o+")","TransportLocked"))];s.label=1;case 1:return s.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(r),[4,t.apply(n,i)];case 2:return[2,s.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}}))}))}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),wr={},Ar=n(pr);!function(e){e.__esModule=!0;var t=Ar;function n(e){var t=Buffer.alloc(2);return t.writeUInt16BE(e,0),t}var r={data:Buffer.alloc(0),dataLength:0,sequence:0};e.default=function(e,o){return{makeBlocks:function(t){var r=Buffer.concat([n(t.length),t]),i=o-5,s=Math.ceil(r.length/i);r=Buffer.concat([r,Buffer.alloc(s*i-r.length+1).fill(0)]);for(var a=[],c=0;c<s;c++){var l=Buffer.alloc(5);l.writeUInt16BE(e,0),l.writeUInt8(5,2),l.writeUInt16BE(c,3);var u=r.slice(c*i,(c+1)*i);a.push(Buffer.concat([l,u]))}return a},reduceResponse:function(n,o){var i=n||r,s=i.data,a=i.dataLength,c=i.sequence;if(o.readUInt16BE(0)!==e)throw new t.TransportError("Invalid channel","InvalidChannel");if(5!==o.readUInt8(2))throw new t.TransportError("Invalid tag","InvalidTag");if(o.readUInt16BE(3)!==c)throw new t.TransportError("Invalid sequence","InvalidSequence");n||(a=o.readUInt16BE(5)),c++;var l=o.slice(n?5:7);return(s=Buffer.concat([s,l])).length>a&&(s=s.slice(0,a)),{data:s,dataLength:a,sequence:c}},getReducedResult:function(e){if(e&&e.dataLength===e.data.length)return e.data}}}}(wr);var br=t(wr),Ir={exports:{}};var Lr={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};var Nr="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=Lr,i=Nr,s=(t=e.exports={}).re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[f,r]],d=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=u++;i(e,o,t),l[e]=o,c[o]=t,s[o]=new RegExp(t,n?"g":void 0),a[o]=new RegExp(r,n?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),d("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${f}+`),d("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),d("FULL",`^${c[l.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),d("LOOSE",`^${c[l.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),d("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?`+`(?:${c[l.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",c[l.COERCE],!0),d("COERCERTLFULL",c[l.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Ir,Ir.exports);var Sr=Ir.exports;const Cr=Object.freeze({loose:!0}),Rr=Object.freeze({});var Tr=e=>e?"object"!=typeof e?Cr:e:Rr;const xr=/^[0-9]+$/,Or=(e,t)=>{const n=xr.test(e),r=xr.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var Pr={compareIdentifiers:Or,rcompareIdentifiers:(e,t)=>Or(t,e)};const Dr=Nr,{MAX_LENGTH:Mr,MAX_SAFE_INTEGER:kr}=Lr,{safeRe:Ur,t:Fr}=Sr,Br=Tr,{compareIdentifiers:jr}=Pr;var Hr=class e{constructor(t,n){if(n=Br(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Mr)throw new TypeError(`version is longer than ${Mr} characters`);Dr("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Ur[Fr.LOOSE]:Ur[Fr.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>kr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kr||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<kr)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Dr("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),jr(this.major,t.major)||jr(this.minor,t.minor)||jr(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const e=this.prerelease[n],r=t.prerelease[n];if(Dr("prerelease compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return jr(e,r)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{const e=this.build[n],r=t.build[n];if(Dr("build compare",n,e,r),void 0===e&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===e)return-1;if(e!==r)return jr(e,r)}while(++n)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===jr(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Gr=Hr;var Wr=(e,t,n=!1)=>{if(e instanceof Gr)return e;try{return new Gr(e,t)}catch(e){if(!n)return null;throw e}};const zr=Wr;var Yr=(e,t)=>{const n=zr(e,t);return n?n.version:null};const qr=Wr;var Qr=(e,t)=>{const n=qr(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};const Xr=Hr;var Vr=(e,t,n,r,o)=>{"string"==typeof n&&(o=r,r=n,n=void 0);try{return new Xr(e instanceof Xr?e.version:e,n).inc(t,r,o).version}catch(e){return null}};const Jr=Wr;var Kr=(e,t)=>{const n=Jr(e,null,!0),r=Jr(t,null,!0),o=n.compare(r);if(0===o)return null;const i=o>0,s=i?n:r,a=i?r:n,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return a.patch||a.minor?s.patch?"patch":s.minor?"minor":"major":"major";const l=c?"pre":"";return n.major!==r.major?l+"major":n.minor!==r.minor?l+"minor":n.patch!==r.patch?l+"patch":"prerelease"};const $r=Hr;var Zr=(e,t)=>new $r(e,t).major;const eo=Hr;var to=(e,t)=>new eo(e,t).minor;const no=Hr;var ro=(e,t)=>new no(e,t).patch;const oo=Wr;var io=(e,t)=>{const n=oo(e,t);return n&&n.prerelease.length?n.prerelease:null};const so=Hr;var ao=(e,t,n)=>new so(e,n).compare(new so(t,n));const co=ao;var lo=(e,t,n)=>co(t,e,n);const uo=ao;var fo=(e,t)=>uo(e,t,!0);const ho=Hr;var po=(e,t,n)=>{const r=new ho(e,n),o=new ho(t,n);return r.compare(o)||r.compareBuild(o)};const go=po;var _o=(e,t)=>e.sort(((e,n)=>go(e,n,t)));const vo=po;var mo=(e,t)=>e.sort(((e,n)=>vo(n,e,t)));const Eo=ao;var yo=(e,t,n)=>Eo(e,t,n)>0;const wo=ao;var Ao=(e,t,n)=>wo(e,t,n)<0;const bo=ao;var Io=(e,t,n)=>0===bo(e,t,n);const Lo=ao;var No=(e,t,n)=>0!==Lo(e,t,n);const So=ao;var Co=(e,t,n)=>So(e,t,n)>=0;const Ro=ao;var To=(e,t,n)=>Ro(e,t,n)<=0;const xo=Io,Oo=No,Po=yo,Do=Co,Mo=Ao,ko=To;var Uo=(e,t,n,r)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return xo(e,n,r);case"!=":return Oo(e,n,r);case">":return Po(e,n,r);case">=":return Do(e,n,r);case"<":return Mo(e,n,r);case"<=":return ko(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};const Fo=Hr,Bo=Wr,{safeRe:jo,t:Ho}=Sr;var Go=(e,t)=>{if(e instanceof Fo)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?jo[Ho.COERCERTLFULL]:jo[Ho.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?jo[Ho.COERCEFULL]:jo[Ho.COERCE]);if(null===n)return null;const r=n[2],o=n[3]||"0",i=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",a=t.includePrerelease&&n[6]?`+${n[6]}`:"";return Bo(`${r}.${o}.${i}${s}${a}`,t)};var Wo,zo,Yo,qo,Qo=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}};function Xo(){if(zo)return Wo;zo=1;const e=/\s+/g;class t{constructor(n,i){if(i=r(i),n instanceof t)return n.loose===!!i.loose&&n.includePrerelease===!!i.includePrerelease?n:new t(n.raw,i);if(n instanceof o)return this.raw=n.value,this.set=[[n]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=n.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+e,r=n.get(t);if(r)return r;const s=this.options.loose,g=s?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(g,S(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],l),i("comparator trim",e),e=e.replace(a[c.TILDETRIM],u),i("tilde trim",e),e=e.replace(a[c.CARETTRIM],f),i("caret trim",e);let _=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options)));s&&(_=_.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(a[c.COMPARATORLOOSE]))))),i("range list",_);const m=new Map,E=_.map((e=>new o(e,this.options)));for(const e of E){if(p(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const y=[...m.values()];return n.set(t,y),y}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>_(t,n)&&e.set.some((e=>_(e,n)&&t.every((t=>e.every((e=>t.intersects(e,n)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1}}Wo=t;const n=new Qo,r=Tr,o=Vo(),i=Nr,s=Hr,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:f}=Sr,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=Lr,p=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,_=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},v=(e,t)=>(i("comp",e,t),e=w(e,t),i("caret",e),e=E(e,t),i("tildes",e),e=b(e,t),i("xrange",e),e=L(e,t),i("stars",e),e),m=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>y(e,t))).join(" "),y=(e,t)=>{const n=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(n,((t,n,r,o,s)=>{let a;return i("tilde",e,t,n,r,o,s),m(n)?a="":m(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:m(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:s?(i("replaceTilde pr",s),a=`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,i("tilde return",a),a}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>A(e,t))).join(" "),A=(e,t)=>{i("caret",e,t);const n=t.loose?a[c.CARETLOOSE]:a[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,s,a)=>{let c;return i("caret",e,t,n,o,s,a),m(n)?c="":m(o)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:m(s)?c="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(i("replaceCaret pr",a),c="0"===n?"0"===o?`>=${n}.${o}.${s}-${a} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s}-${a} <${+n+1}.0.0-0`):(i("no pr"),c="0"===n?"0"===o?`>=${n}.${o}.${s}${r} <${n}.${o}.${+s+1}-0`:`>=${n}.${o}.${s}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${s} <${+n+1}.0.0-0`),i("caret return",c),c}))},b=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const n=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(n,((n,r,o,s,a,c)=>{i("xRange",e,n,r,o,s,a,c);const l=m(o),u=l||m(s),f=u||m(a),h=f;return"="===r&&h&&(r=""),c=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(s=0),a=0,">"===r?(r=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===r&&(r="<",u?o=+o+1:s=+s+1),"<"===r&&(c="-0"),n=`${r+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),i("xRange return",n),n}))},L=(e,t)=>(i("replaceStars",e,t),e.trim().replace(a[c.STAR],"")),N=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),S=e=>(t,n,r,o,i,s,a,c,l,u,f,h)=>`${n=m(r)?"":m(o)?`>=${r}.0.0${e?"-0":""}`:m(i)?`>=${r}.${o}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=m(l)?"":m(u)?`<${+l+1}.0.0-0`:m(f)?`<${l}.${+u+1}.0-0`:h?`<=${l}.${u}.${f}-${h}`:e?`<${l}.${u}.${+f+1}-0`:`<=${c}`}`.trim(),C=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(i(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0};return Wo}function Vo(){if(qo)return Yo;qo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(r,o){if(o=n(o),r instanceof t){if(r.loose===!!o.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),s("comparator",r,o),this.options=o,this.loose=!!o.loose,this.parse(r),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(t){const n=this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR],i=t.match(n);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new a(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(s("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch(e){return!1}return i(t,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,r).test(this.value):""===e.operator?""===e.value||new c(this.value,r).test(e.semver):(!(r=n(r)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}Yo=t;const n=Tr,{safeRe:r,t:o}=Sr,i=Uo,s=Nr,a=Hr,c=Xo();return Yo}const Jo=Xo();var Ko=(e,t,n)=>{try{t=new Jo(t,n)}catch(e){return!1}return t.test(e)};const $o=Xo();var Zo=(e,t)=>new $o(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));const ei=Hr,ti=Xo();var ni=(e,t,n)=>{let r=null,o=null,i=null;try{i=new ti(t,n)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(r&&-1!==o.compare(e)||(r=e,o=new ei(r,n)))})),r};const ri=Hr,oi=Xo();var ii=(e,t,n)=>{let r=null,o=null,i=null;try{i=new oi(t,n)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(r&&1!==o.compare(e)||(r=e,o=new ri(r,n)))})),r};const si=Hr,ai=Xo(),ci=yo;var li=(e,t)=>{e=new ai(e,t);let n=new si("0.0.0");if(e.test(n))return n;if(n=new si("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let o=null;r.forEach((e=>{const t=new si(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!ci(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||n&&!ci(n,o)||(n=o)}return n&&e.test(n)?n:null};const ui=Xo();var fi=(e,t)=>{try{return new ui(e,t).range||"*"}catch(e){return null}};const hi=Hr,di=Vo(),{ANY:pi}=di,gi=Xo(),_i=Ko,vi=yo,mi=Ao,Ei=To,yi=Co;var wi=(e,t,n,r)=>{let o,i,s,a,c;switch(e=new hi(e,r),t=new gi(t,r),n){case">":o=vi,i=Ei,s=mi,a=">",c=">=";break;case"<":o=mi,i=yi,s=vi,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_i(e,t,r))return!1;for(let n=0;n<t.set.length;++n){const l=t.set[n];let u=null,f=null;if(l.forEach((e=>{e.semver===pi&&(e=new di(">=0.0.0")),u=u||e,f=f||e,o(e.semver,u.semver,r)?u=e:s(e.semver,f.semver,r)&&(f=e)})),u.operator===a||u.operator===c)return!1;if((!f.operator||f.operator===a)&&i(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0};const Ai=wi;var bi=(e,t,n)=>Ai(e,t,">",n);const Ii=wi;var Li=(e,t,n)=>Ii(e,t,"<",n);const Ni=Xo();var Si=(e,t,n)=>(e=new Ni(e,n),t=new Ni(t,n),e.intersects(t,n));const Ci=Ko,Ri=ao;const Ti=Xo(),xi=Vo(),{ANY:Oi}=xi,Pi=Ko,Di=ao,Mi=[new xi(">=0.0.0-0")],ki=[new xi(">=0.0.0")],Ui=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===Oi){if(1===t.length&&t[0].semver===Oi)return!0;e=n.includePrerelease?Mi:ki}if(1===t.length&&t[0].semver===Oi){if(n.includePrerelease)return!0;t=ki}const r=new Set;let o,i,s,a,c,l,u;for(const t of e)">"===t.operator||">="===t.operator?o=Fi(o,t,n):"<"===t.operator||"<="===t.operator?i=Bi(i,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&i){if(s=Di(o.semver,i.semver,n),s>0)return null;if(0===s&&(">="!==o.operator||"<="!==i.operator))return null}for(const e of r){if(o&&!Pi(e,String(o),n))return null;if(i&&!Pi(e,String(i),n))return null;for(const r of t)if(!Pi(e,String(r),n))return!1;return!0}let f=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver,h=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;f&&1===f.prerelease.length&&"<"===i.operator&&0===f.prerelease[0]&&(f=!1);for(const e of t){if(u=u||">"===e.operator||">="===e.operator,l=l||"<"===e.operator||"<="===e.operator,o)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),">"===e.operator||">="===e.operator){if(a=Fi(o,e,n),a===e&&a!==o)return!1}else if(">="===o.operator&&!Pi(o.semver,String(e),n))return!1;if(i)if(f&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===f.major&&e.semver.minor===f.minor&&e.semver.patch===f.patch&&(f=!1),"<"===e.operator||"<="===e.operator){if(c=Bi(i,e,n),c===e&&c!==i)return!1}else if("<="===i.operator&&!Pi(i.semver,String(e),n))return!1;if(!e.operator&&(i||o)&&0!==s)return!1}return!(o&&l&&!i&&0!==s)&&(!(i&&u&&!o&&0!==s)&&(!h&&!f))},Fi=(e,t,n)=>{if(!e)return t;const r=Di(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},Bi=(e,t,n)=>{if(!e)return t;const r=Di(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};var ji=(e,t,n={})=>{if(e===t)return!0;e=new Ti(e,n),t=new Ti(t,n);let r=!1;e:for(const o of e.set){for(const e of t.set){const t=Ui(o,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0};const Hi=Sr,Gi=Lr,Wi=Hr,zi=Pr,Yi=(e,t,n)=>{const r=[];let o=null,i=null;const s=e.sort(((e,t)=>Ri(e,t,n)));for(const e of s){Ci(e,t,n)?(i=e,o||(o=e)):(i&&r.push([o,i]),i=null,o=null)}o&&r.push([o,null]);const a=[];for(const[e,t]of r)e===t?a.push(e):t||e!==s[0]?t?e===s[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const c=a.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return c.length<l.length?c:t};var qi,Qi,Xi=t({parse:Wr,valid:Yr,clean:Qr,inc:Vr,diff:Kr,major:Zr,minor:to,patch:ro,prerelease:io,compare:ao,rcompare:lo,compareLoose:fo,compareBuild:po,sort:_o,rsort:mo,gt:yo,lt:Ao,eq:Io,neq:No,gte:Co,lte:To,cmp:Uo,coerce:Go,Comparator:Vo(),Range:Xo(),satisfies:Ko,toComparators:Zo,maxSatisfying:ni,minSatisfying:ii,minVersion:li,validRange:fi,outside:wi,gtr:bi,ltr:Li,intersects:Si,simplifyRange:Yi,subset:ji,SemVer:Wi,re:Hi.re,src:Hi.src,tokens:Hi.t,SEMVER_SPEC_VERSION:Gi.SEMVER_SPEC_VERSION,RELEASE_TYPES:Gi.RELEASE_TYPES,compareIdentifiers:zi.compareIdentifiers,rcompareIdentifiers:zi.rcompareIdentifiers}),Vi=function(){return Vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vi.apply(this,arguments)};!function(e){e.blue="blue",e.nanoS="nanoS",e.nanoSP="nanoSP",e.nanoX="nanoX",e.nanoFTS="nanoFTS"}(Qi||(Qi={}));var Ji=((qi={})[Qi.blue]={id:Qi.blue,productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:function(e){return 4096}},qi[Qi.nanoS]={id:Qi.nanoS,productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:function(e){var t;return Xi.lt(null!==(t=Xi.coerce(e))&&void 0!==t?t:"","2.0.0")?4096:2048}},qi[Qi.nanoSP]={id:Qi.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1572864,masks:[856686592],getBlockSize:function(e){return 32}},qi[Qi.nanoX]={id:Qi.nanoX,productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:function(e){return 4096},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},qi[Qi.nanoFTS]={id:Qi.nanoFTS,productName:"LedgerNanoFTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:2097152,masks:[857735168],getBlockSize:function(e){return 4096},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},qi);Qi.blue,Qi.nanoS,Qi.nanoSP,Qi.nanoX,Qi.nanoFTS;var Ki=Object.values(Ji),$i=11415,Zi=function(e){var t=Ki.find((function(t){return t.legacyUsbProductId===e}));if(t)return t;var n=e>>8,r=Ki.find((function(e){return e.productIdMM===n}));return r},es=[],ts={};for(var ns in Ji){var rs=Ji[ns],os=rs.bluetoothSpec;if(os)for(var is=0;is<os.length;is++){var ss=os[is];es.push(ss.serviceUuid),ts[ss.serviceUuid]=ts[ss.serviceUuid.replace(/-/g,"")]=Vi({deviceModel:rs},ss)}}let as=0;const cs=[],ls=(e,t,n)=>{const r={type:e,id:String(++as),date:new Date};t&&(r.message=t),function(e){for(let t=0;t<cs.length;t++)try{cs[t](e)}catch(e){console.error(e)}}(r)},us=e=>(cs.push(e),()=>{const t=cs.indexOf(e);-1!==t&&(cs[t]=cs[cs.length-1],cs.pop())});"undefined"!=typeof window&&(window.__ledgerLogsListen=us);var fs,hs=(fs=function(e,t){return fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fs(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ds=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},ps=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},gs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},_s=[{vendorId:$i}],vs=function(){return Promise.resolve(!(!window.navigator||!window.navigator.hid))},ms=function(){var e=navigator.hid;if(!e)throw new lr("navigator.hid is not supported","HIDNotSupported");return e};function Es(){return ds(this,void 0,void 0,(function(){var e;return ps(this,(function(t){switch(t.label){case 0:return[4,ms().requestDevice({filters:_s})];case 1:return e=t.sent(),Array.isArray(e)?[2,e]:[2,[e]]}}))}))}function ys(){return ds(this,void 0,void 0,(function(){return ps(this,(function(e){switch(e.label){case 0:return[4,ms().getDevices()];case 1:return[2,e.sent().filter((function(e){return e.vendorId===$i}))]}}))}))}var ws,As,bs,Is,Ls,Ns,Ss,Cs,Rs,Ts,xs,Os,Ps=function(e){function t(t){var n=e.call(this)||this;return n.channel=Math.floor(65535*Math.random()),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise((function(e){n.inputCallback=e}))},n.onInputReport=function(e){var t=Buffer.from(e.data.buffer);n.inputCallback?(n.inputCallback(t),n.inputCallback=null):n.inputs.push(t)},n._disconnectEmitted=!1,n._emitDisconnect=function(e){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",e))},n.exchange=function(e){return ds(n,void 0,void 0,(function(){var t=this;return ps(this,(function(n){switch(n.label){case 0:return[4,this.exchangeAtomicImpl((function(){return ds(t,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l;return ps(this,(function(u){switch(u.label){case 0:n=(t=this).channel,r=t.packetSize,ls("apdu","=> "+e.toString("hex")),o=br(n,r),i=o.makeBlocks(e),s=0,u.label=1;case 1:return s<i.length?[4,this.device.sendReport(0,i[s])]:[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return(a=o.getReducedResult(c))?[3,6]:[4,this.read()];case 5:return l=u.sent(),c=o.reduceResponse(c,l),[3,4];case 6:return ls("apdu","<= "+a.toString("hex")),[2,a]}}))}))})).catch((function(e){if(e&&e.message&&e.message.includes("write"))throw t._emitDisconnect(e),new dt(e.message);throw e}))];case 1:return[2,n.sent()]}}))}))},n.device=t,n.deviceModel="number"==typeof t.productId?Zi(t.productId):void 0,t.addEventListener("inputreport",n.onInputReport),n}return hs(t,e),t.request=function(){return ds(this,void 0,void 0,(function(){var e,n;return ps(this,(function(r){switch(r.label){case 0:return[4,Es()];case 1:return e=gs.apply(void 0,[r.sent(),1]),n=e[0],[2,t.open(n)]}}))}))},t.openConnected=function(){return ds(this,void 0,void 0,(function(){var e;return ps(this,(function(n){switch(n.label){case 0:return[4,ys()];case 1:return 0===(e=n.sent()).length?[2,null]:[2,t.open(e[0])]}}))}))},t.open=function(e){return ds(this,void 0,void 0,(function(){var n,r;return ps(this,(function(o){switch(o.label){case 0:return[4,e.open()];case 1:return o.sent(),n=new t(e),r=function(t){e===t.device&&(ms().removeEventListener("disconnect",r),n._emitDisconnect(new ht))},ms().addEventListener("disconnect",r),[2,n]}}))}))},t.prototype.close=function(){return ds(this,void 0,void 0,(function(){return ps(this,(function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return e.sent(),[2]}}))}))},t.prototype.setScrambleKey=function(){},t.isSupported=vs,t.list=ys,t.listen=function(e){var t=!1;return function(){return ds(this,void 0,void 0,(function(){var e;return ps(this,(function(t){switch(t.label){case 0:return[4,ys()];case 1:return(e=t.sent()).length>0?[2,e[0]]:[4,Es()];case 2:return[2,t.sent()[0]]}}))}))}().then((function(n){if(n){if(!t){var r="number"==typeof n.productId?Zi(n.productId):void 0;e.next({type:"add",descriptor:n,deviceModel:r}),e.complete()}}else e.error(new Ln("Access denied to use Ledger device"))}),(function(t){e.error(new Ln(t.message))})),{unsubscribe:function(){t=!0}}},t}(yr),Ds=n(Object.freeze({__proto__:null,default:Ps})),Ms={},ks={},Us={},Fs={},Bs=[],js=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hs=Array.isArray;function Gs(e,t){for(var n in t)e[n]=t[n];return e}function Ws(e){var t=e.parentNode;t&&t.removeChild(e)}function zs(e,t,n){var r,o,i,s={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?ws.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return Ys(e,s,r,o,null)}function Ys(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++bs:o,__i:-1,__u:0};return null==o&&null!=As.vnode&&As.vnode(i),i}function qs(e){return e.children}function Qs(e,t){this.props=e,this.context=t}function Xs(e,t){if(null==t)return e.__?Xs(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Xs(e):null}function Vs(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Vs(e)}}function Js(e){(!e.__d&&(e.__d=!0)&&Ls.push(e)&&!Ks.__r++||Ns!==As.debounceRendering)&&((Ns=As.debounceRendering)||Ss)(Ks)}function Ks(){var e,t,n,r,o,i,s,a;for(Ls.sort(Cs);e=Ls.shift();)e.__d&&(t=Ls.length,r=void 0,i=(o=(n=e).__v).__e,s=[],a=[],n.__P&&((r=Gs({},o)).__v=o.__v+1,As.vnode&&As.vnode(r),ia(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,s,null==i?Xs(o):i,!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,sa(s,r,a),r.__e!=i&&Vs(r)),Ls.length>t&&Ls.sort(Cs));Ks.__r=0}function $s(e,t,n,r,o,i,s,a,c,l,u){var f,h,d,p,g,_=r&&r.__k||Bs,v=t.length;for(n.__d=c,Zs(n,t,_),c=n.__d,f=0;f<v;f++)null!=(d=n.__k[f])&&"boolean"!=typeof d&&"function"!=typeof d&&(h=-1===d.__i?Fs:_[d.__i]||Fs,d.__i=f,ia(e,d,h,o,i,s,a,c,l,u),p=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&ca(h.ref,null,d),u.push(d.ref,d.__c||p,d)),null==g&&null!=p&&(g=p),65536&d.__u||h.__k===d.__k?c=ea(d,c,e):"function"==typeof d.type&&void 0!==d.__d?c=d.__d:p&&(c=p.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=c,n.__e=g}function Zs(e,t,n){var r,o,i,s,a,c=t.length,l=n.length,u=l,f=0;for(e.__k=[],r=0;r<c;r++)s=r+f,null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?Ys(null,o,null,null,null):Hs(o)?Ys(qs,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?Ys(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,a=ta(o,n,s,u),o.__i=a,i=null,-1!==a&&(u--,(i=n[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&f--,"function"!=typeof o.type&&(o.__u|=65536)):a!==s&&(a==s-1?f=a-s:a==s+1?f++:a>s?u>c-s?f+=a-s:f--:a<s&&f++,a!==r+f&&(o.__u|=65536))):(i=n[s])&&null==i.key&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Xs(i)),la(i,i,!1),n[s]=null,u--);if(u)for(r=0;r<l;r++)null!=(i=n[r])&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Xs(i)),la(i,i))}function ea(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ea(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Xs(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function ta(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(null===c||c&&o==c.key&&i===c.type&&!(131072&c.__u))return n;if(r>(null==c||131072&c.__u?0:1))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function na(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||js.test(t)?n:n+"px"}function ra(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||na(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||na(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.t=r.t:(n.t=Rs,e.addEventListener(t,i?xs:Ts,i)):e.removeEventListener(t,i?xs:Ts,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function oa(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=Rs++;else if(t.u<n.t)return;return n(As.event?As.event(t):t)}}}function ia(e,t,n,r,o,i,s,a,c,l){var u,f,h,d,p,g,_,v,m,E,y,w,A,b,I,L,N=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(u=As.__b)&&u(t);e:if("function"==typeof N)try{if(v=t.props,m="prototype"in N&&N.prototype.render,E=(u=N.contextType)&&r[u.__c],y=u?E?E.props.value:u.__:r,n.__c?_=(f=t.__c=n.__c).__=f.__E:(m?t.__c=f=new N(v,y):(t.__c=f=new Qs(v,y),f.constructor=N,f.render=ua),E&&E.sub(f),f.props=v,f.state||(f.state={}),f.context=y,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),m&&null==f.__s&&(f.__s=f.state),m&&null!=N.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=Gs({},f.__s)),Gs(f.__s,N.getDerivedStateFromProps(v,f.__s))),d=f.props,p=f.state,f.__v=t,h)m&&null==N.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),m&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(m&&null==N.getDerivedStateFromProps&&v!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(v,y),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(v,f.__s,y)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=v,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),w=0;w<f._sb.length;w++)f.__h.push(f._sb[w]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(v,f.__s,y),m&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,p,g)}))}if(f.context=y,f.props=v,f.__P=e,f.__e=!1,A=As.__r,b=0,m){for(f.state=f.__s,f.__d=!1,A&&A(t),u=f.render(f.props,f.state,f.context),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[]}else do{f.__d=!1,A&&A(t),u=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++b<25);f.state=f.__s,null!=f.getChildContext&&(r=Gs(Gs({},r),f.getChildContext())),m&&!h&&null!=f.getSnapshotBeforeUpdate&&(g=f.getSnapshotBeforeUpdate(d,p)),$s(e,Hs(L=null!=u&&u.type===qs&&null==u.key?u.props.children:u)?L:[L],t,n,r,o,i,s,a,c,l),f.base=t.__e,t.__u&=-161,f.__h.length&&s.push(f),_&&(f.__E=f.__=null)}catch(e){if(t.__v=null,c||null!=i){for(t.__u|=c?160:32;a&&8===a.nodeType&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else t.__e=n.__e,t.__k=n.__k;As.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=aa(n.__e,t,n,r,o,i,s,c,l);(u=As.diffed)&&u(t)}function sa(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)ca(n[r],n[++r],n[++r]);As.__c&&As.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){As.__e(e,t.__v)}}))}function aa(e,t,n,r,o,i,s,a,c){var l,u,f,h,d,p,g,_=n.props,v=t.props,m=t.type;if("svg"===m?o="http://www.w3.org/2000/svg":"math"===m?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=i)for(l=0;l<i.length;l++)if((d=i[l])&&"setAttribute"in d==!!m&&(m?d.localName===m:3===d.nodeType)){e=d,i[l]=null;break}if(null==e){if(null===m)return document.createTextNode(v);e=document.createElementNS(o,m,v.is&&v),i=null,a=!1}if(null===m)_===v||a&&e.data===v||(e.data=v);else{if(i=i&&ws.call(e.childNodes),_=n.props||Fs,!a&&null!=i)for(_={},l=0;l<e.attributes.length;l++)_[(d=e.attributes[l]).name]=d.value;for(l in _)if(d=_[l],"children"==l);else if("dangerouslySetInnerHTML"==l)f=d;else if("key"!==l&&!(l in v)){if("value"==l&&"defaultValue"in v||"checked"==l&&"defaultChecked"in v)continue;ra(e,l,null,d,o)}for(l in v)d=v[l],"children"==l?h=d:"dangerouslySetInnerHTML"==l?u=d:"value"==l?p=d:"checked"==l?g=d:"key"===l||a&&"function"!=typeof d||_[l]===d||ra(e,l,d,_[l],o);if(u)a||f&&(u.__html===f.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(f&&(e.innerHTML=""),$s(e,Hs(h)?h:[h],t,n,r,"foreignObject"===m?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&Xs(n,0),a,c),null!=i)for(l=i.length;l--;)null!=i[l]&&Ws(i[l]);a||(l="value",void 0!==p&&(p!==e[l]||"progress"===m&&!p||"option"===m&&p!==_[l])&&ra(e,l,p,_[l],o),l="checked",void 0!==g&&g!==e[l]&&ra(e,l,g,_[l],o))}return e}function ca(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){As.__e(e,n)}}function la(e,t,n){var r,o;if(As.unmount&&As.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ca(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){As.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&la(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||Ws(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function ua(e,t,n){return this.constructor(e,n)}function fa(e,t,n){var r,o,i,s;As.__&&As.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],s=[],ia(t,e=(!r&&n||t).__k=zs(qs,null,[e]),o||Fs,Fs,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?ws.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),sa(i,e,s)}ws=Bs.slice,As={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(t){e=t}throw e}},bs=0,Is=function(e){return null!=e&&null==e.constructor},Qs.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Gs({},this.state),"function"==typeof e&&(e=e(Gs({},n),this.props)),e&&Gs(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Js(this))},Qs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Js(this))},Qs.prototype.render=qs,Ls=[],Ss="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Cs=function(e,t){return e.__v.__b-t.__v.__b},Ks.__r=0,Rs=0,Ts=oa(!1),xs=oa(!0),Os=0,Us.Component=Qs,Us.Fragment=qs,Us.cloneElement=function(e,t,n){var r,o,i,s,a=Gs({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=void 0===t[i]&&void 0!==s?s[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?ws.call(arguments,2):n),Ys(e.type,a,r||e.key,o||e.ref,null)},Us.createContext=function(e,t){var n={__c:t="__cC"+Os++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,Js(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},Us.createElement=zs,Us.createRef=function(){return{current:null}},Us.h=zs,Us.hydrate=function e(t,n){fa(t,n,e)},Us.isValidElement=Is,Us.options=As,Us.render=fa,Us.toChildArray=function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Hs(t)?t.some((function(t){e(t,n)})):n.push(t)),n},function(e){var t=Us,n=/["&<]/;function r(e){if(0===e.length||!1===n.test(e))return e;for(var t=0,r=0,o="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(o+=e.slice(t,r)),o+=i,t=r+1}return r!==t&&(o+=e.slice(t,r)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,i=0,s=Array.isArray;function a(e,n,r,o,s,a){n||(n={});var c,l,u=n;if("ref"in u)for(l in u={},n)"ref"==l?c=n[l]:u[l]=n[l];var f={type:e,props:u,key:r,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--i,__i:-1,__u:0,__source:s,__self:a};if("function"==typeof e&&(c=e.defaultProps))for(l in c)void 0===u[l]&&(u[l]=c[l]);return t.options.vnode&&t.options.vnode(f),f}var c={},l=/[A-Z]/g;Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return t.Fragment}}),e.jsx=a,e.jsxAttr=function(e,n){if(t.options.attr){var i=t.options.attr(e,n);if("string"==typeof i)return i}if("ref"===e||"key"===e)return"";if("style"===e&&"object"==typeof n){var s="";for(var a in n){var u=n[a];if(null!=u&&""!==u){var f="-"==a[0]?a:c[a]||(c[a]=a.replace(l,"-$&").toLowerCase()),h=";";"number"!=typeof u||f.startsWith("--")||o.test(f)||(h="px;"),s=s+f+":"+u+h}}return e+'="'+s+'"'}return null==n||!1===n||"function"==typeof n||"object"==typeof n?"":!0===n?e:e+'="'+r(n)+'"'},e.jsxDEV=a,e.jsxEscape=function e(t){if(null==t||"boolean"==typeof t||"function"==typeof t)return null;if("object"==typeof t){if(void 0===t.constructor)return t;if(s(t)){for(var n=0;n<t.length;n++)t[n]=e(t[n]);return t}}return r(""+t)},e.jsxTemplate=function(e){var n=a(t.Fragment,{tpl:e,exprs:[].slice.call(arguments,1)});return n.key=n.__v,n},e.jsxs=a}(ks);var ha,da,pa,ga,_a={},va={},ma=0,Ea=[],ya=Us.options,wa=ya.__b,Aa=ya.__r,ba=ya.diffed,Ia=ya.__c,La=ya.unmount,Na=ya.__;function Sa(e,t){ya.__h&&ya.__h(da,e,ma||t),ma=0;var n=da.__H||(da.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Ca(e){return ma=1,Ra(Fa,e)}function Ra(e,t,n){var r=Sa(ha++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Fa(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=da,!da.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return!!e.__c}));if(o.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var s=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};da.u=!0;var i=da.shouldComponentUpdate,s=da.componentWillUpdate;da.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}s&&s.call(this,e,t,n)},da.shouldComponentUpdate=o}return r.__N||r.__}function Ta(e,t){var n=Sa(ha++,4);!ya.__s&&Ua(n.__H,t)&&(n.__=e,n.o=t,da.__h.push(n))}function xa(e,t){var n=Sa(ha++,7);return Ua(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Oa(){for(var e;e=Ea.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ma),e.__H.__h.forEach(ka),e.__H.__h=[]}catch(t){e.__H.__h=[],ya.__e(t,e.__v)}}ya.__b=function(e){da=null,wa&&wa(e)},ya.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Na&&Na(e,t)},ya.__r=function(e){Aa&&Aa(e),ha=0;var t=(da=e.__c).__H;t&&(pa===da?(t.__h=[],da.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.o=e.__N=void 0}))):(t.__h.forEach(Ma),t.__h.forEach(ka),t.__h=[],ha=0)),pa=da},ya.diffed=function(e){ba&&ba(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ea.push(t)&&ga===ya.requestAnimationFrame||((ga=ya.requestAnimationFrame)||Da)(Oa)),t.__H.__.forEach((function(e){e.o&&(e.__H=e.o),e.o=void 0}))),pa=da=null},ya.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Ma),e.__h=e.__h.filter((function(e){return!e.__||ka(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],ya.__e(n,e.__v)}})),Ia&&Ia(e,t)},ya.unmount=function(e){La&&La(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Ma(e)}catch(e){t=e}})),n.__H=void 0,t&&ya.__e(t,n.__v))};var Pa="function"==typeof requestAnimationFrame;function Da(e){var t,n=function(){clearTimeout(r),Pa&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Pa&&(t=requestAnimationFrame(n))}function Ma(e){var t=da,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),da=t}function ka(e){var t=da;e.__c=e.__(),da=t}function Ua(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Fa(e,t){return"function"==typeof t?t(e):t}va.useCallback=function(e,t){return ma=8,xa((function(){return e}),t)},va.useContext=function(e){var t=da.context[e.__c],n=Sa(ha++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(da)),t.props.value):e.__},va.useDebugValue=function(e,t){ya.useDebugValue&&ya.useDebugValue(t?t(e):e)},va.useEffect=function(e,t){var n=Sa(ha++,3);!ya.__s&&Ua(n.__H,t)&&(n.__=e,n.o=t,da.__H.__h.push(n))},va.useErrorBoundary=function(e){var t=Sa(ha++,10),n=Ca();return t.__=e,da.componentDidCatch||(da.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},va.useId=function(){var e=Sa(ha++,11);if(!e.__){for(var t=da.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},va.useImperativeHandle=function(e,t,n){ma=6,Ta((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))},va.useLayoutEffect=Ta,va.useMemo=xa,va.useReducer=Ra,va.useRef=function(e){return ma=5,xa((function(){return{current:e}}),[])},va.useState=Ca,function(e){var t=Us,n=va;function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function i(e,t){this.props=e,this.context=t}function s(e,n){function r(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:o(this.props,e)}function i(n){return this.shouldComponentUpdate=r,t.createElement(e,n)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(i.prototype=new t.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var a=t.options.__b;t.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),a&&a(e)};var c="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function l(e){function t(t){var n=r({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=c,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var u=function(e,n){return null==e?null:t.toChildArray(t.toChildArray(e).map(n))},f={map:u,forEach:u,count:function(e){return e?t.toChildArray(e).length:0},only:function(e){var n=t.toChildArray(e);if(1!==n.length)throw"Children.only";return n[0]},toArray:t.toChildArray},h=t.options.__e;t.options.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);h(e,t,n,r)};var d=t.options.unmount;function p(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=r({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return p(e,t,n)}))),e}function g(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return g(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function _(){this.__u=0,this.t=null,this.__b=null}function v(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function m(e){var n,r,o;function i(i){if(n||(n=e()).then((function(e){r=e.default||e}),(function(e){o=e})),o)throw o;if(!r)throw n;return t.createElement(r,i)}return i.displayName="Lazy",i.__f=!0,i}function E(){this.u=null,this.o=null}t.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),d&&d(e)},(_.prototype=new t.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=v(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=g(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},_.prototype.componentWillUnmount=function(){this.t=[]},_.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=p(this.__b,r,o.__O=o.__P)}this.__b=null}var i=n.__a&&t.createElement(t.Fragment,null,e.fallback);return i&&(i.__u&=-33),[t.createElement(t.Fragment,null,n.__a?null:e.children),i]};var y=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function w(e){return this.getChildContext=function(){return e.context},e.children}function A(e){var n=this,r=e.i;n.componentWillUnmount=function(){t.render(null,n.l),n.l=null,n.i=null},n.i&&n.i!==r&&n.componentWillUnmount(),n.l||(n.i=r,n.l={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),n.i.appendChild(e)},insertBefore:function(e,t){this.childNodes.push(e),n.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),n.i.removeChild(e)}}),t.render(t.createElement(w,{context:n.context},e.__v),n.l)}function b(e,n){var r=t.createElement(A,{__v:e,i:n});return r.containerInfo=n,r}(E.prototype=new t.Component).__a=function(e){var t=this,n=v(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),y(t,e,r)):o()};n?n(i):i()}},E.prototype.render=function(e){this.u=null,this.o=new Map;var n=t.toChildArray(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var r=n.length;r--;)this.o.set(n[r],this.u=[1,0,this.u]);return e.children},E.prototype.componentDidUpdate=E.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){y(e,n,t)}))};var I="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,L=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,S=/[A-Z0-9]/g,C="undefined"!=typeof document,R=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function T(e,n,r){return null==n.__k&&(n.textContent=""),t.render(e,n),"function"==typeof r&&r(),e?e.__c:null}function x(e,n,r){return t.hydrate(e,n),"function"==typeof r&&r(),e?e.__c:null}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(t.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var O=t.options.event;function P(){}function D(){return this.cancelBubble}function M(){return this.defaultPrevented}t.options.event=function(e){return O&&(e=O(e)),e.persist=P,e.isPropagationStopped=D,e.isDefaultPrevented=M,e.nativeEvent=e};var k,U={enumerable:!1,configurable:!0,get:function(){return this.class}},F=t.options.vnode;t.options.vnode=function(e){"string"==typeof e.type&&function(e){var n=e.props,r=e.type,o={};for(var i in n){var s=n[i];if(!("value"===i&&"defaultValue"in n&&null==s||C&&"children"===i&&"noscript"===r||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===s?s="":"translate"===a&&"no"===s?s=!1:"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==r&&"textarea"!==r||R(n.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":N.test(i)?i=a:-1===r.indexOf("-")&&L.test(i)?i=i.replace(S,"-$&").toLowerCase():null===s&&(s=void 0):a=i="oninput","oninput"===a&&o[i=a]&&(i="oninputCapture"),o[i]=s}}"select"==r&&o.multiple&&Array.isArray(o.value)&&(o.value=t.toChildArray(n.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==r&&null!=o.defaultValue&&(o.value=t.toChildArray(n.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",U)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),e.props=o}(e),e.$$typeof=I,F&&F(e)};var B=t.options.__r;t.options.__r=function(e){B&&B(e),k=e.__c};var j=t.options.diffed;t.options.diffed=function(e){j&&j(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),k=null};var H={ReactCurrentDispatcher:{current:{readContext:function(e){return k.__n[e.__c].props.value},useCallback:n.useCallback,useContext:n.useContext,useDebugValue:n.useDebugValue,useDeferredValue:Z,useEffect:n.useEffect,useId:n.useId,useImperativeHandle:n.useImperativeHandle,useInsertionEffect:te,useLayoutEffect:n.useLayoutEffect,useMemo:n.useMemo,useReducer:n.useReducer,useRef:n.useRef,useState:n.useState,useSyncExternalStore:re,useTransition:ee}}};function G(e){return t.createElement.bind(null,e)}function W(e){return!!e&&e.$$typeof===I}function z(e){return W(e)&&e.type===t.Fragment}function Y(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function q(e){return W(e)?t.cloneElement.apply(null,arguments):e}function Q(e){return!!e.__k&&(t.render(null,e),!0)}function X(e){return e&&(e.base||1===e.nodeType&&e)||null}var V=function(e,t){return e(t)},J=function(e,t){return e(t)},K=t.Fragment;function $(e){e()}function Z(e){return e}function ee(){return[!1,$]}var te=n.useLayoutEffect,ne=W;function re(e,t){var r=t(),o=n.useState({p:{__:r,h:t}}),i=o[0].p,s=o[1];return n.useLayoutEffect((function(){i.__=r,i.h=t,oe(i)&&s({p:i})}),[e,r,t]),n.useEffect((function(){return oe(i)&&s({p:i}),e((function(){oe(i)&&s({p:i})}))}),[e]),r}function oe(e){var t,n,r=e.h,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}var ie={useState:n.useState,useId:n.useId,useReducer:n.useReducer,useEffect:n.useEffect,useLayoutEffect:n.useLayoutEffect,useInsertionEffect:te,useTransition:ee,useDeferredValue:Z,useSyncExternalStore:re,startTransition:$,useRef:n.useRef,useImperativeHandle:n.useImperativeHandle,useMemo:n.useMemo,useCallback:n.useCallback,useContext:n.useContext,useDebugValue:n.useDebugValue,version:"17.0.2",Children:f,render:T,hydrate:x,unmountComponentAtNode:Q,createPortal:b,createElement:t.createElement,createContext:t.createContext,createFactory:G,cloneElement:q,createRef:t.createRef,Fragment:t.Fragment,isValidElement:W,isElement:ne,isFragment:z,isMemo:Y,findDOMNode:X,Component:t.Component,PureComponent:i,memo:s,forwardRef:l,flushSync:J,unstable_batchedUpdates:V,StrictMode:K,Suspense:_,SuspenseList:E,lazy:m,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:H};Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return t.Component}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return t.Fragment}}),Object.defineProperty(e,"createContext",{enumerable:!0,get:function(){return t.createContext}}),Object.defineProperty(e,"createElement",{enumerable:!0,get:function(){return t.createElement}}),Object.defineProperty(e,"createRef",{enumerable:!0,get:function(){return t.createRef}}),e.Children=f,e.PureComponent=i,e.StrictMode=K,e.Suspense=_,e.SuspenseList=E,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,e.cloneElement=q,e.createFactory=G,e.createPortal=b,e.default=ie,e.findDOMNode=X,e.flushSync=J,e.forwardRef=l,e.hydrate=x,e.isElement=ne,e.isFragment=z,e.isMemo=Y,e.isValidElement=W,e.lazy=m,e.memo=s,e.render=T,e.startTransition=$,e.unmountComponentAtNode=Q,e.unstable_batchedUpdates=V,e.useDeferredValue=Z,e.useInsertionEffect=te,e.useSyncExternalStore=re,e.useTransition=ee,e.version="17.0.2",Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}))}(_a);var Ba={},ja={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=void 0,e.getLangText=function(){const t=new URLSearchParams(globalThis.location.search).get("lang"),n=globalThis.localStorage.getItem("lang"),r=(t||n||"").toLowerCase(),o=(globalThis.navigator.language||"").toLowerCase();let i;["zh-tw","zh-hk","zh-tc"].includes(o)?i=e.Lang["zh-TC"]:["zh","zh-cn"].includes(o)?i=e.Lang["zh-CN"]:o.includes("en")&&(i=e.Lang.en);let s=i;r&&(["zh-tw","zh-hk","zh-tc"].includes(r)?s=e.Lang["zh-TC"]:["zh","zh-cn"].includes(r)?s=e.Lang["zh-CN"]:r.includes("en")&&(s=e.Lang.en));return s||e.Lang.en},e.Lang={en:{loadingTitle:"Log in with Ledger",loadingTip0:"Please connect to your Ledger device and open Tron App.",loadingTip4:"Preparing your Ledger device...",checkTitle:"Please check if the address below is the same one shown on your Ledger device",checkTip0:"If it is: press Approve button to confirm the address",checkTip1:"If it isn't: select Reject on your Ledger device and refresh this page",confirmTip:"Please confirm on your Ledger",selectTitle:"Select account",selectTip:"Please select an account to use",cancel:"Cancel",confirm:"Confirm",address:"Address",balance:"Available Balance",loadMore:"Load More"},"zh-CN":{loadingTitle:"Ledger ",loadingTip0:" Ledger  TRON ",loadingTip4:"Ledger ......",checkTitle:" Ledger ",checkTip0:" Approve ",checkTip1:" Ledger  Reject ",confirmTip:" Ledger ",selectTitle:"",selectTip:"",cancel:"",confirm:"",address:"",balance:"",loadMore:""},"zh-TC":{loadingTitle:"Ledger ",loadingTip0:" Ledger  TRON ",loadingTip4:"Ledger ......",checkTitle:" Ledger ",checkTip0:" Approve ",checkTip1:" Ledger  Reject ",confirmTip:" Ledger ",selectTitle:"",selectTip:"",cancel:"",confirm:"",address:"",balance:"",loadMore:""}}}(ja);var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.LedgerIcon=function(){return(0,Ga.jsx)("div",{children:(0,Ga.jsx)("img",{style:{width:"5vw",marginBottom:"1vw"},src:"data:image/png;base64,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",alt:"logo"})})};const Ga=ks;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.LoadingIcon=function(){return(0,za.jsx)("div",{className:"ledger-ant-spin ledger-ant-spin-lg ledger-ant-spin-spinning spin",children:(0,za.jsxs)("span",{className:"ledger-ant-spin-dot",children:[(0,za.jsx)("i",{className:"ledger-ant-spin-dot-item"}),(0,za.jsx)("i",{className:"ledger-ant-spin-dot-item"}),(0,za.jsx)("i",{className:"ledger-ant-spin-dot-item"}),(0,za.jsx)("i",{className:"ledger-ant-spin-dot-item"})]})})};const za=ks;Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.ConfirmContent=function(e){const t=(0,qa.useMemo)((()=>(0,Qa.getLangText)()),[]);return(0,Ya.jsxs)("div",{style:{textAlign:"center"},"data-testid":"confirm-content",children:[(0,Ya.jsx)(Xa.LedgerIcon,{}),(0,Ya.jsxs)("div",{className:"ledger-connecting-pop",children:[(0,Ya.jsxs)("ul",{className:"ledger-connecting-pop-content",children:[(0,Ya.jsx)("li",{className:"title",style:{wordBreak:"break-word"},children:t.checkTitle}),(0,Ya.jsx)("li",{children:(0,Ya.jsx)("strong",{style:{color:"#B0170D",textAlign:"left",fontWeight:"600"},"data-testid":"confirm-content-address",children:e.address})}),(0,Ya.jsx)("li",{children:t.checkTip0}),(0,Ya.jsx)("li",{children:t.checkTip1})]}),(0,Ya.jsxs)("div",{className:"mt-4",children:[(0,Ya.jsx)(Va.LoadingIcon,{}),(0,Ya.jsx)("div",{children:(0,Ya.jsx)("div",{className:"text-muted",children:(0,Ya.jsx)("span",{children:t.confirmTip})})})]})]})]})};const Ya=ks,qa=_a,Qa=ja,Xa=Ha,Va=Wa;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.ConnectingContent=function(){const e=(0,$a.useMemo)((()=>(0,Za.getLangText)()),[]);return(0,Ka.jsxs)("div",{style:{textAlign:"center"},"data-testid":"connecting-content",children:[(0,Ka.jsx)(ec.LedgerIcon,{}),(0,Ka.jsxs)("div",{className:"ledger-connecting-pop",children:[(0,Ka.jsx)("ul",{className:"ledger-connecting-pop-content",children:(0,Ka.jsx)("li",{className:"title",children:e.loadingTip0})}),(0,Ka.jsxs)("div",{className:"mt-4",children:[(0,Ka.jsx)(tc.LoadingIcon,{}),(0,Ka.jsx)("div",{children:(0,Ka.jsx)("div",{className:"text-muted",children:(0,Ka.jsx)("span",{children:e.loadingTip4})})})]})]})]})};const Ka=ks,$a=_a,Za=ja,ec=Ha,tc=Wa;var nc={};Object.defineProperty(nc,"__esModule",{value:!0}),nc.Modal=function(e){return(0,rc.jsxs)("div",{className:"ledger-modal-root",children:[(0,rc.jsx)("div",{className:"ledger-modal-mask"}),(0,rc.jsx)("div",{className:"ledger-modal-wrap",children:(0,rc.jsx)("div",{className:"ledger-modal",style:{width:e.width||"550px"},children:(0,rc.jsxs)("div",{className:"ledger-modal-content",children:[(0,rc.jsx)("button",{onClick:e.onClose,type:"button","aria-label":"Close",className:"ledger-modal-close",children:(0,rc.jsx)("span",{className:"ledger-modal-close-x",children:(0,rc.jsx)("i",{"aria-label":"icon: close",className:"icon icon-close ledger-modal-close-icon",children:(0,rc.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"close",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,rc.jsx)("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"})})})})}),(0,rc.jsx)("div",{className:"ledger-modal-header",children:(0,rc.jsx)("div",{className:"ledger-modal-title",children:e.title})}),(0,rc.jsx)("div",{className:"ledger-modal-body",children:e.children})]})})})]})};const rc=ks;var oc={},ic=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(oc,"__esModule",{value:!0}),oc.SelectAccount=function(e){const[t,n]=(0,fc.useState)(0),[r,o]=(0,fc.useState)([]),[i,s]=(0,fc.useState)(!1),a=(0,lc.useRef)(null),c=(0,cc.useMemo)((()=>(0,hc.getLangText)()),[]);function l(e){n(+e.target.value)}function u(){const n=r.find((e=>e.index===t));e.onConfirm(n||(null==r?void 0:r[0]))}return(0,uc.useEffect)((()=>{o([...e.accounts])}),[e.accounts]),(0,uc.useEffect)((()=>{n(e.selectedIndex)}),[e.selectedIndex]),(0,ac.useLayoutEffect)((()=>{var e,t;null===(t=null===(e=a.current)||void 0===e?void 0:e.scrollIntoView)||void 0===t||t.call(e)}),[r]),(0,sc.jsxs)("div",{style:{paddingLeft:40},className:"ledger-select","data-testid":"select-account-content",children:[(0,sc.jsx)("span",{className:"title",children:c.selectTip}),(0,sc.jsxs)("div",{className:"ledger-select-list-wrap",children:[(0,sc.jsx)("ul",{className:"ledger-select-list","data-testid":"select-account-list",children:r.map(((e,n)=>(0,sc.jsx)("li",{className:"ledger-select-item",children:(0,sc.jsxs)("label",{htmlFor:`ledger-select-radio${n}`,children:[(0,sc.jsx)("input",{className:e.index===t?"checked":"",id:`ledger-select-radio${n}`,type:"radio",name:"selectedAddress",value:e.index,checked:e.index===t,onInput:l}),(0,sc.jsx)("span",{children:e.address})]})},n)))}),(0,sc.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,sc.jsxs)("button",{"data-testid":"btn-load-more",ref:a,style:{marginTop:10},disabled:i,className:"ledger-select-button",onClick:function(){return ic(this,void 0,void 0,(function*(){s(!0);const t=r[r.length-1]||{index:-1},n=t.index+1,i=t.index+6;try{const t=yield e.getAccounts(n,i);o((e=>[...e,...t]))}finally{s(!1)}}))},children:[(0,sc.jsx)("span",{style:{marginRight:i?10:0},children:c.loadMore}),i?(0,sc.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",children:(0,sc.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,sc.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,sc.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),(0,sc.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,sc.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}):null]})})]}),(0,sc.jsxs)("footer",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,sc.jsx)("button",{"data-testid":"btn-cancel",style:{marginRight:10},className:"ledger-select-button default-button",onClick:function(){e.onCancel()},children:c.cancel}),(0,sc.jsx)("button",{"data-testid":"btn-confirm",disabled:i,className:"ledger-select-button",onClick:u,children:c.confirm})]})]})};const sc=ks,ac=va,cc=va,lc=va,uc=va,fc=va,hc=ja;var dc={};Object.defineProperty(dc,"__esModule",{value:!0}),dc.modalStyleSheetContent=void 0,dc.modalStyleSheetContent="\n.ledger-modal-mask, .ledger-modal-wrap {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    font-family: 'PingFangSC-Regular', 'Arial', sans-serif, 'Droid Sans', 'Helvetica Neue';\n}\n.ledger-modal-mask {\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.45);\n}\n.ledger-modal-wrap {\n    overflow: auto;\n    outline: 0;\n}\n.ledger-modal {\n  position: relative;\n  margin: 0 auto;\n  padding-bottom: 24px;\n  line-height: 1.5;\n  top: 50px;\n  width: 600px;\n  color: rgba(0, 0, 0, 0.65);\n}\n.ledger-modal-content {\n  position: relative;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 0;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgb(0 0 0 / 15%);\n  pointer-events: auto;\n}\n.ledger-modal-close {\n  -webkit-appearance: button;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.45);\n  font-weight: 700;\n  line-height: 1;\n  text-decoration: none;\n  background: transparent;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n.ledger-modal-close:focus,.ledger-modal-close:active,.ledger-modal-close:hover {\n  color: rgba(0, 0, 0, 0.75);\n  text-decoration: none;\n  border: none;\n  outline: none;\n}\n.ledger-modal-close-x {\n  display: block;\n  width: 56px;\n  height: 56px;\n  font-size: 16px;\n  font-style: normal;\n  line-height: 56px;\n  text-align: center;\n  text-transform: none;\n  text-rendering: auto;\n}\n.ledger-modal-close-x .icon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n}\n.ledger-modal-header {\n  padding: 16px 24px;\n  color: rgba(0, 0, 0, 0.65);\n  background: #fff;\n  border-bottom: 1px solid #e8e8e8;\n  border-radius: 4px 4px 0 0;\n}\n.ledger-select .title, .ledger-modal-title {\n  margin: 0;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 22px;\n  word-wrap: break-word;\n}\n.ledger-modal-body {\n  padding: 24px;\n  font-size: 14px;\n  line-height: 1.5;\n  word-wrap: break-word;\n  max-height: 650px;\n  overflow-y: auto;\n}\n\n\n// connecting content\n.ledger-connecting-pop ul {\n  margin: 0;\n}\n.ledger-connecting-pop-content {\n  padding-left: 8%;\n}\n.ledger-connecting-pop-content li, .ledger-select li {\n  display: flex;\n  margin: 10px 0 10px 0;\n  line-height: 25px;\n  word-break: break-all;\n  text-align: left;\n}\n.ledger-connecting-pop-content .title {\n  margin-bottom: 20px;\n  font-weight: bold;\n}\n.ledger-ant-spin {\n  box-sizing: border-box;\n  padding: 0;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  color: #B0170D;\n  vertical-align: middle;\n  transition: transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n  position: static;\n  opacity: 1;\n  margin: 2vw 0;\n  text-align: center;\n  display: block;\n}\n.ledger-ant-spin-dot {\n  position: relative;\n  display: inline-block;\n  font-size: 20px;\n  width: 1em;\n  height: 1em;\n  transform: rotate(45deg);\n  animation: antRotate 1.2s infinite linear;\n  font-size: 32px;\n}\n\n.ledger-ant-spin-dot-item {\n  position: absolute;\n  display: block;\n  width: 9px;\n  height: 9px;\n  background-color: #B0170D;\n  border-radius: 100%;\n  transform: scale(0.75);\n  transform-origin: 50% 50%;\n  opacity: 0.3;\n  animation: antSpinMove 1s infinite linear alternate;\n}\n.ledger-ant-spin-dot-item:nth-child(1) {\n  top: 0;\n  left: 0;\n}\n.ledger-ant-spin-dot-item:nth-child(2) {\n  top: 0;\n  right: 0;\n  animation-delay: 0.4s;\n}\n.ledger-ant-spin-dot-item:nth-child(3) {\n  right: 0;\n  bottom: 0;\n  animation-delay: 0.8s;\n}\n.ledger-ant-spin-dot-item:nth-child(4) {\n  bottom: 0;\n  left: 0;\n  animation-delay: 1.2s;\n}\n.ledger-ant-spin-lg .ledger-ant-spin-dot i {\n  width: 14px;\n  height: 14px;\n}\n@keyframes antRotate {\n  100% {\n    transform: rotate(405deg)\n  }\n}\n@keyframes antSpinMove {\n  100% {\n    opacity: 1;\n  }\n}\n\n.ledger-select {\n  text-align: left;\n}\n.ledger-select .title {\n  display: block;\n  margin-bottom: 10px;\n}\n.ledger-select-list-wrap {\n  width: 100%;\n  max-height: 400px;\n  overflow-y: auto;\n  margin: 0 0 20px 0;\n}\n.ledger-select-list {\n  margin-top: 0;\n  padding: 0;\n}\n.ledger-select-item {\n  font-size: 14px;\n  color: #2f2f2f;\n  line-height: 25px;\n  margin-top: 0;\n}\n.ledger-select-item:hover {\n  color: #6f6f6f;\n}\n.ledger-select-item label {\n  cursor: pointer;\n  width: 100%;\n  display: flex;\n}\n.ledger-select-item input {\n  width: 15px;\n  height: 25px;\n  margin: 0 10px 0 0;\n}\n.ledger-select-button {\n  display: inline-flex;\n  color: #fff;\n  cursor: pointer;\n  height: 36px;\n  background-color: #c23631;\n  border: none;\n  border-radius: 4px;\n  align-items: center;\n  padding: 0 18px;\n  font-family: DM Sans, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 36px;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n.ledger-select-button[disabled] {\n  cursor: not-allowed;\n}\n.ledger-select-button.default-button {\n  background-color: #fff;\n  color: rgba(0, 0, 0, 0.65);\n  border: 1px solid #dcdfe6;\n}\n.ledger-select-button:focus {\n  outline: none;\n}\n.ledger-select-button:focus-visible {\n  outline: 2px solid white;\n}\n.ledger-select-button:hover {\n  opacity: 0.7;\n}\n",Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.openConnectingModal=function(){const{onClose:e,div:t}=Ac(),n=(0,mc.getLangText)();return(0,gc.render)((0,pc.jsx)(Ec.Modal,{title:n.loadingTitle,onClose:e,children:(0,pc.jsx)(vc.ConnectingContent,{})}),t),e},Ms.openVerifyAddressModal=function(e){const{onClose:t,div:n}=Ac(),r=(0,mc.getLangText)();return(0,gc.render)((0,pc.jsx)(Ec.Modal,{width:550,title:r.loadingTitle,onClose:t,children:(0,pc.jsx)(_c.ConfirmContent,{address:e})}),n),t},Ms.openSelectAccountModal=function(e){const{onClose:t,div:n}=Ac(),r=(0,mc.getLangText)();return new Promise(((o,i)=>{function s(){i(new Error("Operation is canceled.")),t()}(0,gc.render)((0,pc.jsx)(Ec.Modal,{title:r.loadingTitle,onClose:s,children:(0,pc.jsx)(yc.SelectAccount,{accounts:e.accounts,selectedIndex:e.selectedIndex||0,onConfirm:function(e){o(e),t()},onCancel:s,getAccounts:e.getAccounts})}),n)}))};const pc=ks,gc=_a,_c=Ba,vc=Ja,mc=ja,Ec=nc,yc=oc,wc=dc;function Ac(){const e=document.createElement("div"),t=document.createElement("style");return t.innerHTML=wc.modalStyleSheetContent,document.body.append(t),document.body.append(e),{onClose:function(){e.remove(),t.remove()},div:e}}var bc=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Ic=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.LedgerWallet=void 0;const Lc=Ic(Te),Nc=Ic(Ds),Sc=Ms;function Cc(e){return bc(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))}const Rc=function(e){return bc(this,arguments,void 0,(function*({accounts:e,ledgerUtils:t}){const n=yield(0,Sc.openSelectAccountModal)({accounts:e,getAccounts:t.getAccounts}),r=(0,Sc.openVerifyAddressModal)(n.address);try{yield t.getAddress(n.index,!0)}finally{null==r||r()}return n}))};return Ae.LedgerWallet=class{constructor(e={}){this.app=null,this.transport=null,this.fetchState="Initial",this.selectedIndex=0,this._address="",this.getAccounts=(e,t)=>bc(this,void 0,void 0,(function*(){if(e<0)throw new Error("getAccount parameter error: from cannot be smaller than 0.");if(e>=t)throw new Error("getAccount parameter error: from cannot be bigger than to.");if("Fetching"===this.fetchState)return yield Cc(500),this.getAccounts(e,t);this.fetchState="Fetching",yield this.makeApp();try{const n={};for(let r=e;r<t;r++){const e=yield this.getAccount(r);n[e.index]=e}return Object.keys(n).forEach((e=>{this.accounts[+e]=n[e]})),this.accounts.slice(e,t)}finally{this.fetchState="Initial",yield this.cleanUp()}})),this.getAddress=(e,...t)=>bc(this,[e,...t],void 0,(function*(e,t=!1){try{const n=this.getPathForIndex(e);return yield this.makeApp(),yield this.app.getAddress(n,t)}finally{yield this.cleanUp()}})),this.accounts=[];const{accountNumber:t=1}=e;if(["beforeConnect","selectAccount","getDerivationPath"].forEach((t=>{if(e[t]&&"function"!=typeof e[t])throw new Error(`[Ledger]: ${t} must be a function!`)})),t&&!Number.isInteger(+t))throw new Error("[Ledger]: accountNumber must be an integer!");this.config=Object.assign(Object.assign({},e),{accountNumber:t})}get address(){return this._address}connect(e){return bc(this,void 0,void 0,(function*(){if((null==e?void 0:e.account)&&"object"==typeof e.account){const t=e.account;return this.selectedIndex=+t.index,this._address=t.address,void(void 0!==t.index&&void 0!==t.address||console.warn("[LedgerWallet] account parameter passed to connect() should have valid index and address property"))}const t={getAccounts:this.getAccounts,getAddress:this.getAddress};this.accounts=[],this._address="",this.selectedIndex=0;const{accountNumber:n=1,beforeConnect:r,selectAccount:o=Rc}=this.config;let i=null;try{r?yield r():i=(0,Sc.openConnectingModal)(),yield this.makeApp();const e=yield this.getAccount(0);this.accounts[0]=e,yield this.cleanUp(),n>1&&(yield this.getAccounts(1,n)),null==i||i();const s=this.accounts.slice(0,n),a=yield o({accounts:s,ledgerUtils:t});this.selectedIndex=a.index,this._address=a.address}finally{yield this.cleanUp()}}))}disconnect(){this.selectedIndex=0,this._address=""}signPersonalMessage(e){return bc(this,void 0,void 0,(function*(){yield this.waitForIdle();try{const t=this.selectedIndex;yield this.makeApp();const n=this.getPathForIndex(t),r=Buffer.from(e).toString("hex");return yield this.app.signPersonalMessage(n,r)}finally{yield this.cleanUp()}}))}signTransaction(e){return bc(this,void 0,void 0,(function*(){yield this.waitForIdle();try{const t=this.selectedIndex,n=this.getPathForIndex(t);let r;yield this.makeApp();try{r=yield this.app.signTransaction(n,e.raw_data_hex,[])}catch(t){if(!/Too many bytes to encode/.test(t.message))throw t;r=yield this.app.signTransactionHash(n,e.txID)}let o=e.signature;return Array.isArray(o)?o.includes(r)||o.push(r):o=[r],Object.assign(Object.assign({},e),{signature:o})}finally{yield this.cleanUp()}}))}getAccount(e){return bc(this,void 0,void 0,(function*(){const t=this.getPathForIndex(e),{address:n}=yield this.app.getAddress(t);return{path:t,address:n,index:e}}))}waitForIdle(){return bc(this,void 0,void 0,(function*(){"Fetching"===this.fetchState&&(yield Cc(300),yield this.waitForIdle())}))}getPathForIndex(e){return this.config.getDerivationPath?this.config.getDerivationPath(e):`44'/195'/${e}'/0/0`}makeApp(){return bc(this,void 0,void 0,(function*(){this.transport&&this.app||(this.transport=yield Nc.default.create(),this.app=new Lc.default(this.transport))}))}cleanUp(){return bc(this,void 0,void 0,(function*(){var e;this.app=null,yield null===(e=this.transport)||void 0===e?void 0:e.close(),this.transport=null}))}},function(t){var n=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerAdapter=t.LedgerAdapterName=void 0;const r=se,o=Ae;t.LedgerAdapterName="Ledger";class i extends r.Adapter{constructor(e={}){super(),this.name=t.LedgerAdapterName,this.url="https://www.ledger.com/",this.icon="data:image/png;base64,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",this._readyState=r.WalletReadyState.Loading,this._state=r.AdapterState.NotFound,this._connecting=!1,this._address=null,this.config=e,this._wallet=new o.LedgerWallet(e),globalThis.navigator&&globalThis.navigator.hid?(this._readyState=r.WalletReadyState.Found,this._state=r.AdapterState.Disconnect):this._readyState=r.WalletReadyState.NotFound}get address(){return this._address}get state(){return this._state}get connecting(){return this._connecting}get readyState(){return this._readyState}get ledgerUtils(){return{getAccounts:this._wallet.getAccounts,getAddress:this._wallet.getAddress}}connect(e){return n(this,void 0,void 0,(function*(){try{if(this.connected||this.connecting)return;if(this.state===r.AdapterState.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,r.isInBrowser)()&&window.open(this.url,"_blank"),new r.WalletNotFoundError;this._connecting=!0;try{yield this._wallet.connect(e)}catch(e){throw new r.WalletConnectionError(`${e.message}.`)}this._address=this._wallet.address,this._state=r.AdapterState.Connected,this.emit("connect",this.address||""),this.emit("stateChanged",this._state)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}))}disconnect(){return n(this,void 0,void 0,(function*(){if(this.state===r.AdapterState.Connected)try{this._wallet.disconnect(),this._state=r.AdapterState.Disconnect,this._address=null,this.emit("disconnect"),this.emit("stateChanged",this._state)}catch(e){throw this.emit("error",e),new r.WalletDisconnectionError(e.message)}}))}signTransaction(e){return n(this,void 0,void 0,(function*(){try{if(this.state!==r.AdapterState.Connected)throw new r.WalletDisconnectedError;try{return yield this._wallet.signTransaction(e)}catch(e){throw new r.WalletSignTransactionError(e.message)}}catch(e){throw this.emit("error",e),e}}))}signMessage(e){return n(this,void 0,void 0,(function*(){try{if(this.state!==r.AdapterState.Connected)throw new r.WalletDisconnectedError;try{return yield this._wallet.signPersonalMessage(e)}catch(e){throw new r.WalletSignMessageError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}}t.LedgerAdapter=i}(ie),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(ie,t),r(Ms,t)}(r),t(r)}));

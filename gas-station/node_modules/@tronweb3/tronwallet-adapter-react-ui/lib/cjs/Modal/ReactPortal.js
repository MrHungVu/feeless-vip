"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ReactPortal = void 0;
const react_1 = require("react");
const react_dom_1 = require("react-dom");
function createWrapperAndAppendToBody(wrapperId) {
    const wrapperElement = document.createElement('div');
    wrapperElement.setAttribute('id', wrapperId);
    wrapperElement.style.position = 'relative';
    document.body.appendChild(wrapperElement);
    return wrapperElement;
}
const ReactPortal = function ({ children, wrapperId = 'react-portal-wrapper' }) {
    const [wrapperElement, setWrapperElement] = (0, react_1.useState)(null);
    (0, react_1.useLayoutEffect)(() => {
        let element = document.getElementById(wrapperId);
        let systemCreated = false;
        // if element is not found with wrapperId or wrapperId is not provided,
        // create and append to body
        if (!element) {
            systemCreated = true;
            element = createWrapperAndAppendToBody(wrapperId);
        }
        setWrapperElement(element);
        return () => {
            // delete the programatically created element
            if (systemCreated && (element === null || element === void 0 ? void 0 : element.parentNode)) {
                element.parentNode.removeChild(element);
            }
        };
    }, [wrapperId]);
    // wrapperElement state will be null on very first render.
    if (wrapperElement === null)
        return null;
    return (0, react_dom_1.createPortal)(children, wrapperElement);
};
exports.ReactPortal = ReactPortal;
//# sourceMappingURL=ReactPortal.js.map
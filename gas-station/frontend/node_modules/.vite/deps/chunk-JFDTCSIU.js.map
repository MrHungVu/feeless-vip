{
  "version": 3,
  "sources": ["../../../../node_modules/@tronweb3/tronwallet-adapter-tronlink/src/utils.ts", "../../../../node_modules/@tronweb3/tronwallet-adapter-tronlink/src/adapter.ts"],
  "sourcesContent": ["import { isInBrowser, isInMobileBrowser } from '@tronweb3/tronwallet-abstract-adapter';\nimport type { Tron } from './types.js';\n\nexport function supportTron() {\n    return !!(window.tron && window.tron.isTronLink);\n}\nexport function supportTronLink() {\n    return !!(supportTron() || window.tronLink || window.tronWeb);\n}\n\n/**\n * Detect if in TronLinkApp\n * Tron DApp running in the DApp Explorer injects iTron objects automatically to offer customized App service.\n * See [here](https://docs.tronlink.org/tronlink-app/dapp-support/dapp-explorer)\n */\nexport function isInTronLinkApp() {\n    return isInBrowser() && typeof (window as any).iTron !== 'undefined';\n}\n\nexport function openTronLink(\n    { dappIcon, dappName }: { dappIcon: string; dappName: string } = { dappIcon: '', dappName: '' }\n) {\n    if (!supportTronLink() && isInMobileBrowser() && !isInTronLinkApp()) {\n        let defaultDappName = '',\n            defaultDappIcon = '';\n        try {\n            defaultDappName = document.title;\n            const link = document.querySelector('link[rel*=\"icon\"]');\n            if (link) {\n                defaultDappIcon = new URL(link.getAttribute('href') || '', location.href).toString();\n            }\n        } catch (e) {\n            // console.error(e);\n        }\n        const { origin, pathname, search, hash } = window.location;\n        const url = origin + pathname + search + (hash.includes('?') ? hash : `${hash}?_=1`);\n        const params = {\n            action: 'open',\n            actionId: Date.now() + '',\n            callbackUrl: 'http://someurl.com', // no need callback\n            dappIcon: dappIcon || defaultDappIcon,\n            dappName: dappName || defaultDappName,\n            url,\n            protocol: 'TronLink',\n            version: '1.0',\n            chainId: '0x2b6653dc',\n        };\n        window.location.href = `tronlinkoutside://pull.activity?param=${encodeURIComponent(JSON.stringify(params))}`;\n        return true;\n    }\n    return false;\n}\n\nexport async function waitTronwebReady(tronObj: Tron) {\n    return new Promise<void>((resolve, reject) => {\n        const interval = setInterval(() => {\n            if (tronObj.tronWeb) {\n                clearInterval(interval);\n                clearTimeout(timeout);\n                resolve();\n            }\n        }, 50);\n        const timeout = setTimeout(() => {\n            clearInterval(interval);\n            reject('`window.tron.tronweb` is not ready.');\n        }, 2000);\n    });\n}\n", "import {\n    Adapter,\n    AdapterState,\n    isInBrowser,\n    WalletReadyState,\n    WalletSignMessageError,\n    WalletNotFoundError,\n    WalletDisconnectedError,\n    WalletConnectionError,\n    WalletSignTransactionError,\n    WalletSwitchChainError,\n    WalletGetNetworkError,\n    isInMobileBrowser,\n    NetworkType,\n} from '@tronweb3/tronwallet-abstract-adapter';\nimport type {\n    Transaction,\n    SignedTransaction,\n    AdapterName,\n    BaseAdapterConfig,\n    Network,\n} from '@tronweb3/tronwallet-abstract-adapter';\nimport type {\n    AccountsChangedEventData,\n    NetworkChangedEventData,\n    ReqestAccountsResponse,\n    Tron,\n    TronAccountsChangedCallback,\n    TronChainChangedCallback,\n    TronLinkMessageEvent,\n    TronWeb,\n} from './types.js';\nimport { openTronLink, supportTron, supportTronLink, waitTronwebReady } from './utils.js';\nexport interface TronLinkWallet {\n    ready: boolean;\n    tronWeb: TronWeb;\n    request(config: Record<string, unknown>): Promise<ReqestAccountsResponse | null>;\n}\nexport const chainIdNetworkMap: Record<string, NetworkType> = {\n    '0x2b6653dc': NetworkType.Mainnet,\n    '0x94a9059e': NetworkType.Shasta,\n    '0xcd8690dc': NetworkType.Nile,\n};\n\nexport async function getNetworkInfoByTronWeb(tronWeb: TronWeb) {\n    const { blockID = '' } = await tronWeb.trx.getBlockByNumber(0);\n    const chainId = `0x${blockID.slice(-8)}`;\n    return {\n        networkType: chainIdNetworkMap[chainId] || NetworkType.Unknown,\n        chainId,\n        fullNode: tronWeb.fullNode?.host || '',\n        solidityNode: tronWeb.solidityNode?.host || '',\n        eventServer: tronWeb.eventServer?.host || '',\n    };\n}\ndeclare global {\n    interface Window {\n        tronLink?: TronLinkWallet;\n        tronWeb?: TronWeb & { ready?: boolean };\n        // @ts-ignore\n        tron?: Tron;\n    }\n}\nexport interface TronLinkAdapterConfig extends BaseAdapterConfig {\n    /**\n     * Timeout in millisecond for checking if TronLink wallet exists.\n     * Default is 30 * 1000ms\n     */\n    checkTimeout?: number;\n    /**\n     * Set if open TronLink app using DeepLink.\n     * Default is true.\n     */\n    openTronLinkAppOnMobile?: boolean;\n    /**\n     * The icon of your dapp. Used when open TronLink app in mobile device browsers.\n     */\n    dappIcon?: string;\n    /**\n     * The name of your dapp. Used when open TronLink app in mobile device browsers.\n     */\n    dappName?: string;\n}\n\nexport const TronLinkAdapterName = 'TronLink' as AdapterName<'TronLink'>;\n\nexport class TronLinkAdapter extends Adapter {\n    name = TronLinkAdapterName;\n    url = 'https://www.tronlink.org/';\n    icon =\n        'data:image/png;base64,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';\n\n    config: Required<TronLinkAdapterConfig>;\n    private _readyState: WalletReadyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;\n    private _state: AdapterState = AdapterState.Loading;\n    private _connecting: boolean;\n    private _wallet: TronLinkWallet | Tron | null;\n    private _address: string | null;\n    // https://github.com/tronprotocol/tips/blob/master/tip-1193.md\n    private _supportNewTronProtocol = false;\n    // record if first connect event has emitted or not\n\n    constructor(config: TronLinkAdapterConfig = {}) {\n        super();\n        const {\n            checkTimeout = 30 * 1000,\n            dappIcon = '',\n            dappName = '',\n            openUrlWhenWalletNotFound = true,\n            openTronLinkAppOnMobile = true,\n        } = config;\n        if (typeof checkTimeout !== 'number') {\n            throw new Error('[TronLinkAdapter] config.checkTimeout should be a number');\n        }\n        this.config = {\n            checkTimeout,\n            openTronLinkAppOnMobile,\n            openUrlWhenWalletNotFound,\n            dappIcon,\n            dappName,\n        };\n        this._connecting = false;\n        this._wallet = null;\n        this._address = null;\n\n        if (!isInBrowser()) {\n            this._readyState = WalletReadyState.NotFound;\n            this.setState(AdapterState.NotFound);\n            return;\n        }\n        if (supportTron() || (isInMobileBrowser() && (window.tronLink || window.tronWeb))) {\n            this._readyState = WalletReadyState.Found;\n            this._updateWallet();\n        } else {\n            this._checkWallet().then(() => {\n                if (this.connected) {\n                    this.emit('connect', this.address || '');\n                }\n            });\n        }\n    }\n\n    get address() {\n        return this._address;\n    }\n\n    get state() {\n        return this._state;\n    }\n    get readyState() {\n        return this._readyState;\n    }\n\n    get connecting() {\n        return this._connecting;\n    }\n\n    /**\n     * Get network information used by TronLink.\n     * @returns {Network} Current network information.\n     */\n    async network(): Promise<Network> {\n        try {\n            await this._checkWallet();\n            if (this.state !== AdapterState.Connected) throw new WalletDisconnectedError();\n            const tronWeb = this._wallet?.tronWeb || window.tronWeb;\n            if (!tronWeb) throw new WalletDisconnectedError();\n            try {\n                return await getNetworkInfoByTronWeb(tronWeb);\n            } catch (e: any) {\n                throw new WalletGetNetworkError(e?.message, e);\n            }\n        } catch (e: any) {\n            this.emit('error', e);\n            throw e;\n        }\n    }\n\n    async connect(): Promise<void> {\n        try {\n            this.checkIfOpenTronLink();\n            if (this.connected || this.connecting) return;\n            await this._checkWallet();\n            if (this.state === AdapterState.NotFound) {\n                if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {\n                    window.open(this.url, '_blank');\n                }\n                throw new WalletNotFoundError();\n            }\n            // lower version only support window.tronWeb, no window.tronLink\n            if (!this._wallet) return;\n            this._connecting = true;\n            if (this._supportNewTronProtocol) {\n                const wallet = this._wallet as Tron;\n                try {\n                    const res = await wallet.request({ method: 'eth_requestAccounts' });\n                    const address = res[0];\n                    this.setAddress(address);\n                    this.setState(AdapterState.Connected);\n                    this._listenTronEvent();\n                    if (!this._wallet.tronWeb) {\n                        await waitTronwebReady(this._wallet as Tron);\n                    }\n                } catch (error: any) {\n                    let message = error?.message || error || 'Connect TronLink wallet failed.';\n                    if (error.code === -32002) {\n                        message =\n                            'The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed.';\n                    }\n                    if (error.code === 4001) {\n                        message = 'The user rejected connection.';\n                    }\n                    throw new WalletConnectionError(message, error);\n                }\n            } else if (window.tronLink) {\n                const wallet = this._wallet as TronLinkWallet;\n                try {\n                    const res = await wallet.request({ method: 'tron_requestAccounts' });\n                    if (!res) {\n                        // 1. wallet is locked\n                        // 2. tronlink is first installed and there is no wallet account\n                        throw new WalletConnectionError('TronLink wallet is locked or no wallet account is avaliable.');\n                    }\n                    if (res.code === 4000) {\n                        throw new WalletConnectionError(\n                            'The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed.'\n                        );\n                    }\n                    if (res.code === 4001) {\n                        throw new WalletConnectionError('The user rejected connection.');\n                    }\n                } catch (error: any) {\n                    throw new WalletConnectionError(error?.message, error);\n                }\n\n                const address = wallet.tronWeb.defaultAddress?.base58 || '';\n                this.setAddress(address);\n                this.setState(AdapterState.Connected);\n                this._listenTronLinkEvent();\n            } else if (window.tronWeb) {\n                const wallet = this._wallet as TronLinkWallet;\n                const address = wallet.tronWeb.defaultAddress?.base58 || '';\n                this.setAddress(address);\n                this.setState(AdapterState.Connected);\n            } else {\n                throw new WalletConnectionError('Cannot connect wallet.');\n            }\n            this.connected && this.emit('connect', this.address || '');\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        } finally {\n            this._connecting = false;\n        }\n    }\n\n    async disconnect(): Promise<void> {\n        if (this._supportNewTronProtocol) {\n            this._stopListenTronEvent();\n        } else {\n            this._stopListenTronLinkEvent();\n        }\n        if (this.state !== AdapterState.Connected) {\n            return;\n        }\n        this.setAddress(null);\n        this.setState(AdapterState.Disconnect);\n        this.emit('disconnect');\n    }\n\n    async signTransaction(transaction: Transaction, privateKey?: string): Promise<SignedTransaction> {\n        try {\n            const wallet = await this.checkAndGetWallet();\n\n            try {\n                return await wallet.tronWeb.trx.sign(transaction, privateKey);\n            } catch (error: any) {\n                if (error instanceof Error) {\n                    throw new WalletSignTransactionError(error.message, error);\n                } else {\n                    throw new WalletSignTransactionError(error, new Error(error));\n                }\n            }\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        }\n    }\n\n    async multiSign(\n        transaction: Transaction,\n        privateKey?: string | false,\n        permissionId?: number\n    ): Promise<SignedTransaction> {\n        try {\n            const wallet = await this.checkAndGetWallet();\n\n            try {\n                return await wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);\n            } catch (error: any) {\n                if (error instanceof Error) {\n                    throw new WalletSignTransactionError(error.message, error);\n                } else {\n                    throw new WalletSignTransactionError(error, new Error(error));\n                }\n            }\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        }\n    }\n\n    async signMessage(message: string, privateKey?: string): Promise<string> {\n        try {\n            const wallet = await this.checkAndGetWallet();\n            try {\n                return await wallet.tronWeb.trx.signMessageV2(message, privateKey);\n            } catch (error: any) {\n                if (error instanceof Error) {\n                    throw new WalletSignMessageError(error.message, error);\n                } else {\n                    throw new WalletSignMessageError(error, new Error(error));\n                }\n            }\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Switch to target chain. If current chain is the same as target chain, the call will success immediately.\n     * Available chainIds:\n     * - Mainnet: 0x2b6653dc\n     * - Shasta: 0x94a9059e\n     * - Nile: 0xcd8690dc\n     * @param chainId chainId\n     */\n    async switchChain(chainId: string) {\n        try {\n            await this._checkWallet();\n            if (this.state === AdapterState.NotFound) {\n                if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {\n                    window.open(this.url, '_blank');\n                }\n                throw new WalletNotFoundError();\n            }\n            if (!this._supportNewTronProtocol) {\n                throw new WalletSwitchChainError(\"Current version of TronLink doesn't support switch chain operation.\");\n            }\n            const wallet = this._wallet as Tron;\n            try {\n                await wallet.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [{ chainId }],\n                });\n            } catch (e: any) {\n                throw new WalletSwitchChainError(e?.message || e, e instanceof Error ? e : new Error(e));\n            }\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        }\n    }\n\n    private async checkAndGetWallet() {\n        this.checkIfOpenTronLink();\n        await this._checkWallet();\n        if (this.state !== AdapterState.Connected) throw new WalletDisconnectedError();\n        const wallet = this._wallet;\n        if (!wallet || !wallet.tronWeb) throw new WalletDisconnectedError();\n        return wallet as Tron & { tronWeb: TronWeb };\n    }\n\n    private _listenTronLinkEvent() {\n        this._stopListenTronLinkEvent();\n        window.addEventListener('message', this._tronLinkMessageHandler);\n    }\n\n    private _stopListenTronLinkEvent() {\n        window.removeEventListener('message', this._tronLinkMessageHandler);\n    }\n\n    private _tronLinkMessageHandler = (e: TronLinkMessageEvent) => {\n        const message = e.data?.message;\n        if (!message) {\n            return;\n        }\n        if (message.action === 'accountsChanged') {\n            setTimeout(() => {\n                const preAddr = this.address || '';\n                if ((this._wallet as TronLinkWallet)?.ready) {\n                    const address = (message.data as AccountsChangedEventData).address;\n                    this.setAddress(address);\n                    this.setState(AdapterState.Connected);\n                } else {\n                    this.setAddress(null);\n                    this.setState(AdapterState.Disconnect);\n                }\n                this.emit('accountsChanged', this.address || '', preAddr);\n                if (!preAddr && this.address) {\n                    this.emit('connect', this.address);\n                } else if (preAddr && !this.address) {\n                    this.emit('disconnect');\n                }\n            }, 200);\n        } else if (message.action === 'setNode') {\n            this.emit('chainChanged', { chainId: (message.data as NetworkChangedEventData)?.node?.chainId || '' });\n        } else if (message.action === 'connect') {\n            const address = (this._wallet as TronLinkWallet).tronWeb?.defaultAddress?.base58 || '';\n            this.setAddress(address);\n            this.setState(AdapterState.Connected);\n            this.emit('connect', address);\n        } else if (message.action === 'disconnect') {\n            this.setAddress(null);\n            this.setState(AdapterState.Disconnect);\n            this.emit('disconnect');\n        }\n    };\n\n    private checkIfOpenTronLink() {\n        const { dappName = '', dappIcon = '' } = this.config;\n        if (this.config.openTronLinkAppOnMobile === false) {\n            return;\n        }\n        if (openTronLink({ dappIcon, dappName })) {\n            throw new WalletNotFoundError();\n        }\n    }\n\n    // following code is for TIP-1193\n    private _listenTronEvent() {\n        this._stopListenTronEvent();\n        this._stopListenTronLinkEvent();\n        const wallet = this._wallet as Tron;\n        wallet.on?.('chainChanged', this._onChainChanged);\n        wallet.on?.('accountsChanged', this._onAccountsChanged);\n    }\n\n    private _stopListenTronEvent() {\n        const wallet = this._wallet as Tron;\n        wallet.removeListener?.('chainChanged', this._onChainChanged);\n        wallet.removeListener?.('accountsChanged', this._onAccountsChanged);\n    }\n\n    private _onChainChanged: TronChainChangedCallback = (data) => {\n        this.emit('chainChanged', data);\n    };\n\n    private _onAccountsChanged: TronAccountsChangedCallback = () => {\n        const preAddr = this.address || '';\n        const curAddr = (this._wallet?.tronWeb && this._wallet?.tronWeb.defaultAddress?.base58) || '';\n        if (!curAddr) {\n            // change to a new address and if it's disconnected, data will be empty\n            // tronlink will emit accountsChanged many times, only process when connected\n            this.setAddress(null);\n            this.setState(AdapterState.Disconnect);\n        } else {\n            const address = curAddr as string;\n            this.setAddress(address);\n            this.setState(AdapterState.Connected);\n        }\n        this.emit('accountsChanged', this.address || '', preAddr);\n        if (!preAddr && this.address) {\n            this.emit('connect', this.address);\n        } else if (preAddr && !this.address) {\n            this.emit('disconnect');\n        }\n    };\n\n    private _checkPromise: Promise<boolean> | null = null;\n    /**\n     * check if wallet exists by interval, the promise only resolve when wallet detected or timeout\n     * @returns if wallet exists\n     */\n    private _checkWallet(): Promise<boolean> {\n        if (this.readyState === WalletReadyState.Found) {\n            return Promise.resolve(true);\n        }\n        if (this._checkPromise) {\n            return this._checkPromise;\n        }\n        const interval = 100;\n        const checkTronTimes = Math.floor(2000 / interval);\n        const maxTimes = Math.floor(this.config.checkTimeout / interval);\n        let times = 0,\n            timer: ReturnType<typeof setInterval>;\n        this._checkPromise = new Promise((resolve) => {\n            const check = () => {\n                times++;\n                const isSupport = times < checkTronTimes && !isInMobileBrowser() ? supportTron() : supportTronLink();\n                if (isSupport || times > maxTimes) {\n                    timer && clearInterval(timer);\n                    this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;\n                    this._updateWallet();\n                    this.emit('readyStateChanged', this.readyState);\n                    resolve(isSupport);\n                }\n            };\n            timer = setInterval(check, interval);\n            check();\n        });\n        return this._checkPromise;\n    }\n\n    private _updateWallet = () => {\n        let state = this.state;\n        let address = this.address;\n        if (isInMobileBrowser()) {\n            if (window.tronLink) {\n                this._wallet = window.tronLink;\n            } else {\n                this._wallet = {\n                    ready: !!window.tronWeb?.defaultAddress,\n                    tronWeb: window.tronWeb,\n                    request: () => Promise.resolve(true) as any,\n                } as TronLinkWallet;\n            }\n            address = this._wallet.tronWeb?.defaultAddress?.base58 || null;\n            state = address ? AdapterState.Connected : AdapterState.Disconnect;\n        } else if (window.tron && window.tron.isTronLink) {\n            this._supportNewTronProtocol = true;\n            this._wallet = window.tron;\n            this._listenTronEvent();\n            try {\n                address = (this._wallet?.tronWeb && this._wallet.tronWeb?.defaultAddress?.base58) || null;\n                state = address ? AdapterState.Connected : AdapterState.Disconnect;\n            } catch (e) {\n                console.error('Unknow error: ' + e, ' Please install TronLink extension wallet.');\n                address = null;\n                state = AdapterState.Disconnect;\n                this._readyState = WalletReadyState.NotFound;\n                this.emit('readyStateChanged', this.readyState);\n                return;\n            }\n        } else if (window.tronLink) {\n            this._wallet = window.tronLink;\n            this._listenTronLinkEvent();\n            address = this._wallet.tronWeb?.defaultAddress?.base58 || null;\n            state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;\n        } else if (window.tronWeb) {\n            // fake tronLink\n            this._wallet = {\n                ready: window.tronWeb.ready,\n                tronWeb: window.tronWeb,\n                request: () => Promise.resolve(true) as any,\n            } as TronLinkWallet;\n            address = this._wallet.tronWeb.defaultAddress?.base58 || null;\n            state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;\n        } else {\n            // no tronlink support\n            this._wallet = null;\n            address = null;\n            state = AdapterState.NotFound;\n        }\n        // In TronLink App, account should be connected\n        if (isInMobileBrowser() && state === AdapterState.Disconnect) {\n            this.checkForWalletReadyForApp();\n        }\n        this.setAddress(address);\n        this.setState(state);\n    };\n\n    private checkReadyInterval: ReturnType<typeof setInterval> | null = null;\n    private checkForWalletReadyForApp() {\n        if (this.checkReadyInterval) {\n            return;\n        }\n        let times = 0;\n        const maxTimes = Math.floor(this.config.checkTimeout / 200);\n        const check = () => {\n            if (window.tronLink ? window.tronLink.tronWeb?.defaultAddress : window.tronWeb?.defaultAddress) {\n                this.checkReadyInterval && clearInterval(this.checkReadyInterval);\n                this.checkReadyInterval = null;\n                this._updateWallet();\n                this.emit('connect', this.address || '');\n            } else if (times > maxTimes) {\n                this.checkReadyInterval && clearInterval(this.checkReadyInterval);\n                this.checkReadyInterval = null;\n            } else {\n                times++;\n            }\n        };\n        this.checkReadyInterval = setInterval(check, 200);\n    }\n    private setAddress(address: string | null) {\n        this._address = address;\n    }\n\n    private setState(state: AdapterState) {\n        const preState = this.state;\n        if (state !== preState) {\n            this._state = state;\n            this.emit('stateChanged', state);\n        }\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGM,SAAU,cAAW;AACvB,SAAO,CAAC,EAAE,OAAO,QAAQ,OAAO,KAAK;AACzC;AACM,SAAU,kBAAe;AAC3B,SAAO,CAAC,EAAE,YAAW,KAAM,OAAO,YAAY,OAAO;AACzD;AAOM,SAAU,kBAAe;AAC3B,SAAO,YAAW,KAAM,OAAQ,OAAe,UAAU;AAC7D;AAEM,SAAU,aACZ,EAAE,UAAU,SAAQ,IAA6C,EAAE,UAAU,IAAI,UAAU,GAAE,GAAE;AAE/F,MAAI,CAAC,gBAAe,KAAM,kBAAiB,KAAM,CAAC,gBAAe,GAAI;AACjE,QAAI,kBAAkB,IAClB,kBAAkB;AACtB,QAAI;AACA,wBAAkB,SAAS;AAC3B,YAAM,OAAO,SAAS,cAAc,mBAAmB;AACvD,UAAI,MAAM;AACN,0BAAkB,IAAI,IAAI,KAAK,aAAa,MAAM,KAAK,IAAI,SAAS,IAAI,EAAE,SAAQ;MACtF;IACJ,SAAS,GAAG;IAEZ;AACA,UAAM,EAAE,QAAQ,UAAU,QAAQ,KAAI,IAAK,OAAO;AAClD,UAAM,MAAM,SAAS,WAAW,UAAU,KAAK,SAAS,GAAG,IAAI,OAAO,GAAG,IAAI;AAC7E,UAAM,SAAS;MACX,QAAQ;MACR,UAAU,KAAK,IAAG,IAAK;MACvB,aAAa;;MACb,UAAU,YAAY;MACtB,UAAU,YAAY;MACtB;MACA,UAAU;MACV,SAAS;MACT,SAAS;;AAEb,WAAO,SAAS,OAAO,yCAAyC,mBAAmB,KAAK,UAAU,MAAM,CAAC,CAAC;AAC1G,WAAO;EACX;AACA,SAAO;AACX;AAEM,SAAgB,iBAAiB,SAAa;;AAChD,WAAO,IAAI,QAAc,CAAC,SAAS,WAAU;AACzC,YAAM,WAAW,YAAY,MAAK;AAC9B,YAAI,QAAQ,SAAS;AACjB,wBAAc,QAAQ;AACtB,uBAAa,OAAO;AACpB,kBAAO;QACX;MACJ,GAAG,EAAE;AACL,YAAM,UAAU,WAAW,MAAK;AAC5B,sBAAc,QAAQ;AACtB,eAAO,qCAAqC;MAChD,GAAG,GAAI;IACX,CAAC;EACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BM,IAAM,oBAAiD;EAC1D,cAAc,YAAY;EAC1B,cAAc,YAAY;EAC1B,cAAc,YAAY;;AAGxB,SAAgB,wBAAwB,SAAgB;;;AAC1D,UAAM,EAAE,UAAU,GAAE,IAAK,MAAM,QAAQ,IAAI,iBAAiB,CAAC;AAC7D,UAAM,UAAU,KAAK,QAAQ,MAAM,EAAE,CAAC;AACtC,WAAO;MACH,aAAa,kBAAkB,OAAO,KAAK,YAAY;MACvD;MACA,YAAU,KAAA,QAAQ,cAAQ,QAAA,OAAA,SAAA,SAAA,GAAE,SAAQ;MACpC,gBAAc,KAAA,QAAQ,kBAAY,QAAA,OAAA,SAAA,SAAA,GAAE,SAAQ;MAC5C,eAAa,KAAA,QAAQ,iBAAW,QAAA,OAAA,SAAA,SAAA,GAAE,SAAQ;;EAElD,CAAC;;AA8BM,IAAM,sBAAsB;AAE7B,IAAO,kBAAP,cAA+B,QAAO;;EAgBxC,YAAY,SAAgC,CAAA,GAAE;AAC1C,UAAK;AAhBT,SAAA,OAAO;AACP,SAAA,MAAM;AACN,SAAA,OACI;AAGI,SAAA,cAAgC,YAAW,IAAK,iBAAiB,UAAU,iBAAiB;AAC5F,SAAA,SAAuB,aAAa;AAKpC,SAAA,0BAA0B;AA4R1B,SAAA,0BAA0B,CAAC,MAA2B;;AAC1D,YAAM,WAAU,KAAA,EAAE,UAAI,QAAA,OAAA,SAAA,SAAA,GAAE;AACxB,UAAI,CAAC,SAAS;AACV;MACJ;AACA,UAAI,QAAQ,WAAW,mBAAmB;AACtC,mBAAW,MAAK;;AACZ,gBAAM,UAAU,KAAK,WAAW;AAChC,eAAIA,MAAC,KAAK,aAA0B,QAAAA,QAAA,SAAA,SAAAA,IAAE,OAAO;AACzC,kBAAM,UAAW,QAAQ,KAAkC;AAC3D,iBAAK,WAAW,OAAO;AACvB,iBAAK,SAAS,aAAa,SAAS;UACxC,OAAO;AACH,iBAAK,WAAW,IAAI;AACpB,iBAAK,SAAS,aAAa,UAAU;UACzC;AACA,eAAK,KAAK,mBAAmB,KAAK,WAAW,IAAI,OAAO;AACxD,cAAI,CAAC,WAAW,KAAK,SAAS;AAC1B,iBAAK,KAAK,WAAW,KAAK,OAAO;UACrC,WAAW,WAAW,CAAC,KAAK,SAAS;AACjC,iBAAK,KAAK,YAAY;UAC1B;QACJ,GAAG,GAAG;MACV,WAAW,QAAQ,WAAW,WAAW;AACrC,aAAK,KAAK,gBAAgB,EAAE,WAAS,MAAA,KAAC,QAAQ,UAAgC,QAAA,OAAA,SAAA,SAAA,GAAE,UAAI,QAAA,OAAA,SAAA,SAAA,GAAE,YAAW,GAAE,CAAE;MACzG,WAAW,QAAQ,WAAW,WAAW;AACrC,cAAM,YAAU,MAAA,KAAC,KAAK,QAA2B,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AACpF,aAAK,WAAW,OAAO;AACvB,aAAK,SAAS,aAAa,SAAS;AACpC,aAAK,KAAK,WAAW,OAAO;MAChC,WAAW,QAAQ,WAAW,cAAc;AACxC,aAAK,WAAW,IAAI;AACpB,aAAK,SAAS,aAAa,UAAU;AACrC,aAAK,KAAK,YAAY;MAC1B;IACJ;AA2BQ,SAAA,kBAA4C,CAAC,SAAQ;AACzD,WAAK,KAAK,gBAAgB,IAAI;IAClC;AAEQ,SAAA,qBAAkD,MAAK;;AAC3D,YAAM,UAAU,KAAK,WAAW;AAChC,YAAM,YAAW,KAAA,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,cAAW,MAAA,KAAA,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,QAAQ,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAW;AAC3F,UAAI,CAAC,SAAS;AAGV,aAAK,WAAW,IAAI;AACpB,aAAK,SAAS,aAAa,UAAU;MACzC,OAAO;AACH,cAAM,UAAU;AAChB,aAAK,WAAW,OAAO;AACvB,aAAK,SAAS,aAAa,SAAS;MACxC;AACA,WAAK,KAAK,mBAAmB,KAAK,WAAW,IAAI,OAAO;AACxD,UAAI,CAAC,WAAW,KAAK,SAAS;AAC1B,aAAK,KAAK,WAAW,KAAK,OAAO;MACrC,WAAW,WAAW,CAAC,KAAK,SAAS;AACjC,aAAK,KAAK,YAAY;MAC1B;IACJ;AAEQ,SAAA,gBAAyC;AAmCzC,SAAA,gBAAgB,MAAK;;AACzB,UAAI,QAAQ,KAAK;AACjB,UAAI,UAAU,KAAK;AACnB,UAAI,kBAAiB,GAAI;AACrB,YAAI,OAAO,UAAU;AACjB,eAAK,UAAU,OAAO;QAC1B,OAAO;AACH,eAAK,UAAU;YACX,OAAO,CAAC,GAAC,KAAA,OAAO,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE;YACzB,SAAS,OAAO;YAChB,SAAS,MAAM,QAAQ,QAAQ,IAAI;;QAE3C;AACA,oBAAU,MAAA,KAAA,KAAK,QAAQ,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AAC1D,gBAAQ,UAAU,aAAa,YAAY,aAAa;MAC5D,WAAW,OAAO,QAAQ,OAAO,KAAK,YAAY;AAC9C,aAAK,0BAA0B;AAC/B,aAAK,UAAU,OAAO;AACtB,aAAK,iBAAgB;AACrB,YAAI;AACA,sBAAW,KAAA,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,cAAW,MAAA,KAAA,KAAK,QAAQ,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAW;AACrF,kBAAQ,UAAU,aAAa,YAAY,aAAa;QAC5D,SAAS,GAAG;AACR,kBAAQ,MAAM,mBAAmB,GAAG,4CAA4C;AAChF,oBAAU;AACV,kBAAQ,aAAa;AACrB,eAAK,cAAc,iBAAiB;AACpC,eAAK,KAAK,qBAAqB,KAAK,UAAU;AAC9C;QACJ;MACJ,WAAW,OAAO,UAAU;AACxB,aAAK,UAAU,OAAO;AACtB,aAAK,qBAAoB;AACzB,oBAAU,MAAA,KAAA,KAAK,QAAQ,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AAC1D,gBAAQ,KAAK,QAAQ,QAAQ,aAAa,YAAY,aAAa;MACvE,WAAW,OAAO,SAAS;AAEvB,aAAK,UAAU;UACX,OAAO,OAAO,QAAQ;UACtB,SAAS,OAAO;UAChB,SAAS,MAAM,QAAQ,QAAQ,IAAI;;AAEvC,oBAAU,KAAA,KAAK,QAAQ,QAAQ,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AACzD,gBAAQ,KAAK,QAAQ,QAAQ,aAAa,YAAY,aAAa;MACvE,OAAO;AAEH,aAAK,UAAU;AACf,kBAAU;AACV,gBAAQ,aAAa;MACzB;AAEA,UAAI,kBAAiB,KAAM,UAAU,aAAa,YAAY;AAC1D,aAAK,0BAAyB;MAClC;AACA,WAAK,WAAW,OAAO;AACvB,WAAK,SAAS,KAAK;IACvB;AAEQ,SAAA,qBAA4D;AA3chE,UAAM,EACF,eAAe,KAAK,KACpB,WAAW,IACX,WAAW,IACX,4BAA4B,MAC5B,0BAA0B,KAAI,IAC9B;AACJ,QAAI,OAAO,iBAAiB,UAAU;AAClC,YAAM,IAAI,MAAM,0DAA0D;IAC9E;AACA,SAAK,SAAS;MACV;MACA;MACA;MACA;MACA;;AAEJ,SAAK,cAAc;AACnB,SAAK,UAAU;AACf,SAAK,WAAW;AAEhB,QAAI,CAAC,YAAW,GAAI;AAChB,WAAK,cAAc,iBAAiB;AACpC,WAAK,SAAS,aAAa,QAAQ;AACnC;IACJ;AACA,QAAI,YAAW,KAAO,kBAAiB,MAAO,OAAO,YAAY,OAAO,UAAW;AAC/E,WAAK,cAAc,iBAAiB;AACpC,WAAK,cAAa;IACtB,OAAO;AACH,WAAK,aAAY,EAAG,KAAK,MAAK;AAC1B,YAAI,KAAK,WAAW;AAChB,eAAK,KAAK,WAAW,KAAK,WAAW,EAAE;QAC3C;MACJ,CAAC;IACL;EACJ;EAEA,IAAI,UAAO;AACP,WAAO,KAAK;EAChB;EAEA,IAAI,QAAK;AACL,WAAO,KAAK;EAChB;EACA,IAAI,aAAU;AACV,WAAO,KAAK;EAChB;EAEA,IAAI,aAAU;AACV,WAAO,KAAK;EAChB;;;;;EAMM,UAAO;;;AACT,UAAI;AACA,cAAM,KAAK,aAAY;AACvB,YAAI,KAAK,UAAU,aAAa;AAAW,gBAAM,IAAI,wBAAuB;AAC5E,cAAM,YAAU,KAAA,KAAK,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,YAAW,OAAO;AAChD,YAAI,CAAC;AAAS,gBAAM,IAAI,wBAAuB;AAC/C,YAAI;AACA,iBAAO,MAAM,wBAAwB,OAAO;QAChD,SAAS,GAAQ;AACb,gBAAM,IAAI,sBAAsB,MAAC,QAAD,MAAC,SAAA,SAAD,EAAG,SAAS,CAAC;QACjD;MACJ,SAAS,GAAQ;AACb,aAAK,KAAK,SAAS,CAAC;AACpB,cAAM;MACV;IACJ,CAAC;;EAEK,UAAO;;;AACT,UAAI;AACA,aAAK,oBAAmB;AACxB,YAAI,KAAK,aAAa,KAAK;AAAY;AACvC,cAAM,KAAK,aAAY;AACvB,YAAI,KAAK,UAAU,aAAa,UAAU;AACtC,cAAI,KAAK,OAAO,8BAA8B,SAAS,YAAW,GAAI;AAClE,mBAAO,KAAK,KAAK,KAAK,QAAQ;UAClC;AACA,gBAAM,IAAI,oBAAmB;QACjC;AAEA,YAAI,CAAC,KAAK;AAAS;AACnB,aAAK,cAAc;AACnB,YAAI,KAAK,yBAAyB;AAC9B,gBAAM,SAAS,KAAK;AACpB,cAAI;AACA,kBAAM,MAAM,MAAM,OAAO,QAAQ,EAAE,QAAQ,sBAAqB,CAAE;AAClE,kBAAM,UAAU,IAAI,CAAC;AACrB,iBAAK,WAAW,OAAO;AACvB,iBAAK,SAAS,aAAa,SAAS;AACpC,iBAAK,iBAAgB;AACrB,gBAAI,CAAC,KAAK,QAAQ,SAAS;AACvB,oBAAM,iBAAiB,KAAK,OAAe;YAC/C;UACJ,SAAS,OAAY;AACjB,gBAAI,WAAU,UAAK,QAAL,UAAK,SAAA,SAAL,MAAO,YAAW,SAAS;AACzC,gBAAI,MAAM,SAAS,QAAQ;AACvB,wBACI;YACR;AACA,gBAAI,MAAM,SAAS,MAAM;AACrB,wBAAU;YACd;AACA,kBAAM,IAAI,sBAAsB,SAAS,KAAK;UAClD;QACJ,WAAW,OAAO,UAAU;AACxB,gBAAM,SAAS,KAAK;AACpB,cAAI;AACA,kBAAM,MAAM,MAAM,OAAO,QAAQ,EAAE,QAAQ,uBAAsB,CAAE;AACnE,gBAAI,CAAC,KAAK;AAGN,oBAAM,IAAI,sBAAsB,8DAA8D;YAClG;AACA,gBAAI,IAAI,SAAS,KAAM;AACnB,oBAAM,IAAI,sBACN,yHAAyH;YAEjI;AACA,gBAAI,IAAI,SAAS,MAAM;AACnB,oBAAM,IAAI,sBAAsB,+BAA+B;YACnE;UACJ,SAAS,OAAY;AACjB,kBAAM,IAAI,sBAAsB,UAAK,QAAL,UAAK,SAAA,SAAL,MAAO,SAAS,KAAK;UACzD;AAEA,gBAAM,YAAU,KAAA,OAAO,QAAQ,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AACzD,eAAK,WAAW,OAAO;AACvB,eAAK,SAAS,aAAa,SAAS;AACpC,eAAK,qBAAoB;QAC7B,WAAW,OAAO,SAAS;AACvB,gBAAM,SAAS,KAAK;AACpB,gBAAM,YAAU,KAAA,OAAO,QAAQ,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAE,WAAU;AACzD,eAAK,WAAW,OAAO;AACvB,eAAK,SAAS,aAAa,SAAS;QACxC,OAAO;AACH,gBAAM,IAAI,sBAAsB,wBAAwB;QAC5D;AACA,aAAK,aAAa,KAAK,KAAK,WAAW,KAAK,WAAW,EAAE;MAC7D,SAAS,OAAY;AACjB,aAAK,KAAK,SAAS,KAAK;AACxB,cAAM;MACV;AACI,aAAK,cAAc;MACvB;IACJ,CAAC;;EAEK,aAAU;;AACZ,UAAI,KAAK,yBAAyB;AAC9B,aAAK,qBAAoB;MAC7B,OAAO;AACH,aAAK,yBAAwB;MACjC;AACA,UAAI,KAAK,UAAU,aAAa,WAAW;AACvC;MACJ;AACA,WAAK,WAAW,IAAI;AACpB,WAAK,SAAS,aAAa,UAAU;AACrC,WAAK,KAAK,YAAY;IAC1B,CAAC;;EAEK,gBAAgB,aAA0B,YAAmB;;AAC/D,UAAI;AACA,cAAM,SAAS,MAAM,KAAK,kBAAiB;AAE3C,YAAI;AACA,iBAAO,MAAM,OAAO,QAAQ,IAAI,KAAK,aAAa,UAAU;QAChE,SAAS,OAAY;AACjB,cAAI,iBAAiB,OAAO;AACxB,kBAAM,IAAI,2BAA2B,MAAM,SAAS,KAAK;UAC7D,OAAO;AACH,kBAAM,IAAI,2BAA2B,OAAO,IAAI,MAAM,KAAK,CAAC;UAChE;QACJ;MACJ,SAAS,OAAY;AACjB,aAAK,KAAK,SAAS,KAAK;AACxB,cAAM;MACV;IACJ,CAAC;;EAEK,UACF,aACA,YACA,cAAqB;;AAErB,UAAI;AACA,cAAM,SAAS,MAAM,KAAK,kBAAiB;AAE3C,YAAI;AACA,iBAAO,MAAM,OAAO,QAAQ,IAAI,UAAU,aAAa,YAAY,YAAY;QACnF,SAAS,OAAY;AACjB,cAAI,iBAAiB,OAAO;AACxB,kBAAM,IAAI,2BAA2B,MAAM,SAAS,KAAK;UAC7D,OAAO;AACH,kBAAM,IAAI,2BAA2B,OAAO,IAAI,MAAM,KAAK,CAAC;UAChE;QACJ;MACJ,SAAS,OAAY;AACjB,aAAK,KAAK,SAAS,KAAK;AACxB,cAAM;MACV;IACJ,CAAC;;EAEK,YAAY,SAAiB,YAAmB;;AAClD,UAAI;AACA,cAAM,SAAS,MAAM,KAAK,kBAAiB;AAC3C,YAAI;AACA,iBAAO,MAAM,OAAO,QAAQ,IAAI,cAAc,SAAS,UAAU;QACrE,SAAS,OAAY;AACjB,cAAI,iBAAiB,OAAO;AACxB,kBAAM,IAAI,uBAAuB,MAAM,SAAS,KAAK;UACzD,OAAO;AACH,kBAAM,IAAI,uBAAuB,OAAO,IAAI,MAAM,KAAK,CAAC;UAC5D;QACJ;MACJ,SAAS,OAAY;AACjB,aAAK,KAAK,SAAS,KAAK;AACxB,cAAM;MACV;IACJ,CAAC;;;;;;;;;;EAUK,YAAY,SAAe;;AAC7B,UAAI;AACA,cAAM,KAAK,aAAY;AACvB,YAAI,KAAK,UAAU,aAAa,UAAU;AACtC,cAAI,KAAK,OAAO,8BAA8B,SAAS,YAAW,GAAI;AAClE,mBAAO,KAAK,KAAK,KAAK,QAAQ;UAClC;AACA,gBAAM,IAAI,oBAAmB;QACjC;AACA,YAAI,CAAC,KAAK,yBAAyB;AAC/B,gBAAM,IAAI,uBAAuB,qEAAqE;QAC1G;AACA,cAAM,SAAS,KAAK;AACpB,YAAI;AACA,gBAAM,OAAO,QAAQ;YACjB,QAAQ;YACR,QAAQ,CAAC,EAAE,QAAO,CAAE;WACvB;QACL,SAAS,GAAQ;AACb,gBAAM,IAAI,wBAAuB,MAAC,QAAD,MAAC,SAAA,SAAD,EAAG,YAAW,GAAG,aAAa,QAAQ,IAAI,IAAI,MAAM,CAAC,CAAC;QAC3F;MACJ,SAAS,OAAY;AACjB,aAAK,KAAK,SAAS,KAAK;AACxB,cAAM;MACV;IACJ,CAAC;;EAEa,oBAAiB;;AAC3B,WAAK,oBAAmB;AACxB,YAAM,KAAK,aAAY;AACvB,UAAI,KAAK,UAAU,aAAa;AAAW,cAAM,IAAI,wBAAuB;AAC5E,YAAM,SAAS,KAAK;AACpB,UAAI,CAAC,UAAU,CAAC,OAAO;AAAS,cAAM,IAAI,wBAAuB;AACjE,aAAO;IACX,CAAC;;EAEO,uBAAoB;AACxB,SAAK,yBAAwB;AAC7B,WAAO,iBAAiB,WAAW,KAAK,uBAAuB;EACnE;EAEQ,2BAAwB;AAC5B,WAAO,oBAAoB,WAAW,KAAK,uBAAuB;EACtE;EAuCQ,sBAAmB;AACvB,UAAM,EAAE,WAAW,IAAI,WAAW,GAAE,IAAK,KAAK;AAC9C,QAAI,KAAK,OAAO,4BAA4B,OAAO;AAC/C;IACJ;AACA,QAAI,aAAa,EAAE,UAAU,SAAQ,CAAE,GAAG;AACtC,YAAM,IAAI,oBAAmB;IACjC;EACJ;;EAGQ,mBAAgB;;AACpB,SAAK,qBAAoB;AACzB,SAAK,yBAAwB;AAC7B,UAAM,SAAS,KAAK;AACpB,KAAA,KAAA,OAAO,QAAE,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,gBAAgB,KAAK,eAAe;AAChD,KAAA,KAAA,OAAO,QAAE,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,mBAAmB,KAAK,kBAAkB;EAC1D;EAEQ,uBAAoB;;AACxB,UAAM,SAAS,KAAK;AACpB,KAAA,KAAA,OAAO,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,gBAAgB,KAAK,eAAe;AAC5D,KAAA,KAAA,OAAO,oBAAc,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,mBAAmB,KAAK,kBAAkB;EACtE;;;;;EAgCQ,eAAY;AAChB,QAAI,KAAK,eAAe,iBAAiB,OAAO;AAC5C,aAAO,QAAQ,QAAQ,IAAI;IAC/B;AACA,QAAI,KAAK,eAAe;AACpB,aAAO,KAAK;IAChB;AACA,UAAM,WAAW;AACjB,UAAM,iBAAiB,KAAK,MAAM,MAAO,QAAQ;AACjD,UAAM,WAAW,KAAK,MAAM,KAAK,OAAO,eAAe,QAAQ;AAC/D,QAAI,QAAQ,GACR;AACJ,SAAK,gBAAgB,IAAI,QAAQ,CAAC,YAAW;AACzC,YAAM,QAAQ,MAAK;AACf;AACA,cAAM,YAAY,QAAQ,kBAAkB,CAAC,kBAAiB,IAAK,YAAW,IAAK,gBAAe;AAClG,YAAI,aAAa,QAAQ,UAAU;AAC/B,mBAAS,cAAc,KAAK;AAC5B,eAAK,cAAc,YAAY,iBAAiB,QAAQ,iBAAiB;AACzE,eAAK,cAAa;AAClB,eAAK,KAAK,qBAAqB,KAAK,UAAU;AAC9C,kBAAQ,SAAS;QACrB;MACJ;AACA,cAAQ,YAAY,OAAO,QAAQ;AACnC,YAAK;IACT,CAAC;AACD,WAAO,KAAK;EAChB;EA6DQ,4BAAyB;AAC7B,QAAI,KAAK,oBAAoB;AACzB;IACJ;AACA,QAAI,QAAQ;AACZ,UAAM,WAAW,KAAK,MAAM,KAAK,OAAO,eAAe,GAAG;AAC1D,UAAM,QAAQ,MAAK;;AACf,UAAI,OAAO,YAAW,KAAA,OAAO,SAAS,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,kBAAiB,KAAA,OAAO,aAAO,QAAA,OAAA,SAAA,SAAA,GAAE,gBAAgB;AAC5F,aAAK,sBAAsB,cAAc,KAAK,kBAAkB;AAChE,aAAK,qBAAqB;AAC1B,aAAK,cAAa;AAClB,aAAK,KAAK,WAAW,KAAK,WAAW,EAAE;MAC3C,WAAW,QAAQ,UAAU;AACzB,aAAK,sBAAsB,cAAc,KAAK,kBAAkB;AAChE,aAAK,qBAAqB;MAC9B,OAAO;AACH;MACJ;IACJ;AACA,SAAK,qBAAqB,YAAY,OAAO,GAAG;EACpD;EACQ,WAAW,SAAsB;AACrC,SAAK,WAAW;EACpB;EAEQ,SAAS,OAAmB;AAChC,UAAM,WAAW,KAAK;AACtB,QAAI,UAAU,UAAU;AACpB,WAAK,SAAS;AACd,WAAK,KAAK,gBAAgB,KAAK;IACnC;EACJ;;",
  "names": ["_a"]
}

import {
  require_semver
} from "./chunk-2RHGYRSM.js";
import {
  require_hash
} from "./chunk-VCVUG7C2.js";
import "./chunk-SLHCFHH4.js";
import {
  DisconnectedDevice,
  DisconnectedDeviceDuringOperation,
  StatusCodes,
  TransportError,
  TransportOpenUserCancelled,
  TransportRaceCondition,
  TransportStatusError,
  init_lib_es,
  lib_es_exports,
  log
} from "./chunk-XAVRVGNV.js";
import {
  WalletConnectAdapter,
  WalletConnectWalletName
} from "./chunk-SECN3WU6.js";
import "./chunk-YUBRYVSQ.js";
import "./chunk-UOPZH6UJ.js";
import "./chunk-NEXHQUEX.js";
import "./chunk-5O7QEJOR.js";
import "./chunk-B3ZV4KHH.js";
import "./chunk-E5GIEKQV.js";
import "./chunk-G6TMTT7J.js";
import "./chunk-LI2VV255.js";
import "./chunk-MNZ2R5XO.js";
import "./chunk-72Q63BL4.js";
import "./chunk-5ITTDC3H.js";
import {
  require_events
} from "./chunk-P462YRXK.js";
import "./chunk-7F5D6BMV.js";
import "./chunk-CIFUO6GN.js";
import "./chunk-OBSIY7QV.js";
import "./chunk-YXPKUK4B.js";
import {
  init_eventemitter3
} from "./chunk-WAJLCQCQ.js";
import "./chunk-OAUNBI7H.js";
import {
  require_buffer
} from "./chunk-QLIPPSGG.js";
import "./chunk-3IIR2JB6.js";
import "./chunk-MUG7H3QV.js";
import "./chunk-KCM3CGOE.js";
import "./chunk-UILIC4UQ.js";
import {
  TronLinkAdapter,
  TronLinkAdapterName,
  chainIdNetworkMap,
  getNetworkInfoByTronWeb,
  isInTronLinkApp,
  openTronLink,
  supportTron,
  supportTronLink,
  waitTronwebReady
} from "./chunk-JFDTCSIU.js";
import {
  Adapter,
  AdapterState,
  NetworkType,
  TIP6963AnnounceProviderEventName,
  TIP6963RequestProviderEventName,
  WalletConnectionError,
  WalletDisconnectedError,
  WalletDisconnectionError,
  WalletError,
  WalletGetNetworkError,
  WalletNotFoundError,
  WalletReadyState,
  WalletSignMessageError,
  WalletSignTransactionError,
  isInBrowser,
  isInMobileBrowser
} from "./chunk-MXXBAQAJ.js";
import {
  __commonJS,
  __publicField,
  __toCommonJS,
  __toESM
} from "./chunk-256EKJAK.js";

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/devices/lib/hid-framing.js
var require_hid_framing = __commonJS({
  "../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/devices/lib/hid-framing.js"(exports) {
    "use strict";
    exports.__esModule = true;
    var errors_1 = (init_lib_es(), __toCommonJS(lib_es_exports));
    var Tag = 5;
    function asUInt16BE(value) {
      var b2 = Buffer.alloc(2);
      b2.writeUInt16BE(value, 0);
      return b2;
    }
    var initialAcc = {
      data: Buffer.alloc(0),
      dataLength: 0,
      sequence: 0
    };
    var createHIDframing = function(channel, packetSize) {
      return {
        makeBlocks: function(apdu) {
          var data = Buffer.concat([asUInt16BE(apdu.length), apdu]);
          var blockSize = packetSize - 5;
          var nbBlocks = Math.ceil(data.length / blockSize);
          data = Buffer.concat([
            data,
            Buffer.alloc(nbBlocks * blockSize - data.length + 1).fill(0)
          ]);
          var blocks = [];
          for (var i4 = 0; i4 < nbBlocks; i4++) {
            var head = Buffer.alloc(5);
            head.writeUInt16BE(channel, 0);
            head.writeUInt8(Tag, 2);
            head.writeUInt16BE(i4, 3);
            var chunk = data.slice(i4 * blockSize, (i4 + 1) * blockSize);
            blocks.push(Buffer.concat([head, chunk]));
          }
          return blocks;
        },
        reduceResponse: function(acc, chunk) {
          var _a2 = acc || initialAcc, data = _a2.data, dataLength = _a2.dataLength, sequence = _a2.sequence;
          if (chunk.readUInt16BE(0) !== channel) {
            throw new errors_1.TransportError("Invalid channel", "InvalidChannel");
          }
          if (chunk.readUInt8(2) !== Tag) {
            throw new errors_1.TransportError("Invalid tag", "InvalidTag");
          }
          if (chunk.readUInt16BE(3) !== sequence) {
            throw new errors_1.TransportError("Invalid sequence", "InvalidSequence");
          }
          if (!acc) {
            dataLength = chunk.readUInt16BE(5);
          }
          sequence++;
          var chunkData = chunk.slice(acc ? 5 : 7);
          data = Buffer.concat([data, chunkData]);
          if (data.length > dataLength) {
            data = data.slice(0, dataLength);
          }
          return {
            data,
            dataLength,
            sequence
          };
        },
        getReducedResult: function(acc) {
          if (acc && acc.dataLength === acc.data.length) {
            return acc.data;
          }
        }
      };
    };
    exports["default"] = createHIDframing;
  }
});

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/polyfills/Buffer.js
var import_buffer = __toESM(require_buffer(), 1);
if (typeof window !== "undefined" && window.Buffer === void 0) {
  window.Buffer = import_buffer.Buffer;
}

// ../node_modules/@ledgerhq/hw-app-trx/lib-es/utils.js
function splitPath(path) {
  const result = [];
  const components = path.split("/");
  components.forEach((element) => {
    let number = parseInt(element, 10);
    if (isNaN(number)) {
      return;
    }
    if (element.length > 1 && element[element.length - 1] === "'") {
      number += 2147483648;
    }
    result.push(number);
  });
  return result;
}
function foreach(arr, callback) {
  function iterate(index, array, result) {
    if (index >= array.length) {
      return result;
    } else
      return callback(array[index], index).then(function(res) {
        result.push(res);
        return iterate(index + 1, array, result);
      });
  }
  return Promise.resolve().then(() => iterate(0, arr, []));
}
function decodeVarint(stream, index) {
  let result = 0;
  let shift = 0;
  let pos = index;
  while (shift < 64) {
    const b2 = stream[pos];
    result |= (b2 & 127) << shift;
    pos += 1;
    if (!(b2 & 128)) {
      result &= 4294967295;
      return {
        value: result,
        pos
      };
    }
    shift += 7;
  }
  throw new Error("Too many bytes when decoding varint.");
}
var padHexString = (str) => {
  return str.length % 2 ? "0" + str : str;
};
function hexBuffer(str) {
  const strWithoutPrefix = str.startsWith("0x") ? str.slice(2) : str;
  return Buffer.from(padHexString(strWithoutPrefix), "hex");
}

// ../node_modules/@ledgerhq/hw-app-trx/lib-es/TIP712/index.js
var CLA = 224;
var signTIP712HashedMessage = (transport, path, domainSeparatorHex, hashStructMessageHex) => {
  const domainSeparator = hexBuffer(domainSeparatorHex);
  const hashStruct = hexBuffer(hashStructMessageHex);
  const paths = splitPath(path);
  const buffer = Buffer.alloc(1 + paths.length * 4 + 32 + 32, 0);
  let offset = 0;
  buffer[0] = paths.length;
  paths.forEach((element, index) => {
    buffer.writeUint32BE(element, 1 + 4 * index);
  });
  offset = 1 + 4 * paths.length;
  domainSeparator.copy(buffer, offset);
  offset += 32;
  hashStruct.copy(buffer, offset);
  return transport.send(CLA, 12, 0, 0, buffer).then((response) => {
    return response.slice(0, 65).toString("hex");
  });
};

// ../node_modules/@ledgerhq/hw-app-trx/lib-es/Trx.js
var remapTransactionRelatedErrors = (e11) => {
  if (e11 && e11.statusCode === 27264) {
  }
  return e11;
};
var PATH_SIZE = 4;
var PATHS_LENGTH_SIZE = 1;
var CLA2 = 224;
var ADDRESS = 2;
var SIGN = 4;
var SIGN_HASH = 5;
var SIGN_MESSAGE = 8;
var ECDH_SECRET = 10;
var VERSION = 6;
var CHUNK_SIZE = 250;
var Trx = class {
  constructor(transport, scrambleKey = "TRX") {
    __publicField(this, "transport");
    this.transport = transport;
    transport.decorateAppAPIMethods(this, [
      "getAddress",
      "getECDHPairKey",
      "signTransaction",
      "signTransactionHash",
      "signPersonalMessage",
      "signTIP712HashedMessage",
      "getAppConfiguration"
    ], scrambleKey);
  }
  /**
   * get Tron address for a given BIP 32 path.
   * @param path a path in BIP 32 format
   * @option boolDisplay optionally enable or not the display
   * @return an object with a publicKey and address
   * @example
   * const address = await tron.getAddress("44'/195'/0'/0/0").then(o => o.address)
   */
  getAddress(path, boolDisplay) {
    const paths = splitPath(path);
    const buffer = Buffer.alloc(PATHS_LENGTH_SIZE + paths.length * PATH_SIZE);
    buffer[0] = paths.length;
    paths.forEach((element, index) => {
      buffer.writeUInt32BE(element, 1 + 4 * index);
    });
    return this.transport.send(CLA2, ADDRESS, boolDisplay ? 1 : 0, 0, buffer).then((response) => {
      const publicKeyLength = response[0];
      const addressLength = response[1 + publicKeyLength];
      return {
        publicKey: response.slice(1, 1 + publicKeyLength).toString("hex"),
        address: response.slice(1 + publicKeyLength + 1, 1 + publicKeyLength + 1 + addressLength).toString("ascii")
      };
    });
  }
  getNextLength(tx) {
    const field = decodeVarint(tx, 0);
    const data = decodeVarint(tx, field.pos);
    if ((field.value & 7) === 0)
      return data.pos;
    return data.value + data.pos;
  }
  /**
   * sign a Tron transaction with a given BIP 32 path and Token Names
   *
   * @param path a path in BIP 32 format
   * @param rawTxHex a raw transaction hex string
   * @param tokenSignatures Tokens Signatures array
   * @option version pack message based on ledger firmware version
   * @option smartContract boolean hack to set limit buffer on ledger device
   * @return a signature as hex string
   * @example
   * const signature = await tron.signTransaction("44'/195'/0'/0/0", "0a02f5942208704dda506d59dceb40f0f4978f802e5a69080112650a2d747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e5472616e73666572436f6e747261637412340a1541978dbd103cfe59c35e753d09dd44ae1ae64621c7121541e2ae49db6a70b9b4757d2137a43b69b24a445780188ef8b5ba0470cbb5948f802e", [], 105);
   */
  signTransaction(path, rawTxHex, tokenSignatures) {
    const paths = splitPath(path);
    let rawTx = Buffer.from(rawTxHex, "hex");
    const toSend = [];
    let data = Buffer.alloc(PATHS_LENGTH_SIZE + paths.length * PATH_SIZE);
    data[0] = paths.length;
    paths.forEach((element, index) => {
      data.writeUInt32BE(element, 1 + 4 * index);
    });
    while (rawTx.length > 0) {
      const newpos = this.getNextLength(rawTx);
      if (newpos > CHUNK_SIZE)
        throw new Error("Too many bytes to encode.");
      if (data.length + newpos > CHUNK_SIZE) {
        toSend.push(data);
        data = Buffer.alloc(0);
        continue;
      }
      data = Buffer.concat([data, rawTx.slice(0, newpos)]);
      rawTx = rawTx.slice(newpos, rawTx.length);
    }
    toSend.push(data);
    const startBytes = [];
    let response;
    const tokenPos = toSend.length;
    if (tokenSignatures !== void 0) {
      for (let i4 = 0; i4 < tokenSignatures.length; i4 += 1) {
        const buffer = Buffer.from(tokenSignatures[i4], "hex");
        toSend.push(buffer);
      }
    }
    if (toSend.length === 1) {
      startBytes.push(16);
    } else {
      startBytes.push(0);
      for (let i4 = 1; i4 < toSend.length - 1; i4 += 1) {
        if (i4 >= tokenPos) {
          startBytes.push(160 | 0 | i4 - tokenPos);
        } else {
          startBytes.push(128);
        }
      }
      if (tokenSignatures !== void 0 && tokenSignatures.length) {
        startBytes.push(160 | 8 | tokenSignatures.length - 1);
      } else {
        startBytes.push(144);
      }
    }
    return foreach(toSend, (data2, i4) => {
      return this.transport.send(CLA2, SIGN, startBytes[i4], 0, data2).then((apduResponse) => {
        response = apduResponse;
      });
    }).then(() => {
      return response.slice(0, 65).toString("hex");
    }, (e11) => {
      throw remapTransactionRelatedErrors(e11);
    });
  }
  /**
   * sign a Tron transaction hash with a given BIP 32 path
   *
   * @param path a path in BIP 32 format
   * @param rawTxHex a raw transaction hex string
   * @return a signature as hex string
   * @example
   * const signature = await tron.signTransactionHash("44'/195'/0'/0/0", "25b18a55f86afb10e7aca38d0073d04c80397c6636069193953fdefaea0b8369");
   */
  signTransactionHash(path, rawTxHashHex) {
    const paths = splitPath(path);
    let data = Buffer.alloc(PATHS_LENGTH_SIZE + paths.length * PATH_SIZE);
    data[0] = paths.length;
    paths.forEach((element, index) => {
      data.writeUInt32BE(element, 1 + 4 * index);
    });
    data = Buffer.concat([data, Buffer.from(rawTxHashHex, "hex")]);
    return this.transport.send(CLA2, SIGN_HASH, 0, 0, data).then((response) => {
      return response.slice(0, 65).toString("hex");
    });
  }
  /**
   * get the version of the Tron app installed on the hardware device
   *
   * @return an object with a version
   * @example
   * const result = await tron.getAppConfiguration();
   * {
   *   "version": "0.1.5",
   *   "versionN": "105".
   *   "allowData": false,
   *   "allowContract": false,
   *   "truncateAddress": false,
   *   "signByHash": false
   * }
   */
  getAppConfiguration() {
    return this.transport.send(CLA2, VERSION, 0, 0).then((response) => {
      const signByHash = (response[0] & 1 << 3) > 0;
      let truncateAddress = (response[0] & 1 << 2) > 0;
      let allowContract = (response[0] & 1 << 1) > 0;
      let allowData = (response[0] & 1 << 0) > 0;
      if (response[1] === 0 && response[2] === 1 && response[3] < 2) {
        allowData = true;
        allowContract = false;
      }
      if (response[1] === 0 && response[2] === 1 && response[3] < 5) {
        truncateAddress = false;
      }
      const result = {
        version: `${response[1]}.${response[2]}.${response[3]}`,
        versionN: response[1] * 1e4 + response[2] * 100 + response[3],
        allowData,
        allowContract,
        truncateAddress,
        signByHash
      };
      return result;
    });
  }
  /**
   * sign a Tron Message with a given BIP 32 path
   *
   * @param path a path in BIP 32 format
   * @param message hex string to sign
   * @return a signature as hex string
   * @example
   * const signature = await tron.signPersonalMessage("44'/195'/0'/0/0", "43727970746f436861696e2d54726f6e5352204c6564676572205472616e73616374696f6e73205465737473");
   */
  signPersonalMessage(path, messageHex) {
    const paths = splitPath(path);
    const message = Buffer.from(messageHex, "hex");
    let offset = 0;
    const toSend = [];
    const size = message.length.toString(16);
    const sizePack = "00000000".substr(size.length) + size;
    const packed = Buffer.concat([Buffer.from(sizePack, "hex"), message]);
    while (offset < packed.length) {
      const maxChunkSize = offset === 0 ? CHUNK_SIZE - 1 - paths.length * 4 : CHUNK_SIZE;
      const chunkSize = offset + maxChunkSize > packed.length ? packed.length - offset : maxChunkSize;
      const buffer = Buffer.alloc(offset === 0 ? 1 + paths.length * 4 + chunkSize : chunkSize);
      if (offset === 0) {
        buffer[0] = paths.length;
        paths.forEach((element, index) => {
          buffer.writeUInt32BE(element, 1 + 4 * index);
        });
        packed.copy(buffer, 1 + 4 * paths.length, offset, offset + chunkSize);
      } else {
        packed.copy(buffer, 0, offset, offset + chunkSize);
      }
      toSend.push(buffer);
      offset += chunkSize;
    }
    let response;
    return foreach(toSend, (data, i4) => {
      return this.transport.send(CLA2, SIGN_MESSAGE, i4 === 0 ? 0 : 128, 0, data).then((apduResponse) => {
        response = apduResponse;
      });
    }).then(() => {
      return response.slice(0, 65).toString("hex");
    });
  }
  /**
   * Sign a typed data. The host computes the domain separator and hashStruct(message)
   * @example
     const signature = await tronApp.signTIP712HashedMessage("44'/195'/0'/0/0",Buffer.from( "0101010101010101010101010101010101010101010101010101010101010101").toString("hex"), Buffer.from("0202020202020202020202020202020202020202020202020202020202020202").toString("hex"));
   */
  signTIP712HashedMessage(path, domainSeparatorHex, hashStructMessageHex) {
    return signTIP712HashedMessage(this.transport, path, domainSeparatorHex, hashStructMessageHex);
  }
  /**
   * get Tron address for a given BIP 32 path.
   * @param path a path in BIP 32 format
   * @param publicKey address public key to generate pair key
   * @return shared key hex string,
   * @example
   * const signature = await tron.getECDHPairKey("44'/195'/0'/0/0", "04ff21f8e64d3a3c0198edfbb7afdc79be959432e92e2f8a1984bb436a414b8edcec0345aad0c1bf7da04fd036dd7f9f617e30669224283d950fab9dd84831dc83");
   */
  getECDHPairKey(path, publicKey) {
    const paths = splitPath(path);
    const data = Buffer.from(publicKey, "hex");
    const buffer = Buffer.alloc(1 + paths.length * 4 + data.length);
    buffer[0] = paths.length;
    paths.forEach((element, index) => {
      buffer.writeUInt32BE(element, 1 + 4 * index);
    });
    data.copy(buffer, 1 + 4 * paths.length, 0, data.length);
    return this.transport.send(CLA2, ECDH_SECRET, 0, 1, buffer).then((response) => response.slice(0, 65).toString("hex"));
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js
var import_events = __toESM(require_events());
init_lib_es();
var __awaiter = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator = function(thisArg, body) {
  var _4 = { label: 0, sent: function() {
    if (t4[0] & 1) throw t4[1];
    return t4[1];
  }, trys: [], ops: [] }, f5, y3, t4, g4;
  return g4 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g4[Symbol.iterator] = function() {
    return this;
  }), g4;
  function verb(n2) {
    return function(v3) {
      return step([n2, v3]);
    };
  }
  function step(op) {
    if (f5) throw new TypeError("Generator is already executing.");
    while (_4) try {
      if (f5 = 1, y3 && (t4 = op[0] & 2 ? y3["return"] : op[0] ? y3["throw"] || ((t4 = y3["return"]) && t4.call(y3), 0) : y3.next) && !(t4 = t4.call(y3, op[1])).done) return t4;
      if (y3 = 0, t4) op = [op[0] & 2, t4.value];
      switch (op[0]) {
        case 0:
        case 1:
          t4 = op;
          break;
        case 4:
          _4.label++;
          return { value: op[1], done: false };
        case 5:
          _4.label++;
          y3 = op[1];
          op = [0];
          continue;
        case 7:
          op = _4.ops.pop();
          _4.trys.pop();
          continue;
        default:
          if (!(t4 = _4.trys, t4 = t4.length > 0 && t4[t4.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _4 = 0;
            continue;
          }
          if (op[0] === 3 && (!t4 || op[1] > t4[0] && op[1] < t4[3])) {
            _4.label = op[1];
            break;
          }
          if (op[0] === 6 && _4.label < t4[1]) {
            _4.label = t4[1];
            t4 = op;
            break;
          }
          if (t4 && _4.label < t4[2]) {
            _4.label = t4[2];
            _4.ops.push(op);
            break;
          }
          if (t4[2]) _4.ops.pop();
          _4.trys.pop();
          continue;
      }
      op = body.call(thisArg, _4);
    } catch (e11) {
      op = [6, e11];
      y3 = 0;
    } finally {
      f5 = t4 = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __read = function(o3, n2) {
  var m4 = typeof Symbol === "function" && o3[Symbol.iterator];
  if (!m4) return o3;
  var i4 = m4.call(o3), r3, ar = [], e11;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r3 = i4.next()).done) ar.push(r3.value);
  } catch (error) {
    e11 = { error };
  } finally {
    try {
      if (r3 && !r3.done && (m4 = i4["return"])) m4.call(i4);
    } finally {
      if (e11) throw e11.error;
    }
  }
  return ar;
};
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i4 = 0, l4 = from.length, ar; i4 < l4; i4++) {
    if (ar || !(i4 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i4);
      ar[i4] = from[i4];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var __values = function(o3) {
  var s4 = typeof Symbol === "function" && Symbol.iterator, m4 = s4 && o3[s4], i4 = 0;
  if (m4) return m4.call(o3);
  if (o3 && typeof o3.length === "number") return {
    next: function() {
      if (o3 && i4 >= o3.length) o3 = void 0;
      return { value: o3 && o3[i4++], done: !o3 };
    }
  };
  throw new TypeError(s4 ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
var Transport = (
  /** @class */
  (function() {
    function Transport2() {
      var _this = this;
      this.exchangeTimeout = 3e4;
      this.unresponsiveTimeout = 15e3;
      this.deviceModel = null;
      this._events = new import_events.default();
      this.send = function(cla, ins, p1, p22, data, statusList) {
        if (data === void 0) {
          data = Buffer.alloc(0);
        }
        if (statusList === void 0) {
          statusList = [StatusCodes.OK];
        }
        return __awaiter(_this, void 0, void 0, function() {
          var response, sw;
          return __generator(this, function(_a2) {
            switch (_a2.label) {
              case 0:
                if (data.length >= 256) {
                  throw new TransportError("data.length exceed 256 bytes limit. Got: " + data.length, "DataLengthTooBig");
                }
                return [4, this.exchange(Buffer.concat([
                  Buffer.from([cla, ins, p1, p22]),
                  Buffer.from([data.length]),
                  data
                ]))];
              case 1:
                response = _a2.sent();
                sw = response.readUInt16BE(response.length - 2);
                if (!statusList.some(function(s4) {
                  return s4 === sw;
                })) {
                  throw new TransportStatusError(sw);
                }
                return [2, response];
            }
          });
        });
      };
      this.exchangeAtomicImpl = function(f5) {
        return __awaiter(_this, void 0, void 0, function() {
          var resolveBusy, busyPromise, unresponsiveReached, timeout, res;
          var _this2 = this;
          return __generator(this, function(_a2) {
            switch (_a2.label) {
              case 0:
                if (this.exchangeBusyPromise) {
                  throw new TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");
                }
                busyPromise = new Promise(function(r3) {
                  resolveBusy = r3;
                });
                this.exchangeBusyPromise = busyPromise;
                unresponsiveReached = false;
                timeout = setTimeout(function() {
                  unresponsiveReached = true;
                  _this2.emit("unresponsive");
                }, this.unresponsiveTimeout);
                _a2.label = 1;
              case 1:
                _a2.trys.push([1, , 3, 4]);
                return [4, f5()];
              case 2:
                res = _a2.sent();
                if (unresponsiveReached) {
                  this.emit("responsive");
                }
                return [2, res];
              case 3:
                clearTimeout(timeout);
                if (resolveBusy)
                  resolveBusy();
                this.exchangeBusyPromise = null;
                return [
                  7
                  /*endfinally*/
                ];
              case 4:
                return [
                  2
                  /*return*/
                ];
            }
          });
        });
      };
      this._appAPIlock = null;
    }
    Transport2.prototype.exchange = function(_apdu) {
      throw new Error("exchange not implemented");
    };
    Transport2.prototype.setScrambleKey = function(_key) {
    };
    Transport2.prototype.close = function() {
      return Promise.resolve();
    };
    Transport2.prototype.on = function(eventName, cb) {
      this._events.on(eventName, cb);
    };
    Transport2.prototype.off = function(eventName, cb) {
      this._events.removeListener(eventName, cb);
    };
    Transport2.prototype.emit = function(event) {
      var _a2;
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
      }
      (_a2 = this._events).emit.apply(_a2, __spreadArray([event], __read(args), false));
    };
    Transport2.prototype.setDebugMode = function() {
      console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.");
    };
    Transport2.prototype.setExchangeTimeout = function(exchangeTimeout) {
      this.exchangeTimeout = exchangeTimeout;
    };
    Transport2.prototype.setExchangeUnresponsiveTimeout = function(unresponsiveTimeout) {
      this.unresponsiveTimeout = unresponsiveTimeout;
    };
    Transport2.create = function(openTimeout, listenTimeout) {
      var _this = this;
      if (openTimeout === void 0) {
        openTimeout = 3e3;
      }
      return new Promise(function(resolve, reject) {
        var found = false;
        var sub = _this.listen({
          next: function(e11) {
            found = true;
            if (sub)
              sub.unsubscribe();
            if (listenTimeoutId)
              clearTimeout(listenTimeoutId);
            _this.open(e11.descriptor, openTimeout).then(resolve, reject);
          },
          error: function(e11) {
            if (listenTimeoutId)
              clearTimeout(listenTimeoutId);
            reject(e11);
          },
          complete: function() {
            if (listenTimeoutId)
              clearTimeout(listenTimeoutId);
            if (!found) {
              reject(new TransportError(_this.ErrorMessage_NoDeviceFound, "NoDeviceFound"));
            }
          }
        });
        var listenTimeoutId = listenTimeout ? setTimeout(function() {
          sub.unsubscribe();
          reject(new TransportError(_this.ErrorMessage_ListenTimeout, "ListenTimeout"));
        }, listenTimeout) : null;
      });
    };
    Transport2.prototype.decorateAppAPIMethods = function(self, methods, scrambleKey) {
      var e_1, _a2;
      try {
        for (var methods_1 = __values(methods), methods_1_1 = methods_1.next(); !methods_1_1.done; methods_1_1 = methods_1.next()) {
          var methodName = methods_1_1.value;
          self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (methods_1_1 && !methods_1_1.done && (_a2 = methods_1["return"])) _a2.call(methods_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    };
    Transport2.prototype.decorateAppAPIMethod = function(methodName, f5, ctx, scrambleKey) {
      var _this = this;
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          args[_i] = arguments[_i];
        }
        return __awaiter(_this, void 0, void 0, function() {
          var _appAPIlock;
          return __generator(this, function(_a2) {
            switch (_a2.label) {
              case 0:
                _appAPIlock = this._appAPIlock;
                if (_appAPIlock) {
                  return [2, Promise.reject(new TransportError("Ledger Device is busy (lock " + _appAPIlock + ")", "TransportLocked"))];
                }
                _a2.label = 1;
              case 1:
                _a2.trys.push([1, , 3, 4]);
                this._appAPIlock = methodName;
                this.setScrambleKey(scrambleKey);
                return [4, f5.apply(ctx, args)];
              case 2:
                return [2, _a2.sent()];
              case 3:
                this._appAPIlock = null;
                return [
                  7
                  /*endfinally*/
                ];
              case 4:
                return [
                  2
                  /*return*/
                ];
            }
          });
        });
      };
    };
    Transport2.ErrorMessage_ListenTimeout = "No Ledger device found (timeout)";
    Transport2.ErrorMessage_NoDeviceFound = "No Ledger device found";
    return Transport2;
  })()
);
var Transport_default = Transport;

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/hw-transport-webhid/lib-es/TransportWebHID.js
var import_hid_framing = __toESM(require_hid_framing());

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/devices/lib-es/index.js
var import_semver = __toESM(require_semver());
var __assign = function() {
  __assign = Object.assign || function(t4) {
    for (var s4, i4 = 1, n2 = arguments.length; i4 < n2; i4++) {
      s4 = arguments[i4];
      for (var p4 in s4) if (Object.prototype.hasOwnProperty.call(s4, p4))
        t4[p4] = s4[p4];
    }
    return t4;
  };
  return __assign.apply(this, arguments);
};
var _a;
var DeviceModelId;
(function(DeviceModelId2) {
  DeviceModelId2["blue"] = "blue";
  DeviceModelId2["nanoS"] = "nanoS";
  DeviceModelId2["nanoSP"] = "nanoSP";
  DeviceModelId2["nanoX"] = "nanoX";
  DeviceModelId2["nanoFTS"] = "nanoFTS";
})(DeviceModelId || (DeviceModelId = {}));
var devices = (_a = {}, _a[DeviceModelId.blue] = {
  id: DeviceModelId.blue,
  productName: "Ledger Blue",
  productIdMM: 0,
  legacyUsbProductId: 0,
  usbOnly: true,
  memorySize: 480 * 1024,
  masks: [822083584, 822149120],
  getBlockSize: function(_firwareVersion) {
    return 4 * 1024;
  }
}, _a[DeviceModelId.nanoS] = {
  id: DeviceModelId.nanoS,
  productName: "Ledger Nano S",
  productIdMM: 16,
  legacyUsbProductId: 1,
  usbOnly: true,
  memorySize: 320 * 1024,
  masks: [823132160],
  getBlockSize: function(firmwareVersion) {
    var _a2;
    return import_semver.default.lt((_a2 = import_semver.default.coerce(firmwareVersion)) !== null && _a2 !== void 0 ? _a2 : "", "2.0.0") ? 4 * 1024 : 2 * 1024;
  }
}, _a[DeviceModelId.nanoSP] = {
  id: DeviceModelId.nanoSP,
  productName: "Ledger Nano S Plus",
  productIdMM: 80,
  legacyUsbProductId: 5,
  usbOnly: true,
  memorySize: 1536 * 1024,
  masks: [856686592],
  getBlockSize: function(_firmwareVersion) {
    return 32;
  }
}, _a[DeviceModelId.nanoX] = {
  id: DeviceModelId.nanoX,
  productName: "Ledger Nano X",
  productIdMM: 64,
  legacyUsbProductId: 4,
  usbOnly: false,
  memorySize: 2 * 1024 * 1024,
  masks: [855638016],
  getBlockSize: function(_firwareVersion) {
    return 4 * 1024;
  },
  bluetoothSpec: [
    {
      serviceUuid: "13d63400-2c97-0004-0000-4c6564676572",
      notifyUuid: "13d63400-2c97-0004-0001-4c6564676572",
      writeUuid: "13d63400-2c97-0004-0002-4c6564676572",
      writeCmdUuid: "13d63400-2c97-0004-0003-4c6564676572"
    }
  ]
}, _a[DeviceModelId.nanoFTS] = {
  id: DeviceModelId.nanoFTS,
  productName: "Ledger Nano FTS",
  productIdMM: 96,
  legacyUsbProductId: 6,
  usbOnly: false,
  memorySize: 2 * 1024 * 1024,
  masks: [857735168],
  getBlockSize: function(_firwareVersion) {
    return 4 * 1024;
  },
  bluetoothSpec: [
    {
      serviceUuid: "13d63400-2c97-6004-0000-4c6564676572",
      notifyUuid: "13d63400-2c97-6004-0001-4c6564676572",
      writeUuid: "13d63400-2c97-6004-0002-4c6564676572",
      writeCmdUuid: "13d63400-2c97-6004-0003-4c6564676572"
    }
  ]
}, _a);
var productMap = {
  Blue: DeviceModelId.blue,
  "Nano S": DeviceModelId.nanoS,
  "Nano S Plus": DeviceModelId.nanoSP,
  "Nano X": DeviceModelId.nanoX,
  "Nano FTS": DeviceModelId.nanoFTS
};
var devicesList = Object.values(devices);
var ledgerUSBVendorId = 11415;
var identifyUSBProductId = function(usbProductId) {
  var legacy = devicesList.find(function(d4) {
    return d4.legacyUsbProductId === usbProductId;
  });
  if (legacy)
    return legacy;
  var mm = usbProductId >> 8;
  var deviceModel = devicesList.find(function(d4) {
    return d4.productIdMM === mm;
  });
  return deviceModel;
};
var bluetoothServices = [];
var serviceUuidToInfos = {};
for (id in devices) {
  deviceModel = devices[id];
  bluetoothSpec = deviceModel.bluetoothSpec;
  if (bluetoothSpec) {
    for (i4 = 0; i4 < bluetoothSpec.length; i4++) {
      spec = bluetoothSpec[i4];
      bluetoothServices.push(spec.serviceUuid);
      serviceUuidToInfos[spec.serviceUuid] = serviceUuidToInfos[spec.serviceUuid.replace(/-/g, "")] = __assign({ deviceModel }, spec);
    }
  }
}
var deviceModel;
var bluetoothSpec;
var spec;
var i4;
var id;

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/node_modules/@ledgerhq/hw-transport-webhid/lib-es/TransportWebHID.js
init_lib_es();
var __extends = /* @__PURE__ */ (function() {
  var extendStatics = function(d4, b2) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d5, b3) {
      d5.__proto__ = b3;
    } || function(d5, b3) {
      for (var p4 in b3) if (Object.prototype.hasOwnProperty.call(b3, p4)) d5[p4] = b3[p4];
    };
    return extendStatics(d4, b2);
  };
  return function(d4, b2) {
    if (typeof b2 !== "function" && b2 !== null)
      throw new TypeError("Class extends value " + String(b2) + " is not a constructor or null");
    extendStatics(d4, b2);
    function __() {
      this.constructor = d4;
    }
    d4.prototype = b2 === null ? Object.create(b2) : (__.prototype = b2.prototype, new __());
  };
})();
var __awaiter2 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator2 = function(thisArg, body) {
  var _4 = { label: 0, sent: function() {
    if (t4[0] & 1) throw t4[1];
    return t4[1];
  }, trys: [], ops: [] }, f5, y3, t4, g4;
  return g4 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g4[Symbol.iterator] = function() {
    return this;
  }), g4;
  function verb(n2) {
    return function(v3) {
      return step([n2, v3]);
    };
  }
  function step(op) {
    if (f5) throw new TypeError("Generator is already executing.");
    while (_4) try {
      if (f5 = 1, y3 && (t4 = op[0] & 2 ? y3["return"] : op[0] ? y3["throw"] || ((t4 = y3["return"]) && t4.call(y3), 0) : y3.next) && !(t4 = t4.call(y3, op[1])).done) return t4;
      if (y3 = 0, t4) op = [op[0] & 2, t4.value];
      switch (op[0]) {
        case 0:
        case 1:
          t4 = op;
          break;
        case 4:
          _4.label++;
          return { value: op[1], done: false };
        case 5:
          _4.label++;
          y3 = op[1];
          op = [0];
          continue;
        case 7:
          op = _4.ops.pop();
          _4.trys.pop();
          continue;
        default:
          if (!(t4 = _4.trys, t4 = t4.length > 0 && t4[t4.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _4 = 0;
            continue;
          }
          if (op[0] === 3 && (!t4 || op[1] > t4[0] && op[1] < t4[3])) {
            _4.label = op[1];
            break;
          }
          if (op[0] === 6 && _4.label < t4[1]) {
            _4.label = t4[1];
            t4 = op;
            break;
          }
          if (t4 && _4.label < t4[2]) {
            _4.label = t4[2];
            _4.ops.push(op);
            break;
          }
          if (t4[2]) _4.ops.pop();
          _4.trys.pop();
          continue;
      }
      op = body.call(thisArg, _4);
    } catch (e11) {
      op = [6, e11];
      y3 = 0;
    } finally {
      f5 = t4 = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __read2 = function(o3, n2) {
  var m4 = typeof Symbol === "function" && o3[Symbol.iterator];
  if (!m4) return o3;
  var i4 = m4.call(o3), r3, ar = [], e11;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r3 = i4.next()).done) ar.push(r3.value);
  } catch (error) {
    e11 = { error };
  } finally {
    try {
      if (r3 && !r3.done && (m4 = i4["return"])) m4.call(i4);
    } finally {
      if (e11) throw e11.error;
    }
  }
  return ar;
};
var ledgerDevices = [
  {
    vendorId: ledgerUSBVendorId
  }
];
var isSupported = function() {
  return Promise.resolve(!!(window.navigator && window.navigator.hid));
};
var getHID = function() {
  var hid = navigator.hid;
  if (!hid)
    throw new TransportError("navigator.hid is not supported", "HIDNotSupported");
  return hid;
};
function requestLedgerDevices() {
  return __awaiter2(this, void 0, void 0, function() {
    var device;
    return __generator2(this, function(_a2) {
      switch (_a2.label) {
        case 0:
          return [4, getHID().requestDevice({
            filters: ledgerDevices
          })];
        case 1:
          device = _a2.sent();
          if (Array.isArray(device))
            return [2, device];
          return [2, [device]];
      }
    });
  });
}
function getLedgerDevices() {
  return __awaiter2(this, void 0, void 0, function() {
    var devices2;
    return __generator2(this, function(_a2) {
      switch (_a2.label) {
        case 0:
          return [4, getHID().getDevices()];
        case 1:
          devices2 = _a2.sent();
          return [2, devices2.filter(function(d4) {
            return d4.vendorId === ledgerUSBVendorId;
          })];
      }
    });
  });
}
function getFirstLedgerDevice() {
  return __awaiter2(this, void 0, void 0, function() {
    var existingDevices, devices2;
    return __generator2(this, function(_a2) {
      switch (_a2.label) {
        case 0:
          return [4, getLedgerDevices()];
        case 1:
          existingDevices = _a2.sent();
          if (existingDevices.length > 0)
            return [2, existingDevices[0]];
          return [4, requestLedgerDevices()];
        case 2:
          devices2 = _a2.sent();
          return [2, devices2[0]];
      }
    });
  });
}
var TransportWebHID = (
  /** @class */
  (function(_super) {
    __extends(TransportWebHID2, _super);
    function TransportWebHID2(device) {
      var _this = _super.call(this) || this;
      _this.channel = Math.floor(Math.random() * 65535);
      _this.packetSize = 64;
      _this.inputs = [];
      _this.read = function() {
        if (_this.inputs.length) {
          return Promise.resolve(_this.inputs.shift());
        }
        return new Promise(function(success) {
          _this.inputCallback = success;
        });
      };
      _this.onInputReport = function(e11) {
        var buffer = Buffer.from(e11.data.buffer);
        if (_this.inputCallback) {
          _this.inputCallback(buffer);
          _this.inputCallback = null;
        } else {
          _this.inputs.push(buffer);
        }
      };
      _this._disconnectEmitted = false;
      _this._emitDisconnect = function(e11) {
        if (_this._disconnectEmitted)
          return;
        _this._disconnectEmitted = true;
        _this.emit("disconnect", e11);
      };
      _this.exchange = function(apdu) {
        return __awaiter2(_this, void 0, void 0, function() {
          var b2;
          var _this2 = this;
          return __generator2(this, function(_a2) {
            switch (_a2.label) {
              case 0:
                return [4, this.exchangeAtomicImpl(function() {
                  return __awaiter2(_this2, void 0, void 0, function() {
                    var _a3, channel, packetSize, framing, blocks, i4, result, acc, buffer;
                    return __generator2(this, function(_b) {
                      switch (_b.label) {
                        case 0:
                          _a3 = this, channel = _a3.channel, packetSize = _a3.packetSize;
                          log("apdu", "=> " + apdu.toString("hex"));
                          framing = (0, import_hid_framing.default)(channel, packetSize);
                          blocks = framing.makeBlocks(apdu);
                          i4 = 0;
                          _b.label = 1;
                        case 1:
                          if (!(i4 < blocks.length)) return [3, 4];
                          return [4, this.device.sendReport(0, blocks[i4])];
                        case 2:
                          _b.sent();
                          _b.label = 3;
                        case 3:
                          i4++;
                          return [3, 1];
                        case 4:
                          if (!!(result = framing.getReducedResult(acc))) return [3, 6];
                          return [4, this.read()];
                        case 5:
                          buffer = _b.sent();
                          acc = framing.reduceResponse(acc, buffer);
                          return [3, 4];
                        case 6:
                          log("apdu", "<= " + result.toString("hex"));
                          return [2, result];
                      }
                    });
                  });
                })["catch"](function(e11) {
                  if (e11 && e11.message && e11.message.includes("write")) {
                    _this2._emitDisconnect(e11);
                    throw new DisconnectedDeviceDuringOperation(e11.message);
                  }
                  throw e11;
                })];
              case 1:
                b2 = _a2.sent();
                return [2, b2];
            }
          });
        });
      };
      _this.device = device;
      _this.deviceModel = typeof device.productId === "number" ? identifyUSBProductId(device.productId) : void 0;
      device.addEventListener("inputreport", _this.onInputReport);
      return _this;
    }
    TransportWebHID2.request = function() {
      return __awaiter2(this, void 0, void 0, function() {
        var _a2, device;
        return __generator2(this, function(_b) {
          switch (_b.label) {
            case 0:
              return [4, requestLedgerDevices()];
            case 1:
              _a2 = __read2.apply(void 0, [_b.sent(), 1]), device = _a2[0];
              return [2, TransportWebHID2.open(device)];
          }
        });
      });
    };
    TransportWebHID2.openConnected = function() {
      return __awaiter2(this, void 0, void 0, function() {
        var devices2;
        return __generator2(this, function(_a2) {
          switch (_a2.label) {
            case 0:
              return [4, getLedgerDevices()];
            case 1:
              devices2 = _a2.sent();
              if (devices2.length === 0)
                return [2, null];
              return [2, TransportWebHID2.open(devices2[0])];
          }
        });
      });
    };
    TransportWebHID2.open = function(device) {
      return __awaiter2(this, void 0, void 0, function() {
        var transport, onDisconnect;
        return __generator2(this, function(_a2) {
          switch (_a2.label) {
            case 0:
              return [4, device.open()];
            case 1:
              _a2.sent();
              transport = new TransportWebHID2(device);
              onDisconnect = function(e11) {
                if (device === e11.device) {
                  getHID().removeEventListener("disconnect", onDisconnect);
                  transport._emitDisconnect(new DisconnectedDevice());
                }
              };
              getHID().addEventListener("disconnect", onDisconnect);
              return [2, transport];
          }
        });
      });
    };
    TransportWebHID2.prototype.close = function() {
      return __awaiter2(this, void 0, void 0, function() {
        return __generator2(this, function(_a2) {
          switch (_a2.label) {
            case 0:
              return [4, this.exchangeBusyPromise];
            case 1:
              _a2.sent();
              this.device.removeEventListener("inputreport", this.onInputReport);
              return [4, this.device.close()];
            case 2:
              _a2.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TransportWebHID2.prototype.setScrambleKey = function() {
    };
    TransportWebHID2.isSupported = isSupported;
    TransportWebHID2.list = getLedgerDevices;
    TransportWebHID2.listen = function(observer) {
      var unsubscribed = false;
      getFirstLedgerDevice().then(function(device) {
        if (!device) {
          observer.error(new TransportOpenUserCancelled("Access denied to use Ledger device"));
        } else if (!unsubscribed) {
          var deviceModel = typeof device.productId === "number" ? identifyUSBProductId(device.productId) : void 0;
          observer.next({
            type: "add",
            descriptor: device,
            deviceModel
          });
          observer.complete();
        }
      }, function(error) {
        observer.error(new TransportOpenUserCancelled(error.message));
      });
      function unsubscribe() {
        unsubscribed = true;
      }
      return {
        unsubscribe
      };
    };
    return TransportWebHID2;
  })(Transport_default)
);
var TransportWebHID_default = TransportWebHID;

// ../node_modules/preact/dist/preact.module.js
var n;
var l;
var u;
var t;
var i;
var r;
var o;
var e;
var f;
var c;
var s;
var a;
var h;
var p = {};
var v = [];
var y = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
var w = Array.isArray;
function d(n2, l4) {
  for (var u5 in l4) n2[u5] = l4[u5];
  return n2;
}
function g(n2) {
  n2 && n2.parentNode && n2.parentNode.removeChild(n2);
}
function _(l4, u5, t4) {
  var i4, r3, o3, e11 = {};
  for (o3 in u5) "key" == o3 ? i4 = u5[o3] : "ref" == o3 ? r3 = u5[o3] : e11[o3] = u5[o3];
  if (arguments.length > 2 && (e11.children = arguments.length > 3 ? n.call(arguments, 2) : t4), "function" == typeof l4 && null != l4.defaultProps) for (o3 in l4.defaultProps) void 0 === e11[o3] && (e11[o3] = l4.defaultProps[o3]);
  return m(l4, e11, i4, r3, null);
}
function m(n2, t4, i4, r3, o3) {
  var e11 = { type: n2, props: t4, key: i4, ref: r3, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: null == o3 ? ++u : o3, __i: -1, __u: 0 };
  return null == o3 && null != l.vnode && l.vnode(e11), e11;
}
function k(n2) {
  return n2.children;
}
function x(n2, l4) {
  this.props = n2, this.context = l4;
}
function S(n2, l4) {
  if (null == l4) return n2.__ ? S(n2.__, n2.__i + 1) : null;
  for (var u5; l4 < n2.__k.length; l4++) if (null != (u5 = n2.__k[l4]) && null != u5.__e) return u5.__e;
  return "function" == typeof n2.type ? S(n2) : null;
}
function C(n2) {
  var l4, u5;
  if (null != (n2 = n2.__) && null != n2.__c) {
    for (n2.__e = n2.__c.base = null, l4 = 0; l4 < n2.__k.length; l4++) if (null != (u5 = n2.__k[l4]) && null != u5.__e) {
      n2.__e = n2.__c.base = u5.__e;
      break;
    }
    return C(n2);
  }
}
function M(n2) {
  (!n2.__d && (n2.__d = true) && i.push(n2) && !$.__r++ || r != l.debounceRendering) && ((r = l.debounceRendering) || o)($);
}
function $() {
  for (var n2, u5, t4, r3, o3, f5, c4, s4 = 1; i.length; ) i.length > s4 && i.sort(e), n2 = i.shift(), s4 = i.length, n2.__d && (t4 = void 0, r3 = void 0, o3 = (r3 = (u5 = n2).__v).__e, f5 = [], c4 = [], u5.__P && ((t4 = d({}, r3)).__v = r3.__v + 1, l.vnode && l.vnode(t4), O(u5.__P, t4, r3, u5.__n, u5.__P.namespaceURI, 32 & r3.__u ? [o3] : null, f5, null == o3 ? S(r3) : o3, !!(32 & r3.__u), c4), t4.__v = r3.__v, t4.__.__k[t4.__i] = t4, N(f5, t4, c4), r3.__e = r3.__ = null, t4.__e != o3 && C(t4)));
  $.__r = 0;
}
function I(n2, l4, u5, t4, i4, r3, o3, e11, f5, c4, s4) {
  var a4, h3, y3, w4, d4, g4, _4, m4 = t4 && t4.__k || v, b2 = l4.length;
  for (f5 = P(u5, l4, m4, f5, b2), a4 = 0; a4 < b2; a4++) null != (y3 = u5.__k[a4]) && (h3 = -1 == y3.__i ? p : m4[y3.__i] || p, y3.__i = a4, g4 = O(n2, y3, h3, i4, r3, o3, e11, f5, c4, s4), w4 = y3.__e, y3.ref && h3.ref != y3.ref && (h3.ref && B(h3.ref, null, y3), s4.push(y3.ref, y3.__c || w4, y3)), null == d4 && null != w4 && (d4 = w4), (_4 = !!(4 & y3.__u)) || h3.__k === y3.__k ? f5 = A(y3, f5, n2, _4) : "function" == typeof y3.type && void 0 !== g4 ? f5 = g4 : w4 && (f5 = w4.nextSibling), y3.__u &= -7);
  return u5.__e = d4, f5;
}
function P(n2, l4, u5, t4, i4) {
  var r3, o3, e11, f5, c4, s4 = u5.length, a4 = s4, h3 = 0;
  for (n2.__k = new Array(i4), r3 = 0; r3 < i4; r3++) null != (o3 = l4[r3]) && "boolean" != typeof o3 && "function" != typeof o3 ? ("string" == typeof o3 || "number" == typeof o3 || "bigint" == typeof o3 || o3.constructor == String ? o3 = n2.__k[r3] = m(null, o3, null, null, null) : w(o3) ? o3 = n2.__k[r3] = m(k, { children: o3 }, null, null, null) : null == o3.constructor && o3.__b > 0 ? o3 = n2.__k[r3] = m(o3.type, o3.props, o3.key, o3.ref ? o3.ref : null, o3.__v) : n2.__k[r3] = o3, f5 = r3 + h3, o3.__ = n2, o3.__b = n2.__b + 1, e11 = null, -1 != (c4 = o3.__i = L(o3, u5, f5, a4)) && (a4--, (e11 = u5[c4]) && (e11.__u |= 2)), null == e11 || null == e11.__v ? (-1 == c4 && (i4 > s4 ? h3-- : i4 < s4 && h3++), "function" != typeof o3.type && (o3.__u |= 4)) : c4 != f5 && (c4 == f5 - 1 ? h3-- : c4 == f5 + 1 ? h3++ : (c4 > f5 ? h3-- : h3++, o3.__u |= 4))) : n2.__k[r3] = null;
  if (a4) for (r3 = 0; r3 < s4; r3++) null != (e11 = u5[r3]) && 0 == (2 & e11.__u) && (e11.__e == t4 && (t4 = S(e11)), D(e11, e11));
  return t4;
}
function A(n2, l4, u5, t4) {
  var i4, r3;
  if ("function" == typeof n2.type) {
    for (i4 = n2.__k, r3 = 0; i4 && r3 < i4.length; r3++) i4[r3] && (i4[r3].__ = n2, l4 = A(i4[r3], l4, u5, t4));
    return l4;
  }
  n2.__e != l4 && (t4 && (l4 && n2.type && !l4.parentNode && (l4 = S(n2)), u5.insertBefore(n2.__e, l4 || null)), l4 = n2.__e);
  do {
    l4 = l4 && l4.nextSibling;
  } while (null != l4 && 8 == l4.nodeType);
  return l4;
}
function H(n2, l4) {
  return l4 = l4 || [], null == n2 || "boolean" == typeof n2 || (w(n2) ? n2.some(function(n3) {
    H(n3, l4);
  }) : l4.push(n2)), l4;
}
function L(n2, l4, u5, t4) {
  var i4, r3, o3, e11 = n2.key, f5 = n2.type, c4 = l4[u5], s4 = null != c4 && 0 == (2 & c4.__u);
  if (null === c4 && null == e11 || s4 && e11 == c4.key && f5 == c4.type) return u5;
  if (t4 > (s4 ? 1 : 0)) {
    for (i4 = u5 - 1, r3 = u5 + 1; i4 >= 0 || r3 < l4.length; ) if (null != (c4 = l4[o3 = i4 >= 0 ? i4-- : r3++]) && 0 == (2 & c4.__u) && e11 == c4.key && f5 == c4.type) return o3;
  }
  return -1;
}
function T(n2, l4, u5) {
  "-" == l4[0] ? n2.setProperty(l4, null == u5 ? "" : u5) : n2[l4] = null == u5 ? "" : "number" != typeof u5 || y.test(l4) ? u5 : u5 + "px";
}
function j(n2, l4, u5, t4, i4) {
  var r3, o3;
  n: if ("style" == l4) if ("string" == typeof u5) n2.style.cssText = u5;
  else {
    if ("string" == typeof t4 && (n2.style.cssText = t4 = ""), t4) for (l4 in t4) u5 && l4 in u5 || T(n2.style, l4, "");
    if (u5) for (l4 in u5) t4 && u5[l4] == t4[l4] || T(n2.style, l4, u5[l4]);
  }
  else if ("o" == l4[0] && "n" == l4[1]) r3 = l4 != (l4 = l4.replace(f, "$1")), o3 = l4.toLowerCase(), l4 = o3 in n2 || "onFocusOut" == l4 || "onFocusIn" == l4 ? o3.slice(2) : l4.slice(2), n2.l || (n2.l = {}), n2.l[l4 + r3] = u5, u5 ? t4 ? u5.u = t4.u : (u5.u = c, n2.addEventListener(l4, r3 ? a : s, r3)) : n2.removeEventListener(l4, r3 ? a : s, r3);
  else {
    if ("http://www.w3.org/2000/svg" == i4) l4 = l4.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
    else if ("width" != l4 && "height" != l4 && "href" != l4 && "list" != l4 && "form" != l4 && "tabIndex" != l4 && "download" != l4 && "rowSpan" != l4 && "colSpan" != l4 && "role" != l4 && "popover" != l4 && l4 in n2) try {
      n2[l4] = null == u5 ? "" : u5;
      break n;
    } catch (n3) {
    }
    "function" == typeof u5 || (null == u5 || false === u5 && "-" != l4[4] ? n2.removeAttribute(l4) : n2.setAttribute(l4, "popover" == l4 && 1 == u5 ? "" : u5));
  }
}
function F(n2) {
  return function(u5) {
    if (this.l) {
      var t4 = this.l[u5.type + n2];
      if (null == u5.t) u5.t = c++;
      else if (u5.t < t4.u) return;
      return t4(l.event ? l.event(u5) : u5);
    }
  };
}
function O(n2, u5, t4, i4, r3, o3, e11, f5, c4, s4) {
  var a4, h3, p4, v3, y3, _4, m4, b2, S2, C4, M2, $2, P5, A5, H3, L2, T5, j5 = u5.type;
  if (null != u5.constructor) return null;
  128 & t4.__u && (c4 = !!(32 & t4.__u), o3 = [f5 = u5.__e = t4.__e]), (a4 = l.__b) && a4(u5);
  n: if ("function" == typeof j5) try {
    if (b2 = u5.props, S2 = "prototype" in j5 && j5.prototype.render, C4 = (a4 = j5.contextType) && i4[a4.__c], M2 = a4 ? C4 ? C4.props.value : a4.__ : i4, t4.__c ? m4 = (h3 = u5.__c = t4.__c).__ = h3.__E : (S2 ? u5.__c = h3 = new j5(b2, M2) : (u5.__c = h3 = new x(b2, M2), h3.constructor = j5, h3.render = E), C4 && C4.sub(h3), h3.state || (h3.state = {}), h3.__n = i4, p4 = h3.__d = true, h3.__h = [], h3._sb = []), S2 && null == h3.__s && (h3.__s = h3.state), S2 && null != j5.getDerivedStateFromProps && (h3.__s == h3.state && (h3.__s = d({}, h3.__s)), d(h3.__s, j5.getDerivedStateFromProps(b2, h3.__s))), v3 = h3.props, y3 = h3.state, h3.__v = u5, p4) S2 && null == j5.getDerivedStateFromProps && null != h3.componentWillMount && h3.componentWillMount(), S2 && null != h3.componentDidMount && h3.__h.push(h3.componentDidMount);
    else {
      if (S2 && null == j5.getDerivedStateFromProps && b2 !== v3 && null != h3.componentWillReceiveProps && h3.componentWillReceiveProps(b2, M2), u5.__v == t4.__v || !h3.__e && null != h3.shouldComponentUpdate && false === h3.shouldComponentUpdate(b2, h3.__s, M2)) {
        for (u5.__v != t4.__v && (h3.props = b2, h3.state = h3.__s, h3.__d = false), u5.__e = t4.__e, u5.__k = t4.__k, u5.__k.some(function(n3) {
          n3 && (n3.__ = u5);
        }), $2 = 0; $2 < h3._sb.length; $2++) h3.__h.push(h3._sb[$2]);
        h3._sb = [], h3.__h.length && e11.push(h3);
        break n;
      }
      null != h3.componentWillUpdate && h3.componentWillUpdate(b2, h3.__s, M2), S2 && null != h3.componentDidUpdate && h3.__h.push(function() {
        h3.componentDidUpdate(v3, y3, _4);
      });
    }
    if (h3.context = M2, h3.props = b2, h3.__P = n2, h3.__e = false, P5 = l.__r, A5 = 0, S2) {
      for (h3.state = h3.__s, h3.__d = false, P5 && P5(u5), a4 = h3.render(h3.props, h3.state, h3.context), H3 = 0; H3 < h3._sb.length; H3++) h3.__h.push(h3._sb[H3]);
      h3._sb = [];
    } else do {
      h3.__d = false, P5 && P5(u5), a4 = h3.render(h3.props, h3.state, h3.context), h3.state = h3.__s;
    } while (h3.__d && ++A5 < 25);
    h3.state = h3.__s, null != h3.getChildContext && (i4 = d(d({}, i4), h3.getChildContext())), S2 && !p4 && null != h3.getSnapshotBeforeUpdate && (_4 = h3.getSnapshotBeforeUpdate(v3, y3)), L2 = a4, null != a4 && a4.type === k && null == a4.key && (L2 = V(a4.props.children)), f5 = I(n2, w(L2) ? L2 : [L2], u5, t4, i4, r3, o3, e11, f5, c4, s4), h3.base = u5.__e, u5.__u &= -161, h3.__h.length && e11.push(h3), m4 && (h3.__E = h3.__ = null);
  } catch (n3) {
    if (u5.__v = null, c4 || null != o3) if (n3.then) {
      for (u5.__u |= c4 ? 160 : 128; f5 && 8 == f5.nodeType && f5.nextSibling; ) f5 = f5.nextSibling;
      o3[o3.indexOf(f5)] = null, u5.__e = f5;
    } else {
      for (T5 = o3.length; T5--; ) g(o3[T5]);
      z(u5);
    }
    else u5.__e = t4.__e, u5.__k = t4.__k, n3.then || z(u5);
    l.__e(n3, u5, t4);
  }
  else null == o3 && u5.__v == t4.__v ? (u5.__k = t4.__k, u5.__e = t4.__e) : f5 = u5.__e = q(t4.__e, u5, t4, i4, r3, o3, e11, c4, s4);
  return (a4 = l.diffed) && a4(u5), 128 & u5.__u ? void 0 : f5;
}
function z(n2) {
  n2 && n2.__c && (n2.__c.__e = true), n2 && n2.__k && n2.__k.forEach(z);
}
function N(n2, u5, t4) {
  for (var i4 = 0; i4 < t4.length; i4++) B(t4[i4], t4[++i4], t4[++i4]);
  l.__c && l.__c(u5, n2), n2.some(function(u6) {
    try {
      n2 = u6.__h, u6.__h = [], n2.some(function(n3) {
        n3.call(u6);
      });
    } catch (n3) {
      l.__e(n3, u6.__v);
    }
  });
}
function V(n2) {
  return "object" != typeof n2 || null == n2 || n2.__b && n2.__b > 0 ? n2 : w(n2) ? n2.map(V) : d({}, n2);
}
function q(u5, t4, i4, r3, o3, e11, f5, c4, s4) {
  var a4, h3, v3, y3, d4, _4, m4, b2 = i4.props || p, k4 = t4.props, x4 = t4.type;
  if ("svg" == x4 ? o3 = "http://www.w3.org/2000/svg" : "math" == x4 ? o3 = "http://www.w3.org/1998/Math/MathML" : o3 || (o3 = "http://www.w3.org/1999/xhtml"), null != e11) {
    for (a4 = 0; a4 < e11.length; a4++) if ((d4 = e11[a4]) && "setAttribute" in d4 == !!x4 && (x4 ? d4.localName == x4 : 3 == d4.nodeType)) {
      u5 = d4, e11[a4] = null;
      break;
    }
  }
  if (null == u5) {
    if (null == x4) return document.createTextNode(k4);
    u5 = document.createElementNS(o3, x4, k4.is && k4), c4 && (l.__m && l.__m(t4, e11), c4 = false), e11 = null;
  }
  if (null == x4) b2 === k4 || c4 && u5.data == k4 || (u5.data = k4);
  else {
    if (e11 = e11 && n.call(u5.childNodes), !c4 && null != e11) for (b2 = {}, a4 = 0; a4 < u5.attributes.length; a4++) b2[(d4 = u5.attributes[a4]).name] = d4.value;
    for (a4 in b2) if (d4 = b2[a4], "children" == a4) ;
    else if ("dangerouslySetInnerHTML" == a4) v3 = d4;
    else if (!(a4 in k4)) {
      if ("value" == a4 && "defaultValue" in k4 || "checked" == a4 && "defaultChecked" in k4) continue;
      j(u5, a4, null, d4, o3);
    }
    for (a4 in k4) d4 = k4[a4], "children" == a4 ? y3 = d4 : "dangerouslySetInnerHTML" == a4 ? h3 = d4 : "value" == a4 ? _4 = d4 : "checked" == a4 ? m4 = d4 : c4 && "function" != typeof d4 || b2[a4] === d4 || j(u5, a4, d4, b2[a4], o3);
    if (h3) c4 || v3 && (h3.__html == v3.__html || h3.__html == u5.innerHTML) || (u5.innerHTML = h3.__html), t4.__k = [];
    else if (v3 && (u5.innerHTML = ""), I("template" == t4.type ? u5.content : u5, w(y3) ? y3 : [y3], t4, i4, r3, "foreignObject" == x4 ? "http://www.w3.org/1999/xhtml" : o3, e11, f5, e11 ? e11[0] : i4.__k && S(i4, 0), c4, s4), null != e11) for (a4 = e11.length; a4--; ) g(e11[a4]);
    c4 || (a4 = "value", "progress" == x4 && null == _4 ? u5.removeAttribute("value") : null != _4 && (_4 !== u5[a4] || "progress" == x4 && !_4 || "option" == x4 && _4 != b2[a4]) && j(u5, a4, _4, b2[a4], o3), a4 = "checked", null != m4 && m4 != u5[a4] && j(u5, a4, m4, b2[a4], o3));
  }
  return u5;
}
function B(n2, u5, t4) {
  try {
    if ("function" == typeof n2) {
      var i4 = "function" == typeof n2.__u;
      i4 && n2.__u(), i4 && null == u5 || (n2.__u = n2(u5));
    } else n2.current = u5;
  } catch (n3) {
    l.__e(n3, t4);
  }
}
function D(n2, u5, t4) {
  var i4, r3;
  if (l.unmount && l.unmount(n2), (i4 = n2.ref) && (i4.current && i4.current != n2.__e || B(i4, null, u5)), null != (i4 = n2.__c)) {
    if (i4.componentWillUnmount) try {
      i4.componentWillUnmount();
    } catch (n3) {
      l.__e(n3, u5);
    }
    i4.base = i4.__P = null;
  }
  if (i4 = n2.__k) for (r3 = 0; r3 < i4.length; r3++) i4[r3] && D(i4[r3], u5, t4 || "function" != typeof n2.type);
  t4 || g(n2.__e), n2.__c = n2.__ = n2.__e = void 0;
}
function E(n2, l4, u5) {
  return this.constructor(n2, u5);
}
function G(u5, t4, i4) {
  var r3, o3, e11, f5;
  t4 == document && (t4 = document.documentElement), l.__ && l.__(u5, t4), o3 = (r3 = "function" == typeof i4) ? null : i4 && i4.__k || t4.__k, e11 = [], f5 = [], O(t4, u5 = (!r3 && i4 || t4).__k = _(k, null, [u5]), o3 || p, p, t4.namespaceURI, !r3 && i4 ? [i4] : o3 ? null : t4.firstChild ? n.call(t4.childNodes) : null, e11, !r3 && i4 ? i4 : o3 ? o3.__e : t4.firstChild, r3, f5), N(e11, u5, f5);
}
n = v.slice, l = { __e: function(n2, l4, u5, t4) {
  for (var i4, r3, o3; l4 = l4.__; ) if ((i4 = l4.__c) && !i4.__) try {
    if ((r3 = i4.constructor) && null != r3.getDerivedStateFromError && (i4.setState(r3.getDerivedStateFromError(n2)), o3 = i4.__d), null != i4.componentDidCatch && (i4.componentDidCatch(n2, t4 || {}), o3 = i4.__d), o3) return i4.__E = i4;
  } catch (l5) {
    n2 = l5;
  }
  throw n2;
} }, u = 0, t = function(n2) {
  return null != n2 && null == n2.constructor;
}, x.prototype.setState = function(n2, l4) {
  var u5;
  u5 = null != this.__s && this.__s != this.state ? this.__s : this.__s = d({}, this.state), "function" == typeof n2 && (n2 = n2(d({}, u5), this.props)), n2 && d(u5, n2), null != n2 && this.__v && (l4 && this._sb.push(l4), M(this));
}, x.prototype.forceUpdate = function(n2) {
  this.__v && (this.__e = true, n2 && this.__h.push(n2), M(this));
}, x.prototype.render = k, i = [], o = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, e = function(n2, l4) {
  return n2.__v.__b - l4.__v.__b;
}, $.__r = 0, f = /(PointerCapture)$|Capture$/i, c = 0, s = F(false), a = F(true), h = 0;

// ../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js
var f2 = 0;
function u2(e11, t4, n2, o3, i4, u5) {
  t4 || (t4 = {});
  var a4, c4, p4 = t4;
  if ("ref" in p4) for (c4 in p4 = {}, t4) "ref" == c4 ? a4 = t4[c4] : p4[c4] = t4[c4];
  var l4 = { type: e11, props: p4, key: n2, ref: a4, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: --f2, __i: -1, __u: 0, __source: i4, __self: u5 };
  if ("function" == typeof e11 && (a4 = e11.defaultProps)) for (c4 in a4) void 0 === p4[c4] && (p4[c4] = a4[c4]);
  return l.vnode && l.vnode(l4), l4;
}

// ../node_modules/preact/hooks/dist/hooks.module.js
var t2;
var r2;
var u3;
var i2;
var o2 = 0;
var f3 = [];
var c2 = l;
var e2 = c2.__b;
var a2 = c2.__r;
var v2 = c2.diffed;
var l2 = c2.__c;
var m2 = c2.unmount;
var s2 = c2.__;
function p2(n2, t4) {
  c2.__h && c2.__h(r2, n2, o2 || t4), o2 = 0;
  var u5 = r2.__H || (r2.__H = { __: [], __h: [] });
  return n2 >= u5.__.length && u5.__.push({}), u5.__[n2];
}
function d2(n2) {
  return o2 = 1, h2(D2, n2);
}
function h2(n2, u5, i4) {
  var o3 = p2(t2++, 2);
  if (o3.t = n2, !o3.__c && (o3.__ = [i4 ? i4(u5) : D2(void 0, u5), function(n3) {
    var t4 = o3.__N ? o3.__N[0] : o3.__[0], r3 = o3.t(t4, n3);
    t4 !== r3 && (o3.__N = [r3, o3.__[1]], o3.__c.setState({}));
  }], o3.__c = r2, !r2.__f)) {
    var f5 = function(n3, t4, r3) {
      if (!o3.__c.__H) return true;
      var u6 = o3.__c.__H.__.filter(function(n4) {
        return !!n4.__c;
      });
      if (u6.every(function(n4) {
        return !n4.__N;
      })) return !c4 || c4.call(this, n3, t4, r3);
      var i5 = o3.__c.props !== n3;
      return u6.forEach(function(n4) {
        if (n4.__N) {
          var t5 = n4.__[0];
          n4.__ = n4.__N, n4.__N = void 0, t5 !== n4.__[0] && (i5 = true);
        }
      }), c4 && c4.call(this, n3, t4, r3) || i5;
    };
    r2.__f = true;
    var c4 = r2.shouldComponentUpdate, e11 = r2.componentWillUpdate;
    r2.componentWillUpdate = function(n3, t4, r3) {
      if (this.__e) {
        var u6 = c4;
        c4 = void 0, f5(n3, t4, r3), c4 = u6;
      }
      e11 && e11.call(this, n3, t4, r3);
    }, r2.shouldComponentUpdate = f5;
  }
  return o3.__N || o3.__;
}
function y2(n2, u5) {
  var i4 = p2(t2++, 3);
  !c2.__s && C2(i4.__H, u5) && (i4.__ = n2, i4.u = u5, r2.__H.__h.push(i4));
}
function _2(n2, u5) {
  var i4 = p2(t2++, 4);
  !c2.__s && C2(i4.__H, u5) && (i4.__ = n2, i4.u = u5, r2.__h.push(i4));
}
function A2(n2) {
  return o2 = 5, T2(function() {
    return { current: n2 };
  }, []);
}
function T2(n2, r3) {
  var u5 = p2(t2++, 7);
  return C2(u5.__H, r3) && (u5.__ = n2(), u5.__H = r3, u5.__h = n2), u5.__;
}
function j2() {
  for (var n2; n2 = f3.shift(); ) if (n2.__P && n2.__H) try {
    n2.__H.__h.forEach(z2), n2.__H.__h.forEach(B2), n2.__H.__h = [];
  } catch (t4) {
    n2.__H.__h = [], c2.__e(t4, n2.__v);
  }
}
c2.__b = function(n2) {
  r2 = null, e2 && e2(n2);
}, c2.__ = function(n2, t4) {
  n2 && t4.__k && t4.__k.__m && (n2.__m = t4.__k.__m), s2 && s2(n2, t4);
}, c2.__r = function(n2) {
  a2 && a2(n2), t2 = 0;
  var i4 = (r2 = n2.__c).__H;
  i4 && (u3 === r2 ? (i4.__h = [], r2.__h = [], i4.__.forEach(function(n3) {
    n3.__N && (n3.__ = n3.__N), n3.u = n3.__N = void 0;
  })) : (i4.__h.forEach(z2), i4.__h.forEach(B2), i4.__h = [], t2 = 0)), u3 = r2;
}, c2.diffed = function(n2) {
  v2 && v2(n2);
  var t4 = n2.__c;
  t4 && t4.__H && (t4.__H.__h.length && (1 !== f3.push(t4) && i2 === c2.requestAnimationFrame || ((i2 = c2.requestAnimationFrame) || w2)(j2)), t4.__H.__.forEach(function(n3) {
    n3.u && (n3.__H = n3.u), n3.u = void 0;
  })), u3 = r2 = null;
}, c2.__c = function(n2, t4) {
  t4.some(function(n3) {
    try {
      n3.__h.forEach(z2), n3.__h = n3.__h.filter(function(n4) {
        return !n4.__ || B2(n4);
      });
    } catch (r3) {
      t4.some(function(n4) {
        n4.__h && (n4.__h = []);
      }), t4 = [], c2.__e(r3, n3.__v);
    }
  }), l2 && l2(n2, t4);
}, c2.unmount = function(n2) {
  m2 && m2(n2);
  var t4, r3 = n2.__c;
  r3 && r3.__H && (r3.__H.__.forEach(function(n3) {
    try {
      z2(n3);
    } catch (n4) {
      t4 = n4;
    }
  }), r3.__H = void 0, t4 && c2.__e(t4, r3.__v));
};
var k2 = "function" == typeof requestAnimationFrame;
function w2(n2) {
  var t4, r3 = function() {
    clearTimeout(u5), k2 && cancelAnimationFrame(t4), setTimeout(n2);
  }, u5 = setTimeout(r3, 35);
  k2 && (t4 = requestAnimationFrame(r3));
}
function z2(n2) {
  var t4 = r2, u5 = n2.__c;
  "function" == typeof u5 && (n2.__c = void 0, u5()), r2 = t4;
}
function B2(n2) {
  var t4 = r2;
  n2.__c = n2.__(), r2 = t4;
}
function C2(n2, t4) {
  return !n2 || n2.length !== t4.length || t4.some(function(t5, r3) {
    return t5 !== n2[r3];
  });
}
function D2(n2, t4) {
  return "function" == typeof t4 ? t4(n2) : t4;
}

// ../node_modules/preact/compat/dist/compat.module.js
function g3(n2, t4) {
  for (var e11 in t4) n2[e11] = t4[e11];
  return n2;
}
function E2(n2, t4) {
  for (var e11 in n2) if ("__source" !== e11 && !(e11 in t4)) return true;
  for (var r3 in t4) if ("__source" !== r3 && n2[r3] !== t4[r3]) return true;
  return false;
}
function N2(n2, t4) {
  this.props = n2, this.context = t4;
}
(N2.prototype = new x()).isPureReactComponent = true, N2.prototype.shouldComponentUpdate = function(n2, t4) {
  return E2(this.props, n2) || E2(this.state, t4);
};
var T3 = l.__b;
l.__b = function(n2) {
  n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), T3 && T3(n2);
};
var A3 = "undefined" != typeof Symbol && Symbol.for && Symbol.for("react.forward_ref") || 3911;
var F3 = l.__e;
l.__e = function(n2, t4, e11, r3) {
  if (n2.then) {
    for (var u5, o3 = t4; o3 = o3.__; ) if ((u5 = o3.__c) && u5.__c) return null == t4.__e && (t4.__e = e11.__e, t4.__k = e11.__k), u5.__c(n2, t4);
  }
  F3(n2, t4, e11, r3);
};
var U = l.unmount;
function V2(n2, t4, e11) {
  return n2 && (n2.__c && n2.__c.__H && (n2.__c.__H.__.forEach(function(n3) {
    "function" == typeof n3.__c && n3.__c();
  }), n2.__c.__H = null), null != (n2 = g3({}, n2)).__c && (n2.__c.__P === e11 && (n2.__c.__P = t4), n2.__c.__e = true, n2.__c = null), n2.__k = n2.__k && n2.__k.map(function(n3) {
    return V2(n3, t4, e11);
  })), n2;
}
function W(n2, t4, e11) {
  return n2 && e11 && (n2.__v = null, n2.__k = n2.__k && n2.__k.map(function(n3) {
    return W(n3, t4, e11);
  }), n2.__c && n2.__c.__P === t4 && (n2.__e && e11.appendChild(n2.__e), n2.__c.__e = true, n2.__c.__P = e11)), n2;
}
function P3() {
  this.__u = 0, this.o = null, this.__b = null;
}
function j3(n2) {
  var t4 = n2.__.__c;
  return t4 && t4.__a && t4.__a(n2);
}
function B3() {
  this.i = null, this.l = null;
}
l.unmount = function(n2) {
  var t4 = n2.__c;
  t4 && t4.__R && t4.__R(), t4 && 32 & n2.__u && (n2.type = null), U && U(n2);
}, (P3.prototype = new x()).__c = function(n2, t4) {
  var e11 = t4.__c, r3 = this;
  null == r3.o && (r3.o = []), r3.o.push(e11);
  var u5 = j3(r3.__v), o3 = false, i4 = function() {
    o3 || (o3 = true, e11.__R = null, u5 ? u5(l4) : l4());
  };
  e11.__R = i4;
  var l4 = function() {
    if (!--r3.__u) {
      if (r3.state.__a) {
        var n3 = r3.state.__a;
        r3.__v.__k[0] = W(n3, n3.__c.__P, n3.__c.__O);
      }
      var t5;
      for (r3.setState({ __a: r3.__b = null }); t5 = r3.o.pop(); ) t5.forceUpdate();
    }
  };
  r3.__u++ || 32 & t4.__u || r3.setState({ __a: r3.__b = r3.__v.__k[0] }), n2.then(i4, i4);
}, P3.prototype.componentWillUnmount = function() {
  this.o = [];
}, P3.prototype.render = function(n2, e11) {
  if (this.__b) {
    if (this.__v.__k) {
      var r3 = document.createElement("div"), o3 = this.__v.__k[0].__c;
      this.__v.__k[0] = V2(this.__b, r3, o3.__O = o3.__P);
    }
    this.__b = null;
  }
  var i4 = e11.__a && _(k, null, n2.fallback);
  return i4 && (i4.__u &= -33), [_(k, null, e11.__a ? null : n2.children), i4];
};
var H2 = function(n2, t4, e11) {
  if (++e11[1] === e11[0] && n2.l.delete(t4), n2.props.revealOrder && ("t" !== n2.props.revealOrder[0] || !n2.l.size)) for (e11 = n2.i; e11; ) {
    for (; e11.length > 3; ) e11.pop()();
    if (e11[1] < e11[0]) break;
    n2.i = e11 = e11[2];
  }
};
(B3.prototype = new x()).__a = function(n2) {
  var t4 = this, e11 = j3(t4.__v), r3 = t4.l.get(n2);
  return r3[0]++, function(u5) {
    var o3 = function() {
      t4.props.revealOrder ? (r3.push(u5), H2(t4, n2, r3)) : u5();
    };
    e11 ? e11(o3) : o3();
  };
}, B3.prototype.render = function(n2) {
  this.i = null, this.l = /* @__PURE__ */ new Map();
  var t4 = H(n2.children);
  n2.revealOrder && "b" === n2.revealOrder[0] && t4.reverse();
  for (var e11 = t4.length; e11--; ) this.l.set(t4[e11], this.i = [1, 0, this.i]);
  return n2.children;
}, B3.prototype.componentDidUpdate = B3.prototype.componentDidMount = function() {
  var n2 = this;
  this.l.forEach(function(t4, e11) {
    H2(n2, e11, t4);
  });
};
var q3 = "undefined" != typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103;
var G2 = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;
var J2 = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;
var K2 = /[A-Z0-9]/g;
var Q2 = "undefined" != typeof document;
var X = function(n2) {
  return ("undefined" != typeof Symbol && "symbol" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n2);
};
function nn(n2, t4, e11) {
  return null == t4.__k && (t4.textContent = ""), G(n2, t4), "function" == typeof e11 && e11(), n2 ? n2.__c : null;
}
x.prototype.isReactComponent = {}, ["componentWillMount", "componentWillReceiveProps", "componentWillUpdate"].forEach(function(t4) {
  Object.defineProperty(x.prototype, t4, { configurable: true, get: function() {
    return this["UNSAFE_" + t4];
  }, set: function(n2) {
    Object.defineProperty(this, t4, { configurable: true, writable: true, value: n2 });
  } });
});
var en = l.event;
function rn() {
}
function un() {
  return this.cancelBubble;
}
function on() {
  return this.defaultPrevented;
}
l.event = function(n2) {
  return en && (n2 = en(n2)), n2.persist = rn, n2.isPropagationStopped = un, n2.isDefaultPrevented = on, n2.nativeEvent = n2;
};
var ln;
var cn = { enumerable: false, configurable: true, get: function() {
  return this.class;
} };
var fn = l.vnode;
l.vnode = function(n2) {
  "string" == typeof n2.type && (function(n3) {
    var t4 = n3.props, e11 = n3.type, u5 = {}, o3 = -1 === e11.indexOf("-");
    for (var i4 in t4) {
      var l4 = t4[i4];
      if (!("value" === i4 && "defaultValue" in t4 && null == l4 || Q2 && "children" === i4 && "noscript" === e11 || "class" === i4 || "className" === i4)) {
        var c4 = i4.toLowerCase();
        "defaultValue" === i4 && "value" in t4 && null == t4.value ? i4 = "value" : "download" === i4 && true === l4 ? l4 = "" : "translate" === c4 && "no" === l4 ? l4 = false : "o" === c4[0] && "n" === c4[1] ? "ondoubleclick" === c4 ? i4 = "ondblclick" : "onchange" !== c4 || "input" !== e11 && "textarea" !== e11 || X(t4.type) ? "onfocus" === c4 ? i4 = "onfocusin" : "onblur" === c4 ? i4 = "onfocusout" : J2.test(i4) && (i4 = c4) : c4 = i4 = "oninput" : o3 && G2.test(i4) ? i4 = i4.replace(K2, "-$&").toLowerCase() : null === l4 && (l4 = void 0), "oninput" === c4 && u5[i4 = c4] && (i4 = "oninputCapture"), u5[i4] = l4;
      }
    }
    "select" == e11 && u5.multiple && Array.isArray(u5.value) && (u5.value = H(t4.children).forEach(function(n4) {
      n4.props.selected = -1 != u5.value.indexOf(n4.props.value);
    })), "select" == e11 && null != u5.defaultValue && (u5.value = H(t4.children).forEach(function(n4) {
      n4.props.selected = u5.multiple ? -1 != u5.defaultValue.indexOf(n4.props.value) : u5.defaultValue == n4.props.value;
    })), t4.class && !t4.className ? (u5.class = t4.class, Object.defineProperty(u5, "className", cn)) : (t4.className && !t4.class || t4.class && t4.className) && (u5.class = u5.className = t4.className), n3.props = u5;
  })(n2), n2.$$typeof = q3, fn && fn(n2);
};
var an = l.__r;
l.__r = function(n2) {
  an && an(n2), ln = n2.__c;
};
var sn = l.diffed;
l.diffed = function(n2) {
  sn && sn(n2);
  var t4 = n2.props, e11 = n2.__e;
  null != e11 && "textarea" === n2.type && "value" in t4 && t4.value !== e11.value && (e11.value = null == t4.value ? "" : t4.value), ln = null;
};

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/lang.js
var Lang = {
  en: {
    loadingTitle: "Log in with Ledger",
    loadingTip0: "Please connect to your Ledger device and open “Tron” App.",
    loadingTip4: "Preparing your Ledger device...",
    checkTitle: "Please check if the address below is the same one shown on your Ledger device",
    checkTip0: "If it is: press “Approve” button to confirm the address",
    checkTip1: "If it isn't: select “Reject” on your Ledger device and refresh this page",
    confirmTip: "Please confirm on your Ledger",
    selectTitle: "Select account",
    selectTip: "Please select an account to use",
    cancel: "Cancel",
    confirm: "Confirm",
    address: "Address",
    balance: "Available Balance",
    loadMore: "Load More"
  },
  "zh-CN": {
    loadingTitle: "Ledger 登录",
    loadingTip0: "请连接 Ledger 设备，并在设备上进入 “TRON” 应用",
    loadingTip4: "Ledger 设备准备中......",
    checkTitle: "请确认以下地址与 Ledger 设备显示地址一致",
    checkTip0: "如果一致：请按设备上的 Approve 按钮进行确认",
    checkTip1: "如果不一致：请在 Ledger 设备中选择 Reject 按钮并刷新本页面",
    confirmTip: "请在 Ledger 上确认",
    selectTitle: "选择账户",
    selectTip: "请选择要使用的钱包账户",
    cancel: "取消",
    confirm: "确认",
    address: "地址",
    balance: "可用余额",
    loadMore: "加载更多账户"
  },
  "zh-TC": {
    loadingTitle: "Ledger 登錄",
    loadingTip0: "請連接 Ledger 設備，並在設備上進入 “TRON” 應用",
    loadingTip4: "Ledger 設備準備中......",
    checkTitle: "請確認以下地址與 Ledger 設備顯示地址一致",
    checkTip0: "如果一致：請按設備上的 Approve 按鈕進行確認",
    checkTip1: "如果不一致：請在 Ledger 設備中選擇 Reject 按鈕並刷新本頁面",
    confirmTip: "請在 Ledger 上確認",
    selectTitle: "選擇賬戶",
    selectTip: "請選擇要使用的錢包賬戶",
    cancel: "取消",
    confirm: "確認",
    address: "地址",
    balance: "可用餘額",
    loadMore: "加載更多賬戶"
  }
};
function getLangText() {
  const searchParams = new URLSearchParams(globalThis.location.search);
  const searchParamsLang = searchParams.get("lang");
  const storageSettingLang = globalThis.localStorage.getItem("lang");
  const appLang = (searchParamsLang || storageSettingLang || "").toLowerCase();
  const browserSettingLang = (globalThis.navigator.language || "").toLowerCase();
  let browserLang;
  if (["zh-tw", "zh-hk", "zh-tc"].includes(browserSettingLang)) {
    browserLang = Lang["zh-TC"];
  } else if (["zh", "zh-cn"].includes(browserSettingLang)) {
    browserLang = Lang["zh-CN"];
  } else if (browserSettingLang.includes("en")) {
    browserLang = Lang["en"];
  }
  let lang = browserLang;
  if (appLang) {
    if (["zh-tw", "zh-hk", "zh-tc"].includes(appLang)) {
      lang = Lang["zh-TC"];
    } else if (["zh", "zh-cn"].includes(appLang)) {
      lang = Lang["zh-CN"];
    } else if (appLang.includes("en")) {
      lang = Lang.en;
    }
  }
  return lang || Lang.en;
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/LedgerIcon.js
function LedgerIcon() {
  return u2("div", { children: u2("img", { style: {
    width: "5vw",
    marginBottom: "1vw"
  }, src: "data:image/png;base64,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", alt: "logo" }) });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/LoadingIcon.js
function LoadingIcon() {
  return u2("div", { className: "ledger-ant-spin ledger-ant-spin-lg ledger-ant-spin-spinning spin", children: u2("span", { className: "ledger-ant-spin-dot", children: [u2("i", { className: "ledger-ant-spin-dot-item" }), u2("i", { className: "ledger-ant-spin-dot-item" }), u2("i", { className: "ledger-ant-spin-dot-item" }), u2("i", { className: "ledger-ant-spin-dot-item" })] }) });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/ConfirmContent.js
function ConfirmContent(props) {
  const langText = T2(() => getLangText(), []);
  return u2("div", { style: { textAlign: "center" }, "data-testid": "confirm-content", children: [u2(LedgerIcon, {}), u2("div", { className: "ledger-connecting-pop", children: [u2("ul", { className: "ledger-connecting-pop-content", children: [u2("li", { className: "title", style: { wordBreak: "break-word" }, children: langText.checkTitle }), u2("li", { children: u2("strong", { style: { color: "#B0170D", textAlign: "left", fontWeight: "600" }, "data-testid": "confirm-content-address", children: props.address }) }), u2("li", { children: langText.checkTip0 }), u2("li", { children: langText.checkTip1 })] }), u2("div", { className: "mt-4", children: [u2(LoadingIcon, {}), u2("div", { children: u2("div", { className: "text-muted", children: u2("span", { children: langText.confirmTip }) }) })] })] })] });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/ConnectingContent.js
function ConnectingContent() {
  const langText = T2(() => getLangText(), []);
  return u2("div", { style: { textAlign: "center" }, "data-testid": "connecting-content", children: [u2(LedgerIcon, {}), u2("div", { className: "ledger-connecting-pop", children: [u2("ul", { className: "ledger-connecting-pop-content", children: u2("li", { className: "title", children: langText.loadingTip0 }) }), u2("div", { className: "mt-4", children: [u2(LoadingIcon, {}), u2("div", { children: u2("div", { className: "text-muted", children: u2("span", { children: langText.loadingTip4 }) }) })] })] })] });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/Modal.js
function Modal(props) {
  return u2("div", { className: "ledger-modal-root", children: [u2("div", { className: "ledger-modal-mask" }), u2("div", { className: "ledger-modal-wrap", children: u2("div", { className: "ledger-modal", style: { width: props.width || "550px" }, children: u2("div", { className: "ledger-modal-content", children: [u2("button", { onClick: props.onClose, type: "button", "aria-label": "Close", className: "ledger-modal-close", children: u2("span", { className: "ledger-modal-close-x", children: u2("i", { "aria-label": "icon: close", className: "icon icon-close ledger-modal-close-icon", children: u2("svg", { viewBox: "64 64 896 896", focusable: "false", className: "", "data-icon": "close", width: "1em", height: "1em", fill: "currentColor", "aria-hidden": "true", children: u2("path", { d: "M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" }) }) }) }) }), u2("div", { className: "ledger-modal-header", children: u2("div", { className: "ledger-modal-title", children: props.title }) }), u2("div", { className: "ledger-modal-body", children: props.children })] }) }) })] });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/SelectAccount.js
var __awaiter3 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
function SelectAccount(props) {
  const [index, setIndex] = d2(0);
  const [accounts, setAccounts] = d2([]);
  const [loading, setLoading] = d2(false);
  const loadBtnRef = A2(null);
  const langText = T2(() => getLangText(), []);
  y2(() => {
    setAccounts([...props.accounts]);
  }, [props.accounts]);
  y2(() => {
    setIndex(props.selectedIndex);
  }, [props.selectedIndex]);
  function onInput(e11) {
    setIndex(+e11.target.value);
  }
  function onConfirm() {
    const selected = accounts.find((item) => item.index === index);
    props.onConfirm(selected || (accounts === null || accounts === void 0 ? void 0 : accounts[0]));
  }
  function onCancel() {
    props.onCancel();
  }
  function onLoadMore() {
    return __awaiter3(this, void 0, void 0, function* () {
      setLoading(true);
      const last = accounts[accounts.length - 1] || { index: -1 };
      const from = last.index + 1;
      const to = last.index + 6;
      try {
        const result = yield props.getAccounts(from, to);
        setAccounts((accounts2) => [...accounts2, ...result]);
      } finally {
        setLoading(false);
      }
    });
  }
  _2(() => {
    var _a2, _b;
    (_b = (_a2 = loadBtnRef.current) === null || _a2 === void 0 ? void 0 : _a2.scrollIntoView) === null || _b === void 0 ? void 0 : _b.call(_a2);
  }, [accounts]);
  return u2("div", { style: { paddingLeft: 40 }, className: "ledger-select", "data-testid": "select-account-content", children: [u2("span", { className: "title", children: langText.selectTip }), u2("div", { className: "ledger-select-list-wrap", children: [u2("ul", { className: "ledger-select-list", "data-testid": "select-account-list", children: accounts.map((account, idx) => {
    return u2("li", { className: "ledger-select-item", children: u2("label", { htmlFor: `ledger-select-radio${idx}`, children: [u2("input", { className: account.index === index ? "checked" : "", id: `ledger-select-radio${idx}`, type: "radio", name: "selectedAddress", value: account.index, checked: account.index === index, onInput }), u2("span", { children: account.address })] }) }, idx);
  }) }), u2("div", { style: { display: "flex", justifyContent: "flex-end" }, children: u2("button", { "data-testid": "btn-load-more", ref: loadBtnRef, style: { marginTop: 10 }, disabled: loading, className: "ledger-select-button", onClick: onLoadMore, children: [u2("span", { style: { marginRight: loading ? 10 : 0 }, children: langText.loadMore }), loading ? (
    /* prettier-ignore */
    u2("svg", { width: "18", height: "18", viewBox: "0 0 38 38", xmlns: "http://www.w3.org/2000/svg", stroke: "#fff", children: u2("g", { fill: "none", fillRule: "evenodd", children: u2("g", { transform: "translate(1 1)", strokeWidth: "2", children: [u2("circle", { strokeOpacity: ".5", cx: "18", cy: "18", r: "18" }), u2("path", { d: "M36 18c0-9.94-8.06-18-18-18", children: u2("animateTransform", { attributeName: "transform", type: "rotate", from: "0 18 18", to: "360 18 18", dur: "1s", repeatCount: "indefinite" }) })] }) }) })
  ) : null] }) })] }), u2("footer", { style: { display: "flex", justifyContent: "flex-end" }, children: [u2("button", { "data-testid": "btn-cancel", style: { marginRight: 10 }, className: "ledger-select-button default-button", onClick: onCancel, children: langText.cancel }), u2("button", { "data-testid": "btn-confirm", disabled: loading, className: "ledger-select-button", onClick: onConfirm, children: langText.confirm })] })] });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/style.js
var modalStyleSheetContent = `
.ledger-modal-mask, .ledger-modal-wrap {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1000;
    font-family: 'PingFangSC-Regular', 'Arial', sans-serif, 'Droid Sans', 'Helvetica Neue';
}
.ledger-modal-mask {
    height: 100%;
    background-color: rgba(0, 0, 0, 0.45);
}
.ledger-modal-wrap {
    overflow: auto;
    outline: 0;
}
.ledger-modal {
  position: relative;
  margin: 0 auto;
  padding-bottom: 24px;
  line-height: 1.5;
  top: 50px;
  width: 600px;
  color: rgba(0, 0, 0, 0.65);
}
.ledger-modal-content {
  position: relative;
  background-color: #fff;
  background-clip: padding-box;
  border: 0;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgb(0 0 0 / 15%);
  pointer-events: auto;
}
.ledger-modal-close {
  -webkit-appearance: button;
  position: absolute;
  top: 0;
  right: 0;
  z-index: 10;
  padding: 0;
  color: rgba(0, 0, 0, 0.45);
  font-weight: 700;
  line-height: 1;
  text-decoration: none;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
  transition: color 0.3s;
}
.ledger-modal-close:focus,.ledger-modal-close:active,.ledger-modal-close:hover {
  color: rgba(0, 0, 0, 0.75);
  text-decoration: none;
  border: none;
  outline: none;
}
.ledger-modal-close-x {
  display: block;
  width: 56px;
  height: 56px;
  font-size: 16px;
  font-style: normal;
  line-height: 56px;
  text-align: center;
  text-transform: none;
  text-rendering: auto;
}
.ledger-modal-close-x .icon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
.ledger-modal-header {
  padding: 16px 24px;
  color: rgba(0, 0, 0, 0.65);
  background: #fff;
  border-bottom: 1px solid #e8e8e8;
  border-radius: 4px 4px 0 0;
}
.ledger-select .title, .ledger-modal-title {
  margin: 0;
  color: rgba(0, 0, 0, 0.85);
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  word-wrap: break-word;
}
.ledger-modal-body {
  padding: 24px;
  font-size: 14px;
  line-height: 1.5;
  word-wrap: break-word;
  max-height: 650px;
  overflow-y: auto;
}


// connecting content
.ledger-connecting-pop ul {
  margin: 0;
}
.ledger-connecting-pop-content {
  padding-left: 8%;
}
.ledger-connecting-pop-content li, .ledger-select li {
  display: flex;
  margin: 10px 0 10px 0;
  line-height: 25px;
  word-break: break-all;
  text-align: left;
}
.ledger-connecting-pop-content .title {
  margin-bottom: 20px;
  font-weight: bold;
}
.ledger-ant-spin {
  box-sizing: border-box;
  padding: 0;
  font-size: 14px;
  font-variant: tabular-nums;
  line-height: 1.5;
  list-style: none;
  font-feature-settings: 'tnum';
  color: #B0170D;
  vertical-align: middle;
  transition: transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);
  position: static;
  opacity: 1;
  margin: 2vw 0;
  text-align: center;
  display: block;
}
.ledger-ant-spin-dot {
  position: relative;
  display: inline-block;
  font-size: 20px;
  width: 1em;
  height: 1em;
  transform: rotate(45deg);
  animation: antRotate 1.2s infinite linear;
  font-size: 32px;
}

.ledger-ant-spin-dot-item {
  position: absolute;
  display: block;
  width: 9px;
  height: 9px;
  background-color: #B0170D;
  border-radius: 100%;
  transform: scale(0.75);
  transform-origin: 50% 50%;
  opacity: 0.3;
  animation: antSpinMove 1s infinite linear alternate;
}
.ledger-ant-spin-dot-item:nth-child(1) {
  top: 0;
  left: 0;
}
.ledger-ant-spin-dot-item:nth-child(2) {
  top: 0;
  right: 0;
  animation-delay: 0.4s;
}
.ledger-ant-spin-dot-item:nth-child(3) {
  right: 0;
  bottom: 0;
  animation-delay: 0.8s;
}
.ledger-ant-spin-dot-item:nth-child(4) {
  bottom: 0;
  left: 0;
  animation-delay: 1.2s;
}
.ledger-ant-spin-lg .ledger-ant-spin-dot i {
  width: 14px;
  height: 14px;
}
@keyframes antRotate {
  100% {
    transform: rotate(405deg)
  }
}
@keyframes antSpinMove {
  100% {
    opacity: 1;
  }
}

.ledger-select {
  text-align: left;
}
.ledger-select .title {
  display: block;
  margin-bottom: 10px;
}
.ledger-select-list-wrap {
  width: 100%;
  max-height: 400px;
  overflow-y: auto;
  margin: 0 0 20px 0;
}
.ledger-select-list {
  margin-top: 0;
  padding: 0;
}
.ledger-select-item {
  font-size: 14px;
  color: #2f2f2f;
  line-height: 25px;
  margin-top: 0;
}
.ledger-select-item:hover {
  color: #6f6f6f;
}
.ledger-select-item label {
  cursor: pointer;
  width: 100%;
  display: flex;
}
.ledger-select-item input {
  width: 15px;
  height: 25px;
  margin: 0 10px 0 0;
}
.ledger-select-button {
  display: inline-flex;
  color: #fff;
  cursor: pointer;
  height: 36px;
  background-color: #c23631;
  border: none;
  border-radius: 4px;
  align-items: center;
  padding: 0 18px;
  font-family: DM Sans, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: 500;
  line-height: 36px;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.ledger-select-button[disabled] {
  cursor: not-allowed;
}
.ledger-select-button.default-button {
  background-color: #fff;
  color: rgba(0, 0, 0, 0.65);
  border: 1px solid #dcdfe6;
}
.ledger-select-button:focus {
  outline: none;
}
.ledger-select-button:focus-visible {
  outline: 2px solid white;
}
.ledger-select-button:hover {
  opacity: 0.7;
}
`;

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/Modal/openModal.js
function prepareDomNode() {
  const div = document.createElement("div");
  const style = document.createElement("style");
  style.innerHTML = modalStyleSheetContent;
  document.body.append(style);
  document.body.append(div);
  function onClose() {
    div.remove();
    style.remove();
  }
  return {
    onClose,
    div
  };
}
function openConnectingModal() {
  const { onClose, div } = prepareDomNode();
  const langText = getLangText();
  nn(u2(Modal, { title: langText.loadingTitle, onClose, children: u2(ConnectingContent, {}) }), div);
  return onClose;
}
function openVerifyAddressModal(address) {
  const { onClose, div } = prepareDomNode();
  const langText = getLangText();
  nn(u2(Modal, { width: 550, title: langText.loadingTitle, onClose, children: u2(ConfirmContent, { address }) }), div);
  return onClose;
}
function openSelectAccountModal(options) {
  const { onClose, div } = prepareDomNode();
  const langText = getLangText();
  return new Promise((resolve, reject) => {
    function onConfirm(account) {
      resolve(account);
      onClose();
    }
    function onCancel() {
      reject(new Error("Operation is canceled."));
      onClose();
    }
    nn(u2(Modal, { title: langText.loadingTitle, onClose: onCancel, children: u2(SelectAccount, { accounts: options.accounts, selectedIndex: options.selectedIndex || 0, onConfirm, onCancel, getAccounts: options.getAccounts }) }), div);
  });
}

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/LedgerWallet.js
var __awaiter4 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
function wait(timeout) {
  return __awaiter4(this, void 0, void 0, function* () {
    return new Promise((resolve) => {
      setTimeout(resolve, timeout);
    });
  });
}
function isFunction(fn2) {
  return typeof fn2 === "function";
}
var defaultSelectAccount = function(_a2) {
  return __awaiter4(this, arguments, void 0, function* ({ accounts, ledgerUtils }) {
    const account = yield openSelectAccountModal({
      accounts,
      getAccounts: ledgerUtils.getAccounts
    });
    const closeConfirm = openVerifyAddressModal(account.address);
    try {
      yield ledgerUtils.getAddress(account.index, true);
    } finally {
      closeConfirm === null || closeConfirm === void 0 ? void 0 : closeConfirm();
    }
    return account;
  });
};
var LedgerWallet = class {
  constructor(config = {}) {
    this.app = null;
    this.transport = null;
    this.fetchState = "Initial";
    this.selectedIndex = 0;
    this._address = "";
    this.getAccounts = (from, to) => __awaiter4(this, void 0, void 0, function* () {
      if (from < 0) {
        throw new Error("getAccount parameter error: from cannot be smaller than 0.");
      }
      if (from >= to) {
        throw new Error("getAccount parameter error: from cannot be bigger than to.");
      }
      if (this.fetchState === "Fetching") {
        yield wait(500);
        return this.getAccounts(from, to);
      }
      this.fetchState = "Fetching";
      yield this.makeApp();
      try {
        const obj = {};
        for (let i4 = from; i4 < to; i4++) {
          const account = yield this.getAccount(i4);
          obj[account.index] = account;
        }
        Object.keys(obj).forEach((key) => {
          this.accounts[+key] = obj[key];
        });
        return this.accounts.slice(from, to);
      } finally {
        this.fetchState = "Initial";
        yield this.cleanUp();
      }
    });
    this.getAddress = (index_1, ...args_1) => __awaiter4(this, [index_1, ...args_1], void 0, function* (index, display = false) {
      try {
        const path = this.getPathForIndex(index);
        yield this.makeApp();
        return yield this.app.getAddress(path, display);
      } finally {
        yield this.cleanUp();
      }
    });
    this.accounts = [];
    const { accountNumber = 1 } = config;
    ["beforeConnect", "selectAccount", "getDerivationPath"].forEach((func) => {
      if (config[func] && !isFunction(config[func])) {
        throw new Error(`[Ledger]: ${func} must be a function!`);
      }
    });
    if (accountNumber && !Number.isInteger(+accountNumber)) {
      throw new Error("[Ledger]: accountNumber must be an integer!");
    }
    this.config = Object.assign(Object.assign({}, config), { accountNumber });
  }
  get address() {
    return this._address;
  }
  connect(options) {
    return __awaiter4(this, void 0, void 0, function* () {
      if ((options === null || options === void 0 ? void 0 : options.account) && typeof options.account === "object") {
        const account = options.account;
        this.selectedIndex = +account.index;
        this._address = account.address;
        if (account.index === void 0 || account.address === void 0) {
          console.warn("[LedgerWallet] account parameter passed to connect() should have valid index and address property");
        }
        return;
      }
      const ledgerUtils = {
        getAccounts: this.getAccounts,
        getAddress: this.getAddress
      };
      this.accounts = [];
      this._address = "";
      this.selectedIndex = 0;
      const { accountNumber = 1, beforeConnect, selectAccount = defaultSelectAccount } = this.config;
      let closeConnectingModal = null;
      try {
        if (beforeConnect) {
          yield beforeConnect();
        } else {
          closeConnectingModal = openConnectingModal();
        }
        yield this.makeApp();
        const firstAccount = yield this.getAccount(0);
        this.accounts[0] = firstAccount;
        yield this.cleanUp();
        if (accountNumber > 1) {
          yield this.getAccounts(1, accountNumber);
        }
        closeConnectingModal === null || closeConnectingModal === void 0 ? void 0 : closeConnectingModal();
        const accounts = this.accounts.slice(0, accountNumber);
        const selectedAccount = yield selectAccount({
          accounts,
          ledgerUtils
        });
        this.selectedIndex = selectedAccount.index;
        this._address = selectedAccount.address;
      } finally {
        yield this.cleanUp();
      }
    });
  }
  disconnect() {
    this.selectedIndex = 0;
    this._address = "";
  }
  signPersonalMessage(message) {
    return __awaiter4(this, void 0, void 0, function* () {
      yield this.waitForIdle();
      try {
        const index = this.selectedIndex;
        yield this.makeApp();
        const path = this.getPathForIndex(index);
        const hex = Buffer.from(message).toString("hex");
        const res = yield this.app.signPersonalMessage(path, hex);
        return res;
      } finally {
        yield this.cleanUp();
      }
    });
  }
  signTransaction(transaction) {
    return __awaiter4(this, void 0, void 0, function* () {
      yield this.waitForIdle();
      try {
        const index = this.selectedIndex;
        const path = this.getPathForIndex(index);
        yield this.makeApp();
        let signedResponse;
        try {
          signedResponse = yield this.app.signTransaction(path, transaction.raw_data_hex, []);
        } catch (e11) {
          if (/Too many bytes to encode/.test(e11.message)) {
            signedResponse = yield this.app.signTransactionHash(path, transaction.txID);
          } else {
            throw e11;
          }
        }
        let signature = transaction.signature;
        if (Array.isArray(signature)) {
          if (!signature.includes(signedResponse))
            signature.push(signedResponse);
        } else {
          signature = [signedResponse];
        }
        return Object.assign(Object.assign({}, transaction), { signature });
      } finally {
        yield this.cleanUp();
      }
    });
  }
  getAccount(index) {
    return __awaiter4(this, void 0, void 0, function* () {
      const path = this.getPathForIndex(index);
      const { address } = yield this.app.getAddress(path);
      return {
        path,
        address,
        index
      };
    });
  }
  waitForIdle() {
    return __awaiter4(this, void 0, void 0, function* () {
      if (this.fetchState === "Fetching") {
        yield wait(300);
        yield this.waitForIdle();
      }
    });
  }
  getPathForIndex(index) {
    return this.config.getDerivationPath ? this.config.getDerivationPath(index) : `44'/195'/${index}'/0/0`;
  }
  makeApp() {
    return __awaiter4(this, void 0, void 0, function* () {
      if (this.transport && this.app) {
        return;
      }
      this.transport = yield TransportWebHID_default.create();
      this.app = new Trx(this.transport);
    });
  }
  cleanUp() {
    return __awaiter4(this, void 0, void 0, function* () {
      var _a2;
      this.app = null;
      yield (_a2 = this.transport) === null || _a2 === void 0 ? void 0 : _a2.close();
      this.transport = null;
    });
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/adapter.js
var __awaiter5 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var isSupportedLedger = () => !!(globalThis.navigator && globalThis.navigator.hid);
var LedgerAdapterName = "Ledger";
var LedgerAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = LedgerAdapterName;
    this.url = "https://www.ledger.com/";
    this.icon = "data:image/png;base64,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";
    this._readyState = WalletReadyState.Loading;
    this._state = AdapterState.NotFound;
    this._connecting = false;
    this._address = null;
    this.config = config;
    this._wallet = new LedgerWallet(config);
    if (isSupportedLedger()) {
      this._readyState = WalletReadyState.Found;
      this._state = AdapterState.Disconnect;
    } else {
      this._readyState = WalletReadyState.NotFound;
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get connecting() {
    return this._connecting;
  }
  get readyState() {
    return this._readyState;
  }
  get ledgerUtils() {
    return {
      getAccounts: this._wallet.getAccounts,
      getAddress: this._wallet.getAddress
    };
  }
  connect(options) {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        if (this.connected || this.connecting)
          return;
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        this._connecting = true;
        try {
          yield this._wallet.connect(options);
        } catch (e11) {
          throw new WalletConnectionError(`${e11.message}.`);
        }
        this._address = this._wallet.address;
        this._state = AdapterState.Connected;
        this.emit("connect", this.address || "");
        this.emit("stateChanged", this._state);
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter5(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      try {
        this._wallet.disconnect();
        this._state = AdapterState.Disconnect;
        this._address = null;
        this.emit("disconnect");
        this.emit("stateChanged", this._state);
      } catch (e11) {
        this.emit("error", e11);
        throw new WalletDisconnectionError(e11.message);
      }
    });
  }
  signTransaction(transaction) {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        if (this.state !== AdapterState.Connected) {
          throw new WalletDisconnectedError();
        }
        try {
          const signedTransaction = yield this._wallet.signTransaction(transaction);
          return signedTransaction;
        } catch (e11) {
          throw new WalletSignTransactionError(e11.message);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message) {
    return __awaiter5(this, void 0, void 0, function* () {
      try {
        if (this.state !== AdapterState.Connected) {
          throw new WalletDisconnectedError();
        }
        try {
          const signedResponse = yield this._wallet.signPersonalMessage(message);
          return signedResponse;
        } catch (error) {
          throw new WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-tokenpocket/lib/esm/utils.js
function supportTokenPocket() {
  return !!window.tronWeb && typeof window.tokenpocket !== "undefined";
}
function isInTokenPocket() {
  return isInBrowser() && typeof window.tokenpocket !== "undefined";
}
function openTokenPocket() {
  if (!supportTokenPocket() && isInMobileBrowser() && !isInTokenPocket()) {
    const { origin, pathname, search, hash } = window.location;
    const url = origin + pathname + search + hash;
    const params = {
      action: "open",
      actionId: Date.now() + "",
      callbackUrl: "http://someurl.com",
      // no need callback
      blockchain: "Tron",
      chain: "Tron",
      url,
      protocol: "TokenPocket",
      version: "1.0"
    };
    window.location.href = `tpdapp://open?params=${encodeURIComponent(JSON.stringify(params))}`;
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-tokenpocket/lib/esm/adapter.js
var __awaiter6 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var TokenPocketAdapterName = "TokenPocket";
var TokenPocketAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = TokenPocketAdapterName;
    this.url = "https://tokenpocket.pro/";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGc+CjxwYXRoIGQ9Ik0xMDQxLjUyIDBILTI3VjEwMjRIMTA0MS41MlYwWiIgZmlsbD0iIzI5ODBGRSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNDA4XzIyNSkiPgo8cGF0aCBkPSJNNDA2Ljc5NiA0MzguNjQzSDQwNi45MjdDNDA2Ljc5NiA0MzcuODU3IDQwNi43OTYgNDM2Ljk0IDQwNi43OTYgNDM2LjE1NFY0MzguNjQzWiIgZmlsbD0iIzI5QUVGRiIvPgo8cGF0aCBkPSJNNjY3LjYwMiA0NjMuNTMzSDUyMy4yNDlWNzI0LjA3NkM1MjMuMjQ5IDczNi4zODkgNTMzLjIwNCA3NDYuMzQ1IDU0NS41MTcgNzQ2LjM0NUg2NDUuMzMzQzY1Ny42NDcgNzQ2LjM0NSA2NjcuNjAyIDczNi4zODkgNjY3LjYwMiA3MjQuMDc2VjQ2My41MzNaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDUzLjU2MyAyNzdINDQ4LjcxNkgxOTAuMjY5QzE3Ny45NTUgMjc3IDE2OCAyODYuOTU1IDE2OCAyOTkuMjY5VjM4OS42NTNDMTY4IDQwMS45NjcgMTc3Ljk1NSA0MTEuOTIyIDE5MC4yNjkgNDExLjkyMkgyNTAuOTE4SDI3NS4wMjFWNDM4LjY0NFY3MjQuNzMxQzI3NS4wMjEgNzM3LjA0NSAyODQuOTc2IDc0NyAyOTcuMjg5IDc0N0gzOTIuMTI4QzQwNC40NDEgNzQ3IDQxNC4zOTYgNzM3LjA0NSA0MTQuMzk2IDcyNC43MzFWNDM4LjY0NFY0MzYuMTU2VjQxMS45MjJINDM4LjQ5OUg0NDguMzIzSDQ1My4xN0M0OTAuMzcyIDQxMS45MjIgNTIwLjYzMSAzODEuNjYzIDUyMC42MzEgMzQ0LjQ2MUM1MjEuMDI0IDMwNy4yNTkgNDkwLjc2NSAyNzcgNDUzLjU2MyAyNzdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjY3LjczNSA0NjMuNTMzVjY0NS4zNUM2NzIuNzEzIDY0Ni41MjkgNjc3LjgyMSA2NDcuNDQ2IDY4My4wNjEgNjQ4LjIzMkM2OTAuMzk3IDY0OS4yOCA2OTcuOTk0IDY0OS45MzUgNzA1LjU5MiA2NTAuMDY2QzcwNS45ODUgNjUwLjA2NiA3MDYuMzc4IDY1MC4wNjYgNzA2LjkwMiA2NTAuMDY2VjUwNS40NUM2ODUuMDI2IDUwNC4wMDkgNjY3LjczNSA0ODUuODAxIDY2Ny43MzUgNDYzLjUzM1oiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl80MDhfMjI1KSIvPgo8cGF0aCBkPSJNNzA5Ljc4MSAyNzdDNjA2LjgyMiAyNzcgNTIzLjI0OSAzNjAuNTczIDUyMy4yNDkgNDYzLjUzM0M1MjMuMjQ5IDU1Mi4wODQgNTg0Ljk0NiA2MjYuMjI1IDY2Ny43MzMgNjQ1LjM1VjQ2My41MzNDNjY3LjczMyA0NDAuMzQ3IDY4Ni41OTYgNDIxLjQ4NCA3MDkuNzgxIDQyMS40ODRDNzMyLjk2NyA0MjEuNDg0IDc1MS44MyA0NDAuMzQ3IDc1MS44MyA0NjMuNTMzQzc1MS44MyA0ODMuMDUxIDczOC42IDQ5OS40MjUgNzIwLjUyMyA1MDQuMTRDNzE3LjExNyA1MDUuMDU3IDcxMy40NDkgNTA1LjU4MSA3MDkuNzgxIDUwNS41ODFWNjUwLjA2NkM3MTMuNDQ5IDY1MC4wNjYgNzE2Ljk4NiA2NDkuOTM1IDcyMC41MjMgNjQ5LjgwNEM4MTguNTA1IDY0NC4xNzEgODk2LjMxNCA1NjIuOTU2IDg5Ni4zMTQgNDYzLjUzM0M4OTYuNDQ1IDM2MC41NzMgODEyLjg3MiAyNzcgNzA5Ljc4MSAyNzdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzA5Ljc4IDY1MC4wNjZWNTA1LjU4MUM3MDguNzMzIDUwNS41ODEgNzA3LjgxNiA1MDUuNTgxIDcwNi43NjggNTA1LjQ1VjY1MC4wNjZDNzA3LjgxNiA2NTAuMDY2IDcwOC44NjQgNjUwLjA2NiA3MDkuNzggNjUwLjA2NloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzQwOF8yMjUiIHgxPSI3MDkuODQ0IiB5MT0iNTU2LjgyNyIgeDI9IjY2Ny43NTMiIHkyPSI1NTYuODI3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IndoaXRlIi8+CjxzdG9wIG9mZnNldD0iMC45NjY3IiBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwLjMyMzMiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwLjMiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF80MDhfMjI1Ij4KPHJlY3Qgd2lkdGg9IjcyOC40NDgiIGhlaWdodD0iNDcwIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTY4IDI3NykiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this.onAccountsChanged = (accounts) => {
      const preAddr = this.address || "";
      const curAddr = (accounts === null || accounts === void 0 ? void 0 : accounts[0]) || "";
      if (!curAddr) {
        this.setAddress(null);
        this.setState(AdapterState.Disconnect);
      } else {
        const address = curAddr;
        this.setAddress(address);
        this.setState(AdapterState.Connected);
      }
      this.emit("accountsChanged", this.address || "", preAddr);
      if (!preAddr && this.address) {
        this.emit("connect", this.address);
      } else if (preAddr && !this.address) {
        this.emit("disconnect");
      }
    };
    this.checkReadyInterval = null;
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b, _c, _d, _e;
      let state = this.state;
      let address = this.address;
      if (supportTokenPocket()) {
        const tron = (_a2 = window.tokenpocket) === null || _a2 === void 0 ? void 0 : _a2.tron;
        this._wallet = isInMobileBrowser() ? {
          tron,
          ready: (_b = window.tronWeb) === null || _b === void 0 ? void 0 : _b.ready,
          tronWeb: (_c = window.tokenpocket) === null || _c === void 0 ? void 0 : _c.tronWeb
        } : {
          tron,
          ready: !!((_d = (tron === null || tron === void 0 ? void 0 : tron.tronWeb).defaultAddress) === null || _d === void 0 ? void 0 : _d.base58) || false,
          tronWeb: tron === null || tron === void 0 ? void 0 : tron.tronWeb
        };
        address = ((_e = this._wallet.tronWeb.defaultAddress) === null || _e === void 0 ? void 0 : _e.base58) || null;
        state = address ? AdapterState.Connected : AdapterState.Disconnect;
        if (!address) {
          this.checkForWalletReady();
        }
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[TokenPocketAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openAppWithDeeplink,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (isInMobileBrowser() && supportTokenPocket()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        this.checkIfOpenApp();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.readyState === WalletReadyState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.tron.request({ method: "eth_requestAccounts" });
          if (!(res === null || res === void 0 ? void 0 : res[0])) {
            throw new WalletConnectionError("Request connect error.");
          }
          const address = res[0];
          this.setAddress(address);
          this.setState(AdapterState.Connected);
          this.emit("connect", this.address || "");
        } catch (e11) {
          if (e11 instanceof WalletError) {
            throw e11;
          } else {
            throw new WalletConnectionError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter6(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter6(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  listenTronEvent() {
    if (isInMobileBrowser()) {
      return;
    }
    this.stopListenTronEvent();
    const wallet = this._wallet;
    if (!wallet || !wallet.tron)
      return;
    wallet.tron.on("accountsChanged", this.onAccountsChanged);
  }
  stopListenTronEvent() {
    if (isInMobileBrowser()) {
      return;
    }
    const wallet = this._wallet;
    if (!wallet || !wallet.tron)
      return;
    wallet.tron.removeListener("accountsChanged", this.onAccountsChanged);
  }
  checkAndGetWallet() {
    return __awaiter6(this, void 0, void 0, function* () {
      this.checkIfOpenApp();
      yield this._checkWallet();
      if (!this.connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  checkIfOpenApp() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openTokenPocket()) {
      throw new WalletNotFoundError();
    }
  }
  checkForWalletReady() {
    if (this.checkReadyInterval) {
      return;
    }
    let times = 0;
    const maxTimes = Math.floor(this.config.checkTimeout / 200);
    const check = () => {
      var _a2, _b, _c, _d;
      if (isInMobileBrowser() && ((_a2 = window.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.ready)) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        this._updateWallet();
        this.emit("connect", this.address || "");
      } else if ((_d = (_c = (_b = this._wallet) === null || _b === void 0 ? void 0 : _b.tronWeb) === null || _c === void 0 ? void 0 : _c.defaultAddress) === null || _d === void 0 ? void 0 : _d.base58) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        this._wallet.ready = true;
        const address = this._wallet.tronWeb.defaultAddress.base58;
        const state = address ? AdapterState.Connected : AdapterState.Disconnect;
        this.setAddress(address);
        this.setState(state);
        this.emit("connect", this.address || "");
      } else if (times > maxTimes) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
      } else {
        times++;
      }
    };
    this.checkReadyInterval = setInterval(check, 200);
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if wallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    if (isInBrowser() && !isInMobileBrowser()) {
      this._checkPromise = new Promise((resolve) => {
        const timer2 = setTimeout(() => {
          window.removeEventListener(TIP6963AnnounceProviderEventName, handler);
          this._updateWallet();
          if (supportTokenPocket()) {
            this._readyState = WalletReadyState.Found;
            resolve(true);
          } else {
            this._readyState = WalletReadyState.NotFound;
            resolve(false);
          }
          this.emit("readyStateChanged", this._readyState);
        }, this.config.checkTimeout);
        const handler = (event) => {
          var _a2, _b, _c;
          const { info, provider } = event.detail;
          if (info.name === "TokenPocket") {
            this._wallet = {
              ready: !!((_b = (_a2 = provider.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58),
              tron: provider,
              tronWeb: provider.tronWeb
            };
            this.listenTronEvent();
            this._readyState = WalletReadyState.Found;
            const address = ((_c = this._wallet.tronWeb.defaultAddress) === null || _c === void 0 ? void 0 : _c.base58) || null;
            const state = address ? AdapterState.Connected : AdapterState.Disconnect;
            this.setState(state);
            this.setAddress(address);
            this.emit("readyStateChanged", this.readyState);
            window.removeEventListener(TIP6963AnnounceProviderEventName, handler);
            clearTimeout(timer2);
            resolve(true);
            if (!this.connected) {
              this.checkForWalletReady();
            }
          }
        };
        window.addEventListener(TIP6963AnnounceProviderEventName, handler);
        window.dispatchEvent(new Event(TIP6963RequestProviderEventName));
      });
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportTokenPocket();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-bitkeep/lib/esm/utils.js
function supportBitgetWallet() {
  return !!window.tronLink && window.isBitKeep;
}
function openBitgetWallet() {
  if (isInMobileBrowser() && !supportBitgetWallet()) {
    const { origin, pathname, search, hash } = window.location;
    const url = origin + pathname + search + hash;
    location.href = `https://bkcode.vip?action=dapp&url=${encodeURIComponent(url)}`;
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-bitkeep/lib/esm/adapter.js
var __awaiter7 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var BitgetWalletAdapterName = "Bitget Wallet";
var BitKeepAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = BitgetWalletAdapterName;
    this.url = "https://web3.bitget.com";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjMDAxRjI5Ii8+CjxwYXRoIGQ9Ik0yMTkuOTQ4IDk1LjcwMjJDMjAxLjYyMyA5NS42OTI5IDE4My4zMyA5NS42ODM1IDE2NC45NDEgOTUuNzExNkMxNTMuODIyIDk1LjcxMTYgMTQ5LjY1MSAxMDkuNjcxIDE1Ny45MjEgMTE3LjkzOUwyODMuMDk4IDI0My4xMTdDMjg3LjAwNCAyNDYuNjkgMjg5LjQ0MSAyNTAuNTc0IDI4OS41MyAyNTUuNjkzQzI4OS40NDEgMjYwLjgxMiAyODcuMDA0IDI2NC42OTYgMjgzLjA5OCAyNjguMjY5TDE1Ny45MjEgMzkzLjQ0NkMxNDkuNjUxIDQwMS43MTUgMTUzLjgyMiA0MTUuNjc0IDE2NC45NDEgNDE1LjY3NEMxODMuMzMgNDE1LjcwMiAyMDEuNjIzIDQxNS42OTMgMjE5Ljk0OCA0MTUuNjgzQzIyOS4xMjIgNDE1LjY3OSAyMzguMzA1IDQxNS42NzQgMjQ3LjUxMSA0MTUuNjc0QzI1OS41NTUgNDE1LjY3NCAyNjYuNzIgNDA5LjI0IDI3My4xNTQgNDAyLjgwNUwzODYuMDQ3IDI4OS45MTJDMzk1LjA1NyAyODAuOTAyIDQwMy4xMTkgMjY4LjkzOSA0MDMuMDA5IDI1NS42OTNDNDAzLjExOSAyNDIuNDQ3IDM5NS4wNTcgMjMwLjQ4NCAzODYuMDQ3IDIyMS40NzRMMjczLjE1NCAxMDguNThDMjY2LjcyIDEwMi4xNDYgMjU5LjU1NSA5NS43MTE2IDI0Ny41MTEgOTUuNzExNkMyMzguMzA1IDk1LjcxMTYgMjI5LjEyMiA5NS43MDY5IDIxOS45NDggOTUuNzAyMloiIGZpbGw9IiMwMEYwRkYiLz4KPC9zdmc+Cg==";
    this._readyState = WalletReadyState.Loading;
    this._state = AdapterState.Loading;
    this.checkReadyInterval = null;
    this._checkPromise = null;
    this._updateWallet = () => __awaiter7(this, void 0, void 0, function* () {
      var _a2, _b, _c, _d, _e, _f;
      let state = this.state;
      let address = this.address;
      if (supportBitgetWallet()) {
        if (isInMobileBrowser()) {
          const tron = (_a2 = window.bitkeep) === null || _a2 === void 0 ? void 0 : _a2.tronLink;
          this._wallet = {
            tron,
            tronWeb: tron === null || tron === void 0 ? void 0 : tron.tronWeb
          };
        } else {
          const tronWeb = (_b = window.bitkeep) === null || _b === void 0 ? void 0 : _b.tronWeb;
          this._wallet = {
            tron: window.bitkeep.tronLink,
            tronWeb
          };
        }
        address = ((_c = this._wallet.tron) === null || _c === void 0 ? void 0 : _c.ready) ? ((_d = this._wallet.tronWeb.defaultAddress) === null || _d === void 0 ? void 0 : _d.base58) || null : "";
        state = ((_e = this._wallet.tron) === null || _e === void 0 ? void 0 : _e.ready) ? AdapterState.Connected : AdapterState.Disconnect;
        if (!((_f = this._wallet.tron) === null || _f === void 0 ? void 0 : _f.ready)) {
          this.checkForWalletReady();
        }
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    });
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[BitKeepAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound,
      openAppWithDeeplink
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportBitgetWallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter7(this, void 0, void 0, function* () {
      var _a2, _b, _c, _d;
      try {
        this.checkIfOpenApp();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.readyState === WalletReadyState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        const wallet = this._wallet;
        if (!isInMobileBrowser()) {
          if (!wallet)
            return;
          this._connecting = true;
          try {
            const res = yield wallet.tron.request({ method: "tron_requestAccounts" });
            if ((res === null || res === void 0 ? void 0 : res.code) !== 200) {
              throw new WalletConnectionError(
                // @ts-ignore
                (res === null || res === void 0 ? void 0 : res.code) === 40001 ? "The connection request is canceled by user." : res === null || res === void 0 ? void 0 : res.message
              );
            }
          } catch (e11) {
            if (e11 instanceof WalletError) {
              throw e11;
            } else {
              throw new WalletConnectionError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
            }
          }
        }
        const address = ((_a2 = wallet === null || wallet === void 0 ? void 0 : wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || ((_d = (_c = (_b = window.bitkeep) === null || _b === void 0 ? void 0 : _b.tronWeb) === null || _c === void 0 ? void 0 : _c.defaultAddress) === null || _d === void 0 ? void 0 : _d.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter7(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter7(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignMessageError(error.message, error);
          } else {
            throw new WalletSignMessageError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter7(this, void 0, void 0, function* () {
      this.checkIfOpenApp();
      yield this._checkWallet();
      if (!this.connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  checkForWalletReady() {
    if (this.checkReadyInterval) {
      return;
    }
    let times = 0;
    const maxTimes = Math.floor(this.config.checkTimeout / 200);
    const check = () => __awaiter7(this, void 0, void 0, function* () {
      var _a2;
      if (this._wallet && ((_a2 = this._wallet) === null || _a2 === void 0 ? void 0 : _a2.tron.ready)) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        yield this._updateWallet();
        this.emit("connect", this.address || "");
      } else if (times > maxTimes) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
      } else {
        times++;
      }
    });
    this.checkReadyInterval = setInterval(check, 200);
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if wallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportBitgetWallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  checkIfOpenApp() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openBitgetWallet()) {
      throw new WalletNotFoundError();
    }
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-okxwallet/lib/esm/utils.js
function supportOkxWallet() {
  return !!(window.okxwallet && window.okxwallet.tronLink);
}
var isOKApp = typeof navigator !== "undefined" && /OKApp/i.test(navigator.userAgent);
function isInOKApp() {
  if (typeof window !== "undefined" && typeof window.navigator !== "undefined") {
    return /OKApp/i.test(window.navigator.userAgent);
  }
  return false;
}
function openOkxWallet() {
  if (!isInOKApp() && isInMobileBrowser()) {
    window.location.href = "okx://wallet/dapp/url?dappUrl=" + encodeURIComponent(window.location.href);
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-okxwallet/lib/esm/adapter.js
var __awaiter8 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var OkxWalletAdapterName = "OKX Wallet";
var OkxWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = OkxWalletAdapterName;
    this.url = "https://okx.com";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU1ODMgMTUuODk2NUgxNi40NDc0QzE2LjE0NTMgMTUuODk2NSAxNS45MDA0IDE2LjE0MTQgMTUuOTAwNCAxNi40NDM1VjIzLjU1NDRDMTUuOTAwNCAyMy44NTY1IDE2LjE0NTMgMjQuMTAxNCAxNi40NDc0IDI0LjEwMTRIMjMuNTU4M0MyMy44NjA0IDI0LjEwMTQgMjQuMTA1MyAyMy44NTY1IDI0LjEwNTMgMjMuNTU0NFYxNi40NDM1QzI0LjEwNTMgMTYuMTQxNCAyMy44NjA0IDE1Ljg5NjUgMjMuNTU4MyAxNS44OTY1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2LjQ0NzQgMTYuMzk2NUgyMy41NTgzQzIzLjU4NDIgMTYuMzk2NSAyMy42MDUzIDE2LjQxNzUgMjMuNjA1MyAxNi40NDM1VjIzLjU1NDRDMjMuNjA1MyAyMy41ODAzIDIzLjU4NDIgMjMuNjAxNCAyMy41NTgzIDIzLjYwMTRIMTYuNDQ3NEMxNi40MjE0IDIzLjYwMTQgMTYuNDAwNCAyMy41ODAzIDE2LjQwMDQgMjMuNTU0NFYxNi40NDM1QzE2LjQwMDQgMTYuNDE3NSAxNi40MjE0IDE2LjM5NjUgMTYuNDQ3NCAxNi4zOTY1WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTE1LjM1MDMgNy42OTE0MUg4LjIzOTM3QzcuOTM3MjggNy42OTE0MSA3LjY5MjM4IDcuOTM2MyA3LjY5MjM4IDguMjM4NFYxNS4zNDkzQzcuNjkyMzggMTUuNjUxNCA3LjkzNzI4IDE1Ljg5NjMgOC4yMzkzNyAxNS44OTYzSDE1LjM1MDNDMTUuNjUyMyAxNS44OTYzIDE1Ljg5NzIgMTUuNjUxNCAxNS44OTcyIDE1LjM0OTNWOC4yMzg0QzE1Ljg5NzIgNy45MzYzIDE1LjY1MjMgNy42OTE0MSAxNS4zNTAzIDcuNjkxNDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOC4yMzkzNyA4LjE5MTQxSDE1LjM1MDNDMTUuMzc2MiA4LjE5MTQxIDE1LjM5NzIgOC4yMTI0NSAxNS4zOTcyIDguMjM4NFYxNS4zNDkzQzE1LjM5NzIgMTUuMzc1MiAxNS4zNzYyIDE1LjM5NjMgMTUuMzUwMyAxNS4zOTYzSDguMjM5MzdDOC4yMTM0MiAxNS4zOTYzIDguMTkyMzggMTUuMzc1MiA4LjE5MjM4IDE1LjM0OTNWOC4yMzg0QzguMTkyMzggOC4yMTI0NCA4LjIxMzQyIDguMTkxNDEgOC4yMzkzNyA4LjE5MTQxWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTMxLjc2MDQgNy42OTE0MUgyNC42NDk1QzI0LjM0NzQgNy42OTE0MSAyNC4xMDI1IDcuOTM2MyAyNC4xMDI1IDguMjM4NFYxNS4zNDkzQzI0LjEwMjUgMTUuNjUxNCAyNC4zNDc0IDE1Ljg5NjMgMjQuNjQ5NSAxNS44OTYzSDMxLjc2MDRDMzIuMDYyNSAxNS44OTYzIDMyLjMwNzQgMTUuNjUxNCAzMi4zMDc0IDE1LjM0OTNWOC4yMzg0QzMyLjMwNzQgNy45MzYzIDMyLjA2MjUgNy42OTE0MSAzMS43NjA0IDcuNjkxNDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjQuNjQ5NSA4LjE5MTQxSDMxLjc2MDRDMzEuNzg2NCA4LjE5MTQxIDMxLjgwNzQgOC4yMTI0NSAzMS44MDc0IDguMjM4NFYxNS4zNDkzQzMxLjgwNzQgMTUuMzc1MiAzMS43ODY0IDE1LjM5NjMgMzEuNzYwNCAxNS4zOTYzSDI0LjY0OTVDMjQuNjIzNiAxNS4zOTYzIDI0LjYwMjUgMTUuMzc1MiAyNC42MDI1IDE1LjM0OTNWOC4yMzg0QzI0LjYwMjUgOC4yMTI0NCAyNC42MjM2IDguMTkxNDEgMjQuNjQ5NSA4LjE5MTQxWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTE1LjM1MDMgMjQuMDk5Nkg4LjIzOTM3QzcuOTM3MjggMjQuMDk5NiA3LjY5MjM4IDI0LjM0NDUgNy42OTIzOCAyNC42NDY2VjMxLjc1NzVDNy42OTIzOCAzMi4wNTk2IDcuOTM3MjggMzIuMzA0NSA4LjIzOTM3IDMyLjMwNDVIMTUuMzUwM0MxNS42NTI0IDMyLjMwNDUgMTUuODk3MyAzMi4wNTk2IDE1Ljg5NzMgMzEuNzU3NVYyNC42NDY2QzE1Ljg5NzMgMjQuMzQ0NSAxNS42NTI0IDI0LjA5OTYgMTUuMzUwMyAyNC4wOTk2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjM5MzcgMjQuNTk5NkgxNS4zNTAzQzE1LjM3NjIgMjQuNTk5NiAxNS4zOTczIDI0LjYyMDYgMTUuMzk3MyAyNC42NDY2VjMxLjc1NzVDMTUuMzk3MyAzMS43ODM0IDE1LjM3NjIgMzEuODA0NSAxNS4zNTAzIDMxLjgwNDVIOC4yMzkzN0M4LjIxMzQyIDMxLjgwNDUgOC4xOTIzOCAzMS43ODM0IDguMTkyMzggMzEuNzU3NVYyNC42NDY2QzguMTkyMzggMjQuNjIwNiA4LjIxMzQyIDI0LjU5OTYgOC4yMzkzNyAyNC41OTk2WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTMxLjc2MDQgMjQuMDk5NkgyNC42NDk1QzI0LjM0NzQgMjQuMDk5NiAyNC4xMDI1IDI0LjM0NDUgMjQuMTAyNSAyNC42NDY2VjMxLjc1NzVDMjQuMTAyNSAzMi4wNTk2IDI0LjM0NzQgMzIuMzA0NSAyNC42NDk1IDMyLjMwNDVIMzEuNzYwNEMzMi4wNjI1IDMyLjMwNDUgMzIuMzA3NCAzMi4wNTk2IDMyLjMwNzQgMzEuNzU3NVYyNC42NDY2QzMyLjMwNzQgMjQuMzQ0NSAzMi4wNjI1IDI0LjA5OTYgMzEuNzYwNCAyNC4wOTk2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI0LjY0OTUgMjQuNTk5NkgzMS43NjA0QzMxLjc4NjQgMjQuNTk5NiAzMS44MDc0IDI0LjYyMDYgMzEuODA3NCAyNC42NDY2VjMxLjc1NzVDMzEuODA3NCAzMS43ODM0IDMxLjc4NjQgMzEuODA0NSAzMS43NjA0IDMxLjgwNDVIMjQuNjQ5NUMyNC42MjM2IDMxLjgwNDUgMjQuNjAyNSAzMS43ODM0IDI0LjYwMjUgMzEuNzU3NVYyNC42NDY2QzI0LjYwMjUgMjQuNjIwNiAyNC42MjM2IDI0LjU5OTYgMjQuNjQ5NSAyNC41OTk2WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPC9zdmc+Cg==";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this.messageHandler = (e11) => {
      var _a2, _b, _c;
      const message = (_a2 = e11.data) === null || _a2 === void 0 ? void 0 : _a2.message;
      if (!message) {
        return;
      }
      if (message.action === "accountsChanged") {
        setTimeout(() => {
          var _a3;
          const preAddr = this.address || "";
          if ((_a3 = this._wallet) === null || _a3 === void 0 ? void 0 : _a3.ready) {
            const address2 = message.data.address;
            this.setAddress(address2);
            this.setState(AdapterState.Connected);
          } else {
            this.setAddress(null);
            this.setState(AdapterState.Disconnect);
          }
          const address = this.address || "";
          if (address !== preAddr) {
            this.emit("accountsChanged", this.address || "", preAddr);
          }
          if (!preAddr && this.address) {
            this.emit("connect", this.address);
          } else if (preAddr && !this.address) {
            this.emit("disconnect");
          }
        }, 200);
      } else if (message.action === "connect") {
        const isCurConnected = this.connected;
        const preAddress = this.address || "";
        const address = ((_c = (_b = this._wallet.tronWeb) === null || _b === void 0 ? void 0 : _b.defaultAddress) === null || _c === void 0 ? void 0 : _c.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        if (!isCurConnected) {
          this.emit("connect", address);
        } else if (address !== preAddress) {
          this.emit("accountsChanged", this.address || "", preAddress);
        }
      } else if (message.action === "disconnect") {
        this.setAddress(null);
        this.setState(AdapterState.Disconnect);
        this.emit("disconnect");
      }
    };
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportOkxWallet()) {
        this._wallet = window.okxwallet.tronLink;
        this._listenEvent();
        address = ((_b = (_a2 = this._wallet.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[OkxWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openAppWithDeeplink,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportOkxWallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by OkxWallet.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter8(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter8(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfOpenOkxWallet();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.request({ method: "tron_requestAccounts" });
          if (!res) {
            throw new WalletConnectionError("Request connect error.");
          }
          if (res.code === 4e3) {
            throw new WalletConnectionError("The same DApp has already initiated a request to connect to OkxWallet, and the pop-up window has not been closed.");
          }
          if (res.code === 4001) {
            throw new WalletConnectionError("The user rejected connection.");
          }
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
        const address = ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this._listenEvent();
        this.connected && this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter8(this, void 0, void 0, function* () {
      this._stopListenEvent();
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter8(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter8(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter8(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter8(this, void 0, void 0, function* () {
      this.checkIfOpenOkxWallet();
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  _listenEvent() {
    this._stopListenEvent();
    window.addEventListener("message", this.messageHandler);
  }
  _stopListenEvent() {
    window.removeEventListener("message", this.messageHandler);
  }
  checkIfOpenOkxWallet() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openOkxWallet()) {
      throw new WalletNotFoundError();
    }
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if OkxWallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportOkxWallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-gatewallet/lib/esm/utils.js
function supportGateWallet() {
  return !!(window.gatewallet && window.gatewallet.tronLink);
}
var isGateApp = typeof navigator !== "undefined" && /GateApp/i.test(navigator.userAgent);
function isInGateApp() {
  if (typeof window !== "undefined" && typeof window.navigator !== "undefined") {
    return /GateApp/i.test(window.navigator.userAgent);
  }
  return false;
}
function openGateWallet() {
  if (!isInGateApp() && isInMobileBrowser()) {
    window.location.href = "https://gateio.onelink.me/DmA6/web3?dapp_url=" + encodeURIComponent(window.location.href);
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-gatewallet/lib/esm/adapter.js
var __awaiter9 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var GateWalletAdapterName = "Gate Wallet";
var GateWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = GateWalletAdapterName;
    this.url = "https://gate.io";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPG1hc2sgaWQ9Im1hc2swXzQ1ODJfNzgxIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPgo8cGF0aCBkPSJNMCA4QzAgMy41ODE3MiAzLjU4MTcyIDAgOCAwSDMyQzM2LjQxODMgMCA0MCAzLjU4MTcyIDQwIDhWMzJDNDAgMzYuNDE4MyAzNi40MTgzIDQwIDMyIDQwSDhDMy41ODE3MiA0MCAwIDM2LjQxODMgMCAzMlY4WiIgZmlsbD0id2hpdGUiLz4KPC9tYXNrPgo8ZyBtYXNrPSJ1cmwoI21hc2swXzQ1ODJfNzgxKSI+CjxwYXRoIGQ9Ik0wIDhDMCAzLjU4MTcyIDMuNTgxNzIgMCA4IDBIMzJDMzYuNDE4MyAwIDQwIDMuNTgxNzIgNDAgOFYzMkM0MCAzNi40MTgzIDM2LjQxODMgNDAgMzIgNDBIOEMzLjU4MTcyIDQwIDAgMzYuNDE4MyAwIDMyVjhaIiBmaWxsPSIjMDA1MUQyIi8+CjwvZz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNSAyMEMzNSAyOC4yODQzIDI4LjI4NDMgMzUgMjAgMzVDMTEuNzE1NyAzNSA1IDI4LjI4NDMgNSAyMEM1IDExLjcxNTcgMTEuNzE1NyA1IDIwIDVWMTIuMDU4N0MyMCAxMi4wNTg3IDE5Ljk5OTkgMTIuMDU4NyAxOS45OTk5IDEyLjA1ODdDMTUuNjE0MSAxMi4wNTg3IDEyLjA1ODcgMTUuNjE0MSAxMi4wNTg3IDE5Ljk5OTlDMTIuMDU4NyAyNC4zODU3IDE1LjYxNDEgMjcuOTQxMSAxOS45OTk5IDI3Ljk0MTFDMjQuMzg1NiAyNy45NDExIDI3Ljk0MSAyNC4zODU3IDI3Ljk0MTEgMjBIMzVaIiBmaWxsPSJ3aGl0ZSIvPgo8cmVjdCB4PSIyMCIgeT0iMTIuMDU4NiIgd2lkdGg9IjcuOTQxMTgiIGhlaWdodD0iNy45NDExOCIgZmlsbD0iIzE0RTBBMSIvPgo8L3N2Zz4K";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this.onGateAccountChange = (res) => {
      setTimeout(() => {
        const preAddr = this.address || "";
        if (res.length !== 0) {
          const address2 = res[0];
          this.setAddress(address2);
          this.setState(AdapterState.Connected);
        } else {
          this.setAddress(null);
          this.setState(AdapterState.Disconnect);
        }
        const address = this.address || "";
        if (address !== preAddr) {
          this.emit("accountsChanged", this.address || "", preAddr);
        }
        if (!preAddr && this.address) {
          this.emit("connect", this.address);
        } else if (preAddr && !this.address) {
          this.emit("disconnect");
        }
      }, 200);
    };
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportGateWallet()) {
        this._wallet = isGateApp ? window.gatewallet.tronLink : window.gatewallet.tron;
        this._listenEvent();
        address = ((_b = (_a2 = this._wallet.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        const ready = isGateApp ? this._wallet.ready : this._wallet.tronWeb.ready;
        state = ready ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[GateWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openAppWithDeeplink,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportGateWallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by GateWallet.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter9(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter9(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfOpenGateWallet();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        let res;
        try {
          const method = isGateApp ? "tron_requestAccounts" : "eth_requestAccounts";
          res = yield wallet.request({ method });
          if (!res) {
            throw new WalletConnectionError("Request connect error.");
          }
          if (res.code === 4e3) {
            throw new WalletConnectionError("The same DApp has already initiated a request to connect to GateWallet, and the pop-up window has not been closed.");
          }
          if (res.code === 4001) {
            throw new WalletConnectionError("The user rejected connection.");
          }
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
        const address = (isGateApp ? (_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58 : res[0]) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this._listenEvent();
        this.connected && this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter9(this, void 0, void 0, function* () {
      this._stopListenEvent();
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter9(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter9(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter9(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter9(this, void 0, void 0, function* () {
      this.checkIfOpenGateWallet();
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  _listenEvent() {
    this._stopListenEvent();
    if (isGateApp)
      return;
    this._wallet.on("accountsChanged", this.onGateAccountChange);
  }
  _stopListenEvent() {
    if (isGateApp)
      return;
    this._wallet.off("accountsChanged", this.onGateAccountChange);
  }
  checkIfOpenGateWallet() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openGateWallet()) {
      throw new WalletNotFoundError();
    }
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if GateWallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportGateWallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-imtoken/lib/esm/utils.js
function supportImToken() {
  return !!window.imToken && !!window.tronWeb;
}
function openImTokenApp() {
  if (isInMobileBrowser() && !supportImToken()) {
    const { origin, pathname, search, hash } = window.location;
    const url = origin + pathname + search + hash;
    location.href = `imtokenv2://navigate/DappView?url=${encodeURIComponent(url)}`;
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-imtoken/lib/esm/adapter.js
var __awaiter10 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var ImTokenWalletAdapterName = "imToken Wallet";
var ImTokenAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = ImTokenWalletAdapterName;
    this.url = "https://token.im/";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEzIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMyA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF84OTNfMjU5OSkiPgo8bWFzayBpZD0ibWFzazBfODkzXzI1OTkiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iNTEzIiBoZWlnaHQ9IjUxMiI+CjxwYXRoIGQ9Ik01MTIuMzE5IDBIMC4zMTkzMzZWNTEySDUxMi4zMTlWMFoiIGZpbGw9IndoaXRlIi8+CjwvbWFzaz4KPGcgbWFzaz0idXJsKCNtYXNrMF84OTNfMjU5OSkiPgo8cGF0aCBkPSJNMzk3Ljc0NiAwSDExNS43NDZDNTIuMjMzMyAwIDAuNzQ2MDk0IDUxLjQ4NzMgMC43NDYwOTQgMTE1VjM5N0MwLjc0NjA5NCA0NjAuNTEzIDUyLjIzMzMgNTEyIDExNS43NDYgNTEySDM5Ny43NDZDNDYxLjI1OSA1MTIgNTEyLjc0NiA0NjAuNTEzIDUxMi43NDYgMzk3VjExNUM1MTIuNzQ2IDUxLjQ4NzMgNDYxLjI1OSAwIDM5Ny43NDYgMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl84OTNfMjU5OSkiLz4KPHBhdGggZD0iTTQxNy40MzYgMTU4LjI5MUM0MjguMDg0IDMwMi41MDcgMzM1LjM4MiAzNzAuNjcgMjUyLjI3NyAzNzcuOTM5QzE3NS4wMTQgMzg0LjY5NiAxMDIuMjg3IDMzNy4yMjEgOTUuOTA2NyAyNjQuMjc5QzkwLjY0MzYgMjA0LjAxNyAxMjcuODg5IDE3OC4zNjEgMTU3LjE1MiAxNzUuODA0QzE4Ny4yNDkgMTczLjE2NSAyMTIuNTQyIDE5My45MjEgMjE0LjczNiAyMTkuMDUyQzIxNi44NDkgMjQzLjIxMyAyMDEuNzczIDI1NC4yMTEgMTkxLjI4OCAyNTUuMTI2QzE4Mi45OTYgMjU1Ljg1MyAxNzIuNTY0IDI1MC44MTkgMTcxLjYyMiAyNDAuMDFDMTcwLjgxNCAyMzAuNzIyIDE3NC4zNDEgMjI5LjQ1NyAxNzMuNDc5IDIxOS41OUMxNzEuOTQ1IDIwMi4wMjQgMTU2LjYyNyAxOTkuOTc4IDE0OC4yNDEgMjAwLjcwNUMxMzguMDkyIDIwMS41OTQgMTE5LjY3OCAyMTMuNDM5IDEyMi4yNjIgMjQyLjk0NEMxMjQuODYgMjcyLjcwNSAxNTMuMzk2IDI5Ni4yMjEgMTkwLjgwMyAyOTIuOTVDMjMxLjE3MSAyODkuNDIzIDI1OS4yNzYgMjU3Ljk5MyAyNjEuMzkgMjEzLjkxQzI2MS4zNyAyMTEuNTc1IDI2MS44NjIgMjA5LjI2NCAyNjIuODMgMjA3LjEzOUwyNjIuODQzIDIwNy4wODZDMjYzLjI3OCAyMDYuMTYyIDI2My43ODcgMjA1LjI3NSAyNjQuMzY0IDIwNC40MzRDMjY1LjIyNiAyMDMuMTQyIDI2Ni4zMyAyMDEuNzE1IDI2Ny43NTYgMjAwLjE1M0MyNjcuNzcgMjAwLjExMyAyNjcuNzcgMjAwLjExMyAyNjcuNzk3IDIwMC4xMTNDMjY4LjgzMyAxOTguOTQyIDI3MC4wODUgMTk3LjY3NyAyNzEuNDk4IDE5Ni4zMTdDMjg5LjEzMiAxNzkuNjggMzUyLjYzOCAxNDAuNDQzIDQxMi42OTggMTUyLjg2N0M0MTMuOTY4IDE1My4xMzkgNDE1LjExNSAxNTMuODE0IDQxNS45NjkgMTU0Ljc5MkM0MTYuODIzIDE1NS43NyA0MTcuMzM3IDE1Ni45OTcgNDE3LjQzNiAxNTguMjkxWiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfODkzXzI1OTkiIHgxPSI1MTIuNDQiIHkxPSI4Ni41MTkiIHgyPSIxOC4wMjE5IiB5Mj0iMjc5LjUwMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMENDNUZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwN0ZGRiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzg5M18yNTk5Ij4KPHJlY3Qgd2lkdGg9IjUxMyIgaGVpZ2h0PSI1MTIiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==";
    this._readyState = WalletReadyState.Loading;
    this._state = AdapterState.Loading;
    this.checkReadyInterval = null;
    this._checkPromise = null;
    this._updateWallet = () => __awaiter10(this, void 0, void 0, function* () {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportImToken()) {
        this._wallet = {
          ready: ((_a2 = window.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.ready) || false,
          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
          tronWeb: window.tronWeb,
          request: () => Promise.resolve(null)
        };
        address = ((_b = this._wallet.tronWeb.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;
        if (!this._wallet.ready) {
          this.checkForWalletReady();
        }
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    });
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[ImTokenAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound,
      openAppWithDeeplink
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportImToken()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter10(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter10(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfOpenApp();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.readyState === WalletReadyState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        const wallet = this._wallet;
        const address = ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter10(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter10(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter10(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter10(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter10(this, void 0, void 0, function* () {
      this.checkIfOpenApp();
      yield this._checkWallet();
      if (!this.connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  checkForWalletReady() {
    if (this.checkReadyInterval) {
      return;
    }
    let times = 0;
    const maxTimes = Math.floor(this.config.checkTimeout / 200);
    const check = () => __awaiter10(this, void 0, void 0, function* () {
      if (this._wallet && this._wallet.ready) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        yield this._updateWallet();
        this.emit("connect", this.address || "");
      } else if (times > maxTimes) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
      } else {
        times++;
      }
    });
    this.checkReadyInterval = setInterval(check, 200);
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if wallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportImToken();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  checkIfOpenApp() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openImTokenApp()) {
      throw new WalletNotFoundError();
    }
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-foxwallet/lib/esm/utils.js
function supportFoxWallet() {
  return !!isInMobileBrowser && !!(window.foxwallet && window.foxwallet.tronLink && window.foxwallet.tronLink.tronWeb);
}
function openFoxWallet() {
  if (isInMobileBrowser() && !supportFoxWallet()) {
    const { origin, pathname, search, hash } = window.location;
    const url = origin + pathname + search + hash;
    location.href = `foxwallet://dapp?url=${encodeURIComponent(url)}`;
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-foxwallet/lib/esm/adapter.js
var __awaiter11 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var FoxWalletAdapterName = "FoxWallet";
var FoxWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = FoxWalletAdapterName;
    this.url = "https://foxwallet.com/";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQxIiBoZWlnaHQ9IjE0MCIgdmlld0JveD0iMCAwIDE0MSAxNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiIHJ4PSI0IiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkwLjI5NDQgMzMuNTk2NUM4NC40OTMxIDMwLjUyNTMgODAuMDg5MyAyNS4xMzAyIDc4LjM1MDYgMTguNjQ2NUM3Ny44MTQzIDIwLjYyOSA3Ny41MzgxIDIyLjcwOSA3Ny41MzgxIDI0Ljg1NEM3Ny41MzgxIDI2LjUyNzcgNzcuNzE2OCAyOC4xNTI3IDc4LjA0MTggMjkuNzI5Qzc4LjA0MTggMjkuNzI5IDc4LjA0MTggMjkuNzI5IDc4LjA0MTggMjkuNzQ1M0M3OC4wNDE4IDI5Ljc2MTUgNzguMDU4MSAyOS43OTQgNzguMDU4MSAyOS44MTAzQzc4LjQ5NjggMzEuOTIyOCA3OS4yMTE4IDMzLjkyMTUgODAuMTcwNiAzNS43NzRDNzguMTIzMSAzNC4yNjI4IDc2LjMwMzEgMzIuNDU5IDc0Ljc3NTYgMzAuNDI3OEM3Mi43MjgxIDQ2LjMwNCA3OC40OTY4IDYyLjgzMDMgODkuMDQzMSA3My43MTc4QzEwMi44MDcgODkuNzQwMyA5MC4xMTU2IDExNi45MjcgNjguNjY1NiAxMTYuMjEyQzM4LjMxMDUgMTE2LjQ3MiAzMy4xMTA1IDcxLjc2NzggNjIuMjMwNiA2NC43NDc4TDYyLjIxNDMgNjQuNjY2NkM2OS45ODE4IDYyLjE0NzggNzMuNjIxOCA1Ny4wOTQgNzQuMjU1NiA1MC41MjlDNjMuMDQzMSA1OS42MTI4IDQ1LjMzMDUgNDguMzUxNSA0OS4wMDMxIDM0LjI0NjVDNi45MTU1IDU0Ljk2NTMgMjIuNTQ4IDEyMi4xNzUgNzAuMjU4MSAxMjEuMzQ3QzkxLjA0MTkgMTIxLjM0NyAxMDguNjI0IDEwNy41OTkgMTE0LjM5MyA4OC43MDAzQzEyMS4yODMgNjYuNjY1MyAxMTAuMTM2IDQzLjE4NCA5MC4yOTQ0IDMzLjU5NjVaIiBmaWxsPSIjMTJGRTc0Ii8+Cjwvc3ZnPgo=";
    this._readyState = WalletReadyState.Loading;
    this._state = AdapterState.Loading;
    this.checkReadyInterval = null;
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportFoxWallet()) {
        this._wallet = window.foxwallet.tronLink;
        address = ((_b = (_a2 = this._wallet.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        state = address ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      if (isInMobileBrowser() && state === AdapterState.Disconnect) {
        this.checkForWalletReady();
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[FoxWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound,
      openAppWithDeeplink
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInMobileBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportFoxWallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter11(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter11(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfOpenApp();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.readyState === WalletReadyState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.request({ method: "tron_requestAccounts" });
          if (!res) {
            throw new WalletConnectionError("Request connect error.");
          }
          if (res.code === 4e3) {
            throw new WalletConnectionError("The same DApp has already initiated a request to connect to FoxWallet, and the pop-up window has not been closed.");
          }
          if (res.code === 4001) {
            throw new WalletConnectionError("The user rejected connection.");
          }
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
        const address = ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter11(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter11(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter11(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter11(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignMessageError(error.message, error);
          } else {
            throw new WalletSignMessageError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter11(this, void 0, void 0, function* () {
      this.checkIfOpenApp();
      yield this._checkWallet();
      if (!this.connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  checkForWalletReady() {
    if (this.checkReadyInterval) {
      return;
    }
    let times = 0;
    const maxTimes = Math.floor(this.config.checkTimeout / 200);
    const check = () => __awaiter11(this, void 0, void 0, function* () {
      var _a2, _b, _c;
      if ((_c = (_b = (_a2 = this._wallet) === null || _a2 === void 0 ? void 0 : _a2.tronWeb) === null || _b === void 0 ? void 0 : _b.defaultAddress) === null || _c === void 0 ? void 0 : _c.base58) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        yield this._updateWallet();
        this.emit("connect", this.address || "");
      } else if (times > maxTimes) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
      } else {
        times++;
      }
    });
    this.checkReadyInterval = setInterval(check, 200);
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if wallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportFoxWallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  checkIfOpenApp() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openFoxWallet()) {
      throw new WalletNotFoundError();
    }
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-bybit/lib/esm/utils.js
function supportBybitWallet() {
  return !!(window.bybitWallet && window.bybitWallet.tronLink);
}
var isBybitApp = typeof navigator !== "undefined" && /bybit_app/i.test(navigator.userAgent);
function isInBybitApp() {
  if (typeof window !== "undefined" && typeof window.navigator !== "undefined") {
    return /bybit_app/i.test(window.navigator.userAgent);
  }
  return false;
}
function openBybitWallet() {
  if (!isInBybitApp() && isInMobileBrowser()) {
    window.location.href = `https://app.bybit.com/inapp?by_dp=${encodeURIComponent("bybitapp://open/route?targetUrl=by%3A%2F%2Fweb3%2Ftab%2Findex%3Findex%3D0")}&by_web_link=${encodeURIComponent(window.location.href)}`;
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-bybit/lib/esm/adapter.js
var __awaiter12 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var BybitWalletAdapterName = "Bybit Wallet";
var BybitWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = BybitWalletAdapterName;
    this.url = "https://bybit.com/web3";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMTguN0MwIDguMzcyMjcgOC4zNzIyOCAwIDE4LjcgMEg2OS4zQzc5LjYyNzcgMCA4OCA4LjM3MjI4IDg4IDE4LjdWNjkuM0M4OCA3OS42Mjc3IDc5LjYyNzcgODggNjkuMyA4OEgxOC43QzguMzcyMjcgODggMCA3OS42Mjc3IDAgNjkuM1YxOC43WiIgZmlsbD0iIzQwNDM0NyIvPgo8cGF0aCBkPSJNNy41NzYxNyAyNi44MDY3QzYuNzg1MTYgMjQuMDc4NyA4LjQ3NzUgMjEuMjUzMSAxMS4yNTU5IDIwLjY2M0w1Ny42MDg3IDEwLjgxNzNDNTkuODA5IDEwLjM1IDYyLjA0NDMgMTEuNDQ0MyA2My4wMjQ3IDEzLjQ2ODlMODMuODQ0MyA1Ni40NjU3TDI1LjE3NzYgODcuNTEwMUw3LjU3NjE3IDI2LjgwNjdaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzEyXzE3NTM0KSIvPgo8cGF0aCBkPSJNOC4xODI0MiAzMC4xNjE4QzcuMzUwNDkgMjcuMjgzOCA5LjI3OTI1IDI0LjM0MTMgMTIuMjUwMiAyMy45NTU5TDczLjY4NjUgMTUuOTg4MUM3Ni4yMzkxIDE1LjY1NzEgNzguNjExMSAxNy4zNjE4IDc5LjExMTEgMTkuODg2N0w4OC4wMDAzIDY0Ljc3NzFMMjQuNjg5MiA4Ny4yNjY1TDguMTgyNDIgMzAuMTYxOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0wIDM0LjIyMjJDMCAyOC44MjIxIDQuMzc3NjYgMjQuNDQ0NSA5Ljc3Nzc4IDI0LjQ0NDVINjguNDQ0NEM3OS4yNDQ3IDI0LjQ0NDUgODggMzMuMTk5OCA4OCA0NFY2OC40NDQ1Qzg4IDc5LjI0NDcgNzkuMjQ0NyA4OCA2OC40NDQ0IDg4SDE5LjU1NTZDOC43NTUzMiA4OCAwIDc5LjI0NDcgMCA2OC40NDQ1VjM0LjIyMjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNTguMjIwMSA2MS4xOTU5VjQyLjg3NTVINjEuNzkzN1Y2MS4xOTU5SDU4LjIyMDFaIiBmaWxsPSIjRjdBNjAwIi8+CjxwYXRoIGQ9Ik0xNy40Mzk1IDY2LjY2MzdIOS43Nzc5NVY0OC4zNDM0SDE3LjEzMTNDMjAuNzA0OSA0OC4zNDM0IDIyLjc4NzQgNTAuMzUwNSAyMi43ODc0IDUzLjQ4OTNDMjIuNzg3NCA1NS41MjE1IDIxLjQ1MDQgNTYuODM0NSAyMC41MjU3IDU3LjI3MjFDMjEuNjMxNSA1Ny43ODY5IDIzLjA0NTYgNTguOTQzOCAyMy4wNDU2IDYxLjM4ODVDMjMuMDQ1NiA2NC44MTA4IDIwLjcwNDkgNjYuNjYzNyAxNy40Mzk1IDY2LjY2MzdaTTE2Ljg0ODEgNTEuNTM0M0gxMy4zNTE2VjU1Ljc1NDhIMTYuODQ4MUMxOC4zNjQyIDU1Ljc1NDggMTkuMjEzOCA1NC45MDY0IDE5LjIxMzggNTMuNjQ1NUMxOS4yMTM4IDUyLjM4MjYgMTguMzY2MiA1MS41MzQzIDE2Ljg0ODEgNTEuNTM0M1pNMTcuMDc5MyA1OC45NzA4SDEzLjM1MTZWNjMuNDcyOEgxNy4wNzkzQzE4LjY5OTQgNjMuNDcyOCAxOS40NyA2Mi40NDMyIDE5LjQ3IDYxLjIwOTJDMTkuNDcyIDU5Ljk3MzMgMTguNjk5NCA1OC45NzA4IDE3LjA3OTMgNTguOTcwOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMi44OTI1IDU5LjE1MDFWNjYuNjYzN0gyOS4zNDM5VjU5LjE1MDFMMjMuODQxOSA0OC4zNDM0SDI3LjcyMzhMMzEuMTQzMiA1NS43Mjc4TDM0LjUxMDcgNDguMzQzNEgzOC4zOTI2TDMyLjg5MjUgNTkuMTUwMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik00OC41NjMzIDY2LjY2MzdINDAuOTAxN1Y0OC4zNDM0SDQ4LjI1NTFDNTEuODI4NyA0OC4zNDM0IDUzLjkxMTIgNTAuMzUwNSA1My45MTEyIDUzLjQ4OTNDNTMuOTExMiA1NS41MjE1IDUyLjU3NDIgNTYuODM0NSA1MS42NDk1IDU3LjI3MjFDNTIuNzU1MyA1Ny43ODY5IDU0LjE2OTMgNTguOTQzOCA1NC4xNjkzIDYxLjM4ODVDNTQuMTY3NCA2NC44MTA4IDUxLjgyNjggNjYuNjYzNyA0OC41NjMzIDY2LjY2MzdaTTQ3Ljk3MTkgNTEuNTM0M0g0NC40NzUzVjU1Ljc1NDhINDcuOTcxOUM0OS40ODggNTUuNzU0OCA1MC4zMzc2IDU0LjkwNjQgNTAuMzM3NiA1My42NDU1QzUwLjMzNTcgNTIuMzgyNiA0OS40ODggNTEuNTM0MyA0Ny45NzE5IDUxLjUzNDNaTTQ4LjIwMzEgNTguOTcwOEg0NC40NzUzVjYzLjQ3MjhINDguMjAzMUM0OS44MjMyIDYzLjQ3MjggNTAuNTkzOCA2Mi40NDMyIDUwLjU5MzggNjEuMjA5MkM1MC41OTM4IDU5Ljk3MzQgNDkuODIxMyA1OC45NzA4IDQ4LjIwMzEgNTguOTcwOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03My40MzkgNTEuNTM0M1Y2Ni42NjM3SDY5Ljg2NTRWNTEuNTM0M0g2NS4wODM5VjQ4LjM0MzRINzguMjIyNFY1MS41MzQzSDczLjQzOVoiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzEyXzE3NTM0IiB4MT0iNy4zMzMwOCIgeTE9IjI1LjU5NCIgeDI9Ijg0LjYzODEiIHkyPSIyMS43MjE2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRkQ3NDgiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjdBNjAwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this.messageHandler = (e11) => {
      var _a2, _b, _c;
      const message = (_a2 = e11.data) === null || _a2 === void 0 ? void 0 : _a2.message;
      if (!message) {
        return;
      }
      if (message.action === "accountsChanged") {
        setTimeout(() => {
          var _a3;
          const preAddr = this.address || "";
          if ((_a3 = this._wallet) === null || _a3 === void 0 ? void 0 : _a3.ready) {
            const address2 = message.data.address;
            this.setAddress(address2);
            this.setState(AdapterState.Connected);
          } else {
            this.setAddress(null);
            this.setState(AdapterState.Disconnect);
          }
          const address = this.address || "";
          if (address !== preAddr) {
            this.emit("accountsChanged", this.address || "", preAddr);
          }
          if (!preAddr && this.address) {
            this.emit("connect", this.address);
          } else if (preAddr && !this.address) {
            this.emit("disconnect");
          }
        }, 200);
      } else if (message.action === "connect") {
        const isCurConnected = this.connected;
        const preAddress = this.address || "";
        const address = ((_c = (_b = this._wallet.tronWeb) === null || _b === void 0 ? void 0 : _b.defaultAddress) === null || _c === void 0 ? void 0 : _c.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        if (!isCurConnected) {
          this.emit("connect", address);
        } else if (address !== preAddress) {
          this.emit("accountsChanged", this.address || "", preAddress);
        }
      } else if (message.action === "disconnect") {
        this.setAddress(null);
        this.setState(AdapterState.Disconnect);
        this.emit("disconnect");
      }
    };
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportBybitWallet()) {
        this._wallet = window.bybitWallet.tronLink;
        this._listenEvent();
        address = ((_b = (_a2 = this._wallet.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[BybitWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openAppWithDeeplink,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportBybitWallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by BybitWallet.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter12(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter12(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfOpenBybitWallet();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.request({ method: "tron_requestAccounts" });
          if (!res) {
            throw new WalletConnectionError("Request connect error.");
          }
          if (res.code === 4e3) {
            throw new WalletConnectionError("The same DApp has already initiated a request to connect to BybitWallet, and the pop-up window has not been closed.");
          }
          if (res.code === 4001) {
            throw new WalletConnectionError("The user rejected connection.");
          }
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
        const address = ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this._listenEvent();
        this.connected && this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter12(this, void 0, void 0, function* () {
      this._stopListenEvent();
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter12(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter12(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter12(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter12(this, void 0, void 0, function* () {
      this.checkIfOpenBybitWallet();
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  _listenEvent() {
    this._stopListenEvent();
    window.addEventListener("message", this.messageHandler);
  }
  _stopListenEvent() {
    window.removeEventListener("message", this.messageHandler);
  }
  checkIfOpenBybitWallet() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openBybitWallet()) {
      throw new WalletNotFoundError();
    }
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if BybitWallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportBybitWallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-tomowallet/lib/esm/utils.js
function supportTomowallet() {
  var _a2;
  return isInBrowser() && !!((_a2 = window.tomo_wallet) === null || _a2 === void 0 ? void 0 : _a2.tron);
}

// ../node_modules/@tronweb3/tronwallet-adapter-tomowallet/lib/esm/adapter.js
var __awaiter13 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var TomoWalletAdapterName = "Tomo Wallet";
var TomoWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = TomoWalletAdapterName;
    this.url = "https://tomo.inc/";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI0MCAyNDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+Cgk8dGl0bGU+ZmF2aWNvbjwvdGl0bGU+Cgk8ZGVmcz4KCQk8aW1hZ2UgIHdpZHRoPSIyMzQiIGhlaWdodD0iMTYzIiBpZD0iaW1nMSIgaHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFPb0FBQUNqQ0FNQUFBQ3pIWExZQUFBQUFYTlNSMElCMmNrc2Z3QUFBdUpRVEZSRkFBQUEvejZmL3oyYS96bWMvd0NBL3oyZC9qeWMvanljL2p5ZC96eWQvd0QvLzBDZi9qdWMvanliLzBDQS9qeWMvVHlkL1R1Yy96eWMvejJjL3p5Yy9qeWMvanljL3oyYi96eWQvanljL2p5Yy96dWQvenFaL2p5Yy9qeWMvenVkL3pPWi96eWQvanljL2p5Yy9qeWMvVHVjL3oyYy96cVgvanljL2p5Yy9qMmMvejJjL3ptcS96dWIvanliL2p5Yy96eWIvenFhL2p5Yi9qeWIvanljL3oyZS95dXEvanljL2p1Yy96NmIvVDJiL2oyYy96T1ovenVjL2p5Yy96MmMvenliL3p5ZS9qeWMvanlkL3p5Yy96eWEvanljL3p1Yi9qdWQvejJaL2p5Yy96cWQvenVkL3p5Yy96dWMvem1jL1R5Yy9UeWMvenlXL2p5Yy9UeWMvVHljL2p5ZC9UeWQvanVjL3ptaC96eWMvMENiL3p5Wi96dWQvejZlL3pxYy96eWIvanljLzBDZi96dWMvenliL3oyYy96dWIvejZhLzFXcS96eWMvejJiLzBhaS9UeWIvanljL2oyZC9qeWQvVHljL1R5Yy9UeWMvejJiL1R1Yi9UeWQvanljL2p1Yy9qeWIvanljL3p5Yi9qeWMvanljL3oyZS96MmUvenliL3p5ZS96NmIvMENmLzBTWi9qMmMvanljL2p5Yy9qeWMvanljL2p5Yy9qeWMvVHljL1QyYi9UMmMvVDJkL1R1Yy96dWQvenVkL3p1Yy9qeWMvanliL3p5Yy96MmQvenliL3o2Yi9qeWMvanljL3ptWi96eWEvenVkL3oyYy8wbVMvejJkL2p5Yy9qeWQvVHVjL1R5Yy9qeWMvVHlkL3pxYy9UMmMvejZmL2p5Yy9UeWIvenVhL3oyYi9qeWQvenlkL1QyYy96MmQvejJkL3p1ZC9qeWMvMENWL2p5Yy96eWIvenVkLzBDWi9qeWMvanljL2oyYy96MmMvejZjL2p5Yy9UeWQvanljL3oyYy9UdWIvejJlL2p5Yy9qeWMvanljL3plYi96eWQvemFoL2p5Yy96dWIvenFkL3oyYy9qeWMvenliL2p5Yy96dWQvanljL1R5ZC9qMmMvejJiL1R5Yy9qdWMvVHlkL2p5Yy96dWQvemVrLzBDZi96eWUvejZjL2p5Yy9UdWMvVHlkL2oyYy9UeWIvVDJiL3p5Yi9qeWMvVHljL3p5Yy9UeWMvenViL3oyYy9qeWMvVHViL1R5Yy96eWMvVDJjL3p5Yy96dWIvenFhL1R5YlVCc29qd0FBQVBaMFVrNVRBQ1ZISkFKZzJQL1hYZ0VJc0s0RXRKU2JkM1pWL2Y1Y1BQZjVRU1BxN1NjS2NzZjA0Wjg3RnR6aXhuRUpPT1MvUURYMndQVXlCdDNCUW8vYkJWL0NRMjVFdzhWTlRQeFN2Um5FUmtsSWJCS0ppQkhlbllPem50OGJieHdlY0IwZmM4Z2dkR1prUFRvRGFta0xnTzdLdUtlVmhFK0ZmOC9PemN4NDVlTXFQek1pSVJBUDdPdmEyY20zdHFXa2s0S0JUalI1MU5KaWJXc3A0TlVvSm1nMkIyVzY2YU9pKzZZc3FDMnFxU3N1cXkrR2VuVU44QXptZTFzVTh1KzVXRDc2aDlOK2toWG5zdmdYVVJPOGZUbEw4Vm5XR3VpWnRWU1FySkd0Vmc0WU56SFJqb3l4bkpkaDBKcDhtRXBRODRxTlhhQmFSVENoUTZnNlhRQUFEbnhKUkVGVWVKemRYWGxjVk5VWG41dG9PdFNNcVFtRi9sUndDeGpDSlVORmdhelVJSlhLY2tITFVFUk5zMXd5RTNmTG9sREJCWE1YTTQwVURTdzBLMzVtbHY2UTNETUZBbE16YmRFK2JwOG8rTTA0OCtZdDk3NDU3OTYzeVBEOUErNDc3N3o3em5mZWR1KzU1NTZMVE1ZRElSUDY5emFjMXVnVCtpRGtPS2Y5NzNXRHoydzBWVjlVNFNyVnFieG03S2tOcG1wQk45M2x1bFYvR1hwdWc2bld2eUhZTVA5cDZMbU5wZHBBZk0vZTlidVJKemVVYWlNa3ZtV3Q2RmNEejI0a1ZYLzBoMFRTRUowejd2UUdVbTJDTG1JeVAxUnUyUG0xb3RyYy9xSDh5NHJRS1ZtTk51Z25nclJGMVkreVI3U3U4dm5OY2lkQ3h6U3d6NlFaVlJ0eVdkd1dIU0pyaEY0bjM2c0JaaGttNFZVbm5ZWEF1dCtydE00SmJhaTJROGZkNWRBTEpFNCs5ZjZXT2JiT2pYOEkwZ0IvL2hld29mK3BzczRGVGFoMkVsL0tkdWhiVEtYTFFkbWpPK3pEUkoyclJCZXlJOXJMYkJzUFRhaDJPeUFSUEl6K0t4WkU0K1I1ZEM0UWI4ZWdieVFhZDl3d3FZY21WQ1B3aHlrUzdSWnNQU2FsTG9LbC9VN0Jsbi80VjVoR3FQdzlvUnhhVU8xZFNHck05a0E3dUdMYytlTUVCUjRoQWJsY01mWW02VjYxZFB5TTJUbzN0S0RhWnlkWkhsa3YzL0hHNll1dWU3cW1Ea1Q1b3EzMmZ6NjlTa3ZJQ2owL1VXR2ZDMXBRN2I1ZmJrOGNRaFYxU284cXFNTVdXT0Z6QjhxUjIvM3dIaWJMUk5DQUt2bisxUmFXUno5VVhZY0dWQWR0VVY4SENPbGJtZ0VhVUgzaUMvVjFnT2o2cGVvcTFGTWR2TXNJWjRMMThRMXFxMUJQTmFSWWRSVks4R3lXMmhyVVV3MlcrVDVvakVqVmo0bHFxa1B6cjZpdFFoR3N2ZGVwckVFMTFSZlVmd1dVNFg1U2Q1Y0dxcWtPMjZpMkJvVUlLRlZaZ1ZxcVJ0Mi85anM0YnJXNkN0UlNUVlQ5RFZDTWhGWHFqbGRKMWZ5UGNYNDRkSWU2VVI2VmxnNVgvYldqd05BVnFnNVhSeldwU0VtdlJTdllPaXhYYzdneXFwWm12NWorZVBCSTNIYVJOQmx0ay9xdzlVVklSR1dtU05BM0wreHdBOU45NVlxYXBrcW9qa0hvZlZmUnovdzRzaVBuN0xpaU9yYXZaZnlnT3FKRjNORy8yNmMzaWEreVk5ZDFiaGdrcVc1MkdYeXNBcW9EbXk1U1k1MGhHSDhHYnNuQVZFUGpGbWhoak01NE5SMGNtSWFwVG4xUEUxdjBCdnpWQmFtYVgzbFhHMXQweHFTNWtBWklOZVVkYlV6UkhmN1FtQjVJdFhPUlJxYm9qZGRtQXdvZzFSaDhSS1Y2b2dzK0tDQUdTSFhHZkkxTTBSdGgwSEFkU0hYbVd4cVpvamVtemdBVVFLcXo1MmxraXQ2WWxnSW93QitiU0dqQXBYb2dhaS9VeFlPYkVIUG5hR09MenBqK0JxUUJVMzF6bGlhbTZJMlpyME1hTU5YNTBPTmVQVEJvRGFRQlUzMTd1aWFtNkkwNWt5RU5tR3JxTkUxTTBSdnpKa0lhTU5YNldvUmM2STgzSjBBYU1OVTA4SG12RnBqL0NxUUJVelZvcEUwdDRKRTZtQ29XbEZROUFZYzJ3VlFYdnFhSktYcWoyMjVJQTZicWIyellPU3VheWNlc3VnQlRYUVIrc0tvRnBvQ05PcGlxbC9UTkc0SHg0akRWOUVtYW1LSTM0Q2tQSUZXZkJXQXpwRnJndmNtcU8zRWoxbXRraTk1SUd3TW9RRlNUQ2owSGZWWWZnT04wbnFrbWg2MzBGcVoycm9tSE16M3Q5MFExczZUbE9JM04wUmZ4VFlPUzVmZktVcDMxNDJVallnZTFSc2FSVURtMlpLb3YzdlJLbms1a0hIbHdCRWxPb1BwOGhSZnpkQ0xqU0M0K2dpT2xhdWRaYUZRa2txN0lPQkkrWEN3UlVRM3RiazB6MGh5ZDhXckxCY0taV1VLcXRocy9HMjJOemtpdi9TSy9JYUE2WThOWjQ0M1JHU0V2OFZ4NXFtdDJ5czZIOEdLRVY3bWRLRHpWVmFOdml5MTZZL2tMWEltbnVpN3BkbGlpTzNoWE9FODFUSDdPckRjamZoTlg0cW5PZzJJSnZCTXJobklsbnVyck5lbVR5bU5rT2xmaXFVN011QzJtNkkwKzJWeUpwMXFyaDNjTWo5TWg2b1M3c1NCb1FtUU5KK2w2T1ZZbHVJc0NxbWpEaXdSZDcwYlVqM3dQUjlnR2ZoY01KL0E2ckJ6Q2w0VlUwV00xN1dtTjZpL29wSXM2Y1J1SEdXMkx6cGdyZE5lTHFHYW1HSnZzU1c5WTBnY0t0c1JlaVBITGpMVkZaNndaSk53U1U2MVpsMVY4VWFXK3BVM1BHMm1MemhpMVVMUXBvWnFTV1hNdXEyWHhjNkp0cWNmd295R21tb0lOL2NYYlVxb2ZqNm9wbDlXNjdHbXhBSE41Yngwb2xYZ3BzcDZWQ0RDcU9RTU1Na1Z2YklxWENQQ0JETU5tVk91TG9CTlNDVTQxL2xORFRORWJtL3RKSlRoVlExS3k2SStGbzZRU25PcDI2ZVBzbmNqdUk1WGdWR3RJOXdhUEQ4YW81cUtucFNLdlJGS3ZXSWtFbzlwZmc5UmMxUUlqRmtzRVVxcFBEbUIxTU9WY3V3dmxuS2xuTW8zY3UzcFY1aytwVHpMV2s0ZVdKNk9TdkZvbVV6M2ZySmVXdmM3cWljL3ZVU2tXU0tqMnZNUVV2R1BwTUdCWWxWaVU3QmVUVEo5MVpSYzZseWlPS2pPdnY3aVlMZmRQeUwzaTlIUmlxaUVYV1ZyQTZWTjdmVURjTVdQak5acGt4N1lGeDhuUktiVkdkU0lHY2dDd05CWmROeUhWNU1HUE1sUVlIdmFEZkpyTW9jVy9LaDJmVHJyd2NxVHN6dWErN3o5Q2FaY0R1ejhRQkcwSnFEYi9yUUpYaHBCYnZORnpQdENFMFRGSzZyR21OWmNuNmtEbzB0clJpcTF5bzNhak1uZVpwL3BkQWNNMHFka240SVJQKzBmQXc1a3pQL0dVbE5TSmxDME16K3lzNkFpdTZLYTZJaitQdXA3ODdLVksxQTRnenhmTVpQcndUdWxIa0FTZjc1Nmdqek9LNjhVOTVoelZnL24wTC9XVVpRb3pjU2YvNnJFTFllMmFTMG9SVEVBUmlvQ1ZKRWk2eDhYTVJmWFFqV2pxT2c2a0tjOVdWdS9UWHJMN21nUitycmllemZQb3gvWUw2b1hmK3Ura21qNlgvczdvdUN5TVFqc205SDJaUFJPRGFCb3RLeUk2VW1nN1laMTJLd0RXUWRXeXJ3UDE0YWIwcitueVo2SEpDNG55dGxrMHY1ajl1cDVtbURwOHNNdGZ0Nmo2SG1oUGYvQ1dDN1Nqc1pFTG44TS9zWDVUeGlsOFROMncvYzZ3QmtQUmdXRjJxdVphY2duRlBlSDdZUHBqZXFmZEZMOVZwdjlldHBXK21xWGdSRDhDRHJlMVUvM2lDWVlqajdSaE9NamU0QmorZFRiM3BzODVIdnNRMnpJdlRMN3FZNjBRVTJUTHJrbnNjd0tibkU5c2h5by9hc3FlS3E5NERVTUduWkhwcUtRelEvaHZlN2h0b3lmOEx0TWZZOTJLU2grZ1A4eCs0OTlXbUtNWnd0Q0RFVU9PbG9JVkt2TkVxc1pENWZTMzRrbjAxRlhxQUloK202blBvelhlZ2JLWVlGaGRpa3dQbnFROHlKcnhIS3lrTTJMQmlibFN4T1FqK3R4Uk8xZzY4RnFqalBacjk4QWhlMnVwdkRYZFFmdkRLYytpQjJqVHVwNytqNk5oYUI2cHFOZkpvZUVvMmVja3QyM2w4ZUJMZisramZwQncrQ1MyYVJ5RnBxMnJrdG5mNUJKVmRhT1hYM2YyYkJyV29uaWh6WmFiWnI5amJaR3prV3ViRnRxU3loQWMrNk5jSEpPN3kzamdhZTVnNjcrT1pyT3pFM2U2dS9Ma29YTExWVFNaUHRaZHJscXFLalF6Y25PZ3UxelE3SDZpempibDc4WUdlMW81L3JtNjVyYkwrQkpZTWxoRzdsNldyRWtWYkJXbXFwbmhlelpJdU1WUE5CQmlmM2VsdGZtdGRUb2JPWWZMeW5jVitxZno0NGh0ZEhPRWVMbWRRVm0wblRNZWtya2hCV2RJRnpBaG15QWtvY1ZFMXgzbWRxUHRIYXJNVVZSMkgxRjhvcDFFc0YzZXd3S2dPRVp5aDVIekN5bWNheEN3bnZQaENhWVVIVllVZFZmN0tsR01MVlRFbmxBZHp5UzloUFRrSyt1UjFXbFl4aFVGTG0rZkVpVWYySEova3JUdkRXbnowcEpMNzl4elloL21JMjlKR2tpeTNpUUlwVGdWeEQ5SG9qR2J0YlZoajlaYnI1S2toUDdSWnl3akR3NTBMWlJLRG9ZUzFKN0pKUWpGaU9vbmZPckZ3MU1MTjRDNXVmR0Jkd2VLT21NaUZwZk1MWXpGZkl2RWg4YkRjbXd1MkJMR0N6Y2xnNDRqZDBPalNSUGVKRWxiNDVPQUkxaER4Z2RnMHhDSlhTa3d1MWRJcFRnQnQzUW9lVFNVVWZpTUgwazYrR05NZEMvckZGRzhxelV1bGFCMnNTbFF6NUNWNG0wcFZaODVNejFYUUg1V1RZdWxxY25ndklKeWFJamRyc0drUlIxYm5mRmNEYllpQVJZTHNlY3h6elU4aVY4L0IxcWNsd2pJTjdvU0RCMFZMUmJzNmsxS3o3SWJHTkhhMWxzaXdLakdBUU1vZXg4aWluM1R4Tmt5Sm0wbzgxeVBCNXhwSmQ0K2V5OUpxdzZRazZWQ0VncUJVeVc4WUVUb0tGMXYwWVhWYndoN0RBWFBnMG10NU9HYklocnBQVVIwOUptRGdZOUZhK2wrak9wdkFaNXJpRm9xMDBHN2RKWnZNNXpQR2s5V1VvYnZsZ3RDT3N0YkUrTXptbDBBS3NHU3BXRlV3V2pLUjNmSTdNanN3TFUyMjA1UkdWVHMrM09JNng3SjZTc1R0WEMrQlZBSEZrOHBwZXI3Q3VuRkxnUVcrc1RELzZ2MTNVeDdZajhIRytKelVxRkltc0YxejVVbE5JNU9ERnNpbzNBUGxFa3FjTElrZ2xCS3RiQXJVSU9waDVvZ1dwOUdGWmxER3QrOFlqcS9vTys4dmVQWU03ZWErNEQ1RHI2UmpNUktxSmFXZzMwdlMyL21YamY2STBvMDZOM2c2c1A3R0pmaldZM0Z3R0xJYnhZbzJoWlRuWE5JUWV3SDY5SmVKWFZQNGIvanJFMXN5NmRJUDBna3hJV0wvSGxpcXRrSkpoZ3ZzNjJ2RUZOTTlPbFlUelpuaUlDTGpJWmVLUTZJcDUrSU8zRWpGWjJIcVNFL29senVxQjFUNlVjd0x4TmI0aGhFYmlraDFZL25LMXRlS1psaGZadnBLK1dIOVM5YXFhdWJyTXlFQm9zRnJsVUIxZEFsanlzN2p6V0FlazMxME9XZU91cm5HbEZXTjBIK2d5ZkdyakY4R2lJQjFXT0s0MXlDeW1qZm01N2pGOFpuME5YWEtYNm1VdFdmRzd1TFBGWE01K2NCMU91TUE1TjN3QVZheEtDWlNjR1BNTG1wenVvU3AvejR3bXVVUHJJOHp4TUM2TzdnbFc5UjlQcno5bkY5QjQ1cThoNnFzTXdkdmVnODJ0OTcvbW1pWlpZTEoyTE5EMVN2eGFCVExsTTVxZ3EvTTI3NDBxMFFCemh0MTlKMEQ5NmJTblZxZHpKU2p1bzR5b1gxb2paUzNYT2Y5UGUwbCt4bWtBRjFDaXpPK2U2aTZtdWxqV1pyMkFaYUZVaUlNZmQ1aWd5OFpGRmUwNFNqdEEyWWdwUE9MbzZMNml4NlQ5Q1c0RUJZeVkyZVJmTE52NlBCeWgvOHVEZWlLYzdxUkgvbkNMdUxLc3NDUGJiNk5MRVhpYmx5dzlVQmxXV0thMWxTbjJFYTBGYW53ODFGMWJ5QUlXZHNWQkJOR29rVFo4bVRqUHJsS1k0MDlFbWRRbkZDRHVIN25mKzUxMUpCVDRaS1RCK3UydzRyY2FpVm5ZeGYySmw5bFk5M0RQeVQ1dlhneGxoWFJDSkhkZWRkVEtOSmsxNjdtMEo3MFF1bG91K3JKV2hyVytVOXVOT2JtZFpMeW1uVXlWbHd0NVppZjJITDcxd2NTZE9vOC8yeTFhQnV0MXhQRFlyR05yNUs0YytZc1kwMmxNd0oyOTNjcmNDM2dXMGhiTmtwODF0M29XdkJtcExqdjMxcTBERllUNENybVcrekpYR0lpM1cveHdROUc4c2U4OTNZQkcwbHVQTEZ0ODh3MmFFVWk0YXpqZFZ1dTNJdW52K0YvZytRN0hZb0dCOGk3d0FBQUFCSlJVNUVya0pnZ2c9PSIvPgoJPC9kZWZzPgoJPHN0eWxlPgoJPC9zdHlsZT4KCTx1c2UgaWQ9IkJhY2tncm91bmQiIGhyZWY9IiNpbWcxIiB4PSIzIiB5PSIzMSIvPgo8L3N2Zz4=";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this._checkPromise = null;
    this.onAccountsChanged = (account) => {
      if (this._state === AdapterState.Disconnect) {
        return;
      }
      const preAddr = this.address || "";
      if (account !== preAddr) {
        this.setAddress(account);
        this.emit("accountsChanged", this.address || "", preAddr);
      }
      if (!preAddr && this.address) {
        this.emit("connect", this.address);
      } else if (preAddr && !this.address) {
        this.emit("disconnect");
      }
    };
    this._updateWallet = () => {
      var _a2, _b, _c, _d, _e;
      let state = this.state;
      let address = this.address;
      if (isInMobileBrowser()) {
        if ((_a2 = window.tomo_wallet) === null || _a2 === void 0 ? void 0 : _a2.tron) {
          this._wallet = window.tomo_wallet.tron;
          this.listenToEvents();
        }
        address = ((_b = this._wallet) === null || _b === void 0 ? void 0 : _b.tronWeb) && ((_e = (_d = (_c = this._wallet) === null || _c === void 0 ? void 0 : _c.tronWeb) === null || _d === void 0 ? void 0 : _d.defaultAddress) === null || _e === void 0 ? void 0 : _e.base58) || null;
        state = address ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        console.error("[TomoWalletAdapter] Only supported in mobile app for now");
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      if (isInMobileBrowser() && state === AdapterState.Disconnect) {
        this.checkForWalletReadyForApp();
      }
      this.setAddress(address);
      this.setState(state);
    };
    this.checkReadyInterval = null;
    const { checkTimeout = 3 * 1e3, dappIcon = "", dappName = "", openUrlWhenWalletNotFound = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[TomoWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound,
      dappIcon,
      dappName
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (isInMobileBrowser() && supportTomowallet()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by Tomo.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter13(this, void 0, void 0, function* () {
      var _a2;
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const tronWeb = (_a2 = this._wallet) === null || _a2 === void 0 ? void 0 : _a2.tronWeb;
        if (!tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter13(this, void 0, void 0, function* () {
      var _a2;
      try {
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        if (supportTomowallet()) {
          const wallet = this._wallet;
          try {
            const res = yield wallet.request({ method: "eth_requestAccounts" });
            if (!res) {
              throw new WalletConnectionError("Tomo wallet is locked or no wallet account is avaliable.");
            }
          } catch (error) {
            throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
          }
          const address = wallet.tronWeb && ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
          this.setAddress(address);
          this.setState(AdapterState.Connected);
        } else {
          throw new WalletConnectionError("Cannot connect wallet.");
        }
        this.connected && this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter13(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter13(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter13(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter13(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignMessageError(error.message, error);
          } else {
            throw new WalletSignMessageError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter13(this, void 0, void 0, function* () {
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if wallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const checkTronTimes = Math.floor(2e3 / interval);
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = times < checkTronTimes && !!isInMobileBrowser() && supportTomowallet();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  listenToEvents() {
    var _a2;
    this.stopEventListening();
    (_a2 = this._wallet) === null || _a2 === void 0 ? void 0 : _a2.on("accountsChanged", this.onAccountsChanged);
  }
  stopEventListening() {
    if (this._wallet) {
      this._wallet.removeListener("accountsChanged", this.onAccountsChanged);
    }
  }
  checkForWalletReadyForApp() {
    if (this.checkReadyInterval) {
      return;
    }
    let times = 0;
    const maxTimes = Math.floor(this.config.checkTimeout / 200);
    const check = () => {
      var _a2, _b, _c, _d, _e;
      if (((_b = (_a2 = window.tomo_wallet) === null || _a2 === void 0 ? void 0 : _a2.tron) === null || _b === void 0 ? void 0 : _b.tronWeb) && ((_e = (_d = (_c = window.tomo_wallet) === null || _c === void 0 ? void 0 : _c.tron) === null || _d === void 0 ? void 0 : _d.tronWeb) === null || _e === void 0 ? void 0 : _e.defaultAddress)) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
        this._updateWallet();
        this.emit("connect", this.address || "");
      } else if (times > maxTimes) {
        this.checkReadyInterval && clearInterval(this.checkReadyInterval);
        this.checkReadyInterval = null;
      } else {
        times++;
      }
    };
    this.checkReadyInterval = setInterval(check, 200);
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-trust/lib/esm/utils.js
function supportTrust() {
  return typeof window !== "undefined" && !!(window.trustwallet && window.trustwallet.tronLink);
}
var isTrustApp = function() {
  if (typeof window !== "undefined" && typeof window.navigator !== "undefined") {
    return /Trust/i.test(window.navigator.userAgent);
  }
  return false;
};
function openTrustWallet() {
  if (!isTrustApp() && isInMobileBrowser()) {
    window.location.href = "https://link.trustwallet.com/open_url?url=" + encodeURIComponent(window.location.href);
    return true;
  }
  return false;
}

// ../node_modules/@tronweb3/tronwallet-adapter-trust/lib/esm/adapter.js
var __awaiter14 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var TrustAdapterName = "Trust";
var TrustAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = TrustAdapterName;
    this.url = "https://trustwallet.com";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTgiIGhlaWdodD0iNjUiIHZpZXdCb3g9IjAgMCA1OCA2NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgOS4zODk0OUwyOC44OTA3IDBWNjUuMDA0MkM4LjI1NDUgNTYuMzM2OSAwIDM5LjcyNDggMCAzMC4zMzUzVjkuMzg5NDlaIiBmaWxsPSIjMDUwMEZGIi8+CjxwYXRoIGQ9Ik01Ny43ODIyIDkuMzg5NDlMMjguODkxNSAwVjY1LjAwNDJDNDkuNTI3NyA1Ni4zMzY5IDU3Ljc4MjIgMzkuNzI0OCA1Ny43ODIyIDMwLjMzNTNWOS4zODk0OVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8yMjAxXzY5NDIpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIwMV82OTQyIiB4MT0iNTEuMzYxNSIgeTE9Ii00LjE1MjkzIiB4Mj0iMjkuNTM4NCIgeTI9IjY0LjUxNDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwLjAyMTEyIiBzdG9wLWNvbG9yPSIjMDAwMEZGIi8+CjxzdG9wIG9mZnNldD0iMC4wNzYyNDIzIiBzdG9wLWNvbG9yPSIjMDA5NEZGIi8+CjxzdG9wIG9mZnNldD0iMC4xNjMwODkiIHN0b3AtY29sb3I9IiM0OEZGOTEiLz4KPHN0b3Agb2Zmc2V0PSIwLjQyMDA0OSIgc3RvcC1jb2xvcj0iIzAwOTRGRiIvPgo8c3RvcCBvZmZzZXQ9IjAuNjgyODg2IiBzdG9wLWNvbG9yPSIjMDAzOEZGIi8+CjxzdG9wIG9mZnNldD0iMC45MDI0NjUiIHN0b3AtY29sb3I9IiMwNTAwRkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this.messageHandler = (e11) => {
      var _a2, _b, _c;
      const message = (_a2 = e11.data) === null || _a2 === void 0 ? void 0 : _a2.message;
      if (!message) {
        return;
      }
      if (message.action === "accountsChanged") {
        setTimeout(() => {
          var _a3;
          const preAddr = this.address || "";
          if ((_a3 = this._wallet) === null || _a3 === void 0 ? void 0 : _a3.ready) {
            const address2 = message.data.address;
            this.setAddress(address2);
            this.setState(AdapterState.Connected);
          } else {
            this.setAddress(null);
            this.setState(AdapterState.Disconnect);
          }
          const address = this.address || "";
          if (address !== preAddr) {
            this.emit("accountsChanged", this.address || "", preAddr);
          }
          if (!preAddr && this.address) {
            this.emit("connect", this.address);
          } else if (preAddr && !this.address) {
            this.emit("disconnect");
          }
        }, 200);
      } else if (message.action === "connect") {
        const isCurConnected = this.connected;
        const preAddress = this.address || "";
        const address = ((_c = (_b = this._wallet.tronWeb) === null || _b === void 0 ? void 0 : _b.defaultAddress) === null || _c === void 0 ? void 0 : _c.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        if (!isCurConnected) {
          this.emit("connect", address);
        } else if (address !== preAddress) {
          this.emit("accountsChanged", this.address || "", preAddress);
        }
      } else if (message.action === "disconnect") {
        this.setAddress(null);
        this.setState(AdapterState.Disconnect);
        this.emit("disconnect");
      }
    };
    this._checkPromise = null;
    this._updateWallet = () => {
      var _a2, _b;
      let state = this.state;
      let address = this.address;
      if (supportTrust()) {
        this._wallet = window.trustwallet.tronLink;
        this._listenEvent();
        address = ((_b = (_a2 = this._wallet.tronWeb) === null || _a2 === void 0 ? void 0 : _a2.defaultAddress) === null || _b === void 0 ? void 0 : _b.base58) || null;
        state = this._wallet.ready ? AdapterState.Connected : AdapterState.Disconnect;
      } else {
        this._wallet = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true, openAppWithDeeplink = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[TrustAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openAppWithDeeplink,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    if (supportTrust()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by Trust.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter14(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          return yield getNetworkInfoByTronWeb(wallet.tronWeb);
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter14(this, void 0, void 0, function* () {
      var _a2;
      try {
        this.checkIfopenTrustWallet();
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet)
          return;
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.request({ method: "tron_requestAccounts" });
          if (!res) {
            throw new WalletConnectionError("Request connect error.");
          }
          if (res.code === 4e3) {
            throw new WalletConnectionError("The same DApp has already initiated a request to connect to trustwallet, and the pop-up window has not been closed.");
          }
          if (res.code === 4001) {
            throw new WalletConnectionError("The user rejected connection.");
          }
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
        const address = ((_a2 = wallet.tronWeb.defaultAddress) === null || _a2 === void 0 ? void 0 : _a2.base58) || "";
        this.setAddress(address);
        this.setState(AdapterState.Connected);
        this._listenEvent();
        this.connected && this.emit("connect", this.address || "");
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter14(this, void 0, void 0, function* () {
      this._stopListenEvent();
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction, privateKey) {
    return __awaiter14(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.sign(transaction, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  multiSign(transaction, privateKey, permissionId) {
    return __awaiter14(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.multiSign(transaction, privateKey, permissionId);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignTransactionError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignTransactionError(error, new Error(error));
          } else {
            throw new WalletSignTransactionError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message, privateKey) {
    return __awaiter14(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          return yield wallet.tronWeb.trx.signMessageV2(message, privateKey);
        } catch (error) {
          if (error instanceof Error || typeof error === "object" && error.message) {
            throw new WalletSignMessageError(error.message, error);
          } else if (typeof error === "string") {
            throw new WalletSignMessageError(error, new Error(error));
          } else {
            throw new WalletSignMessageError("Unknown error", error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter14(this, void 0, void 0, function* () {
      this.checkIfopenTrustWallet();
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected)
        throw new WalletDisconnectedError();
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb)
        throw new WalletDisconnectedError();
      return wallet;
    });
  }
  _listenEvent() {
    this._stopListenEvent();
    window.addEventListener("message", this.messageHandler);
  }
  _stopListenEvent() {
    window.removeEventListener("message", this.messageHandler);
  }
  checkIfopenTrustWallet() {
    if (this.config.openAppWithDeeplink === false) {
      return;
    }
    if (openTrustWallet()) {
      throw new WalletNotFoundError();
    }
  }
  /**
   * check if wallet exists by interval, the promise only resolve when wallet detected or timeout
   * @returns if trustwallet exists
   */
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportTrust();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-guarda/lib/esm/utils.js
function supportGuarda() {
  return isInBrowser() && typeof window.guarda !== "undefined";
}

// ../node_modules/@tronweb3/tronwallet-adapter-guarda/lib/esm/adapter.js
var __awaiter15 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var GuardaAdapterName = "Guarda";
var GuardaAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = GuardaAdapterName;
    this.url = "https://guarda.com?install=guarda-extensional";
    this.icon = 'data:image/svg+xml;utf8,<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M42.988 4.81415C43.0306 4.86441 43.0563 4.92697 43.0613 4.99278C43.0877 5.31552 45.4233 37.3313 23.6002 44.7878C23.5347 44.8103 23.4636 44.8103 23.398 44.7878C1.57567 37.3313 3.91123 5.31552 3.93695 4.99278C3.9422 4.92717 3.96786 4.86486 4.01029 4.81465C4.05273 4.76445 4.10979 4.72891 4.17343 4.71304L23.4251 0.00861373C23.4738 -0.00287124 23.5244 -0.00287124 23.573 0.00861373L42.8241 4.71304C42.888 4.72848 42.9454 4.7639 42.988 4.81415ZM39.4448 8.23253C39.4795 8.27324 39.5006 8.32385 39.5051 8.37725H39.5073C39.5287 8.64049 41.4392 34.7784 23.582 40.865C23.5296 40.885 23.4716 40.885 23.4192 40.865C5.56132 34.7784 7.47248 8.64049 7.49393 8.37725C7.49807 8.32385 7.51897 8.27309 7.55364 8.23238C7.5883 8.19168 7.63494 8.16303 7.68682 8.15057L23.4377 4.30758C23.4776 4.29755 23.5193 4.29755 23.5592 4.30758L39.3115 8.15057C39.3634 8.16318 39.41 8.19188 39.4448 8.23253Z" fill="%23798CE5"/><path d="M23.2759 10.0442L12.7734 12.6047C12.7388 12.6136 12.7078 12.6331 12.6847 12.6604C12.6617 12.6878 12.6477 12.7218 12.6448 12.7575C12.6312 12.9332 11.3574 30.3588 23.2609 34.417C23.2966 34.4284 23.3352 34.4284 23.3709 34.417C35.2745 30.3581 34.0014 12.9332 33.987 12.7568C33.9843 12.721 33.9704 12.6869 33.9471 12.6595C33.9239 12.6322 33.8926 12.613 33.8577 12.6047L23.3559 10.0435C23.3297 10.0365 23.3022 10.0365 23.2759 10.0435" fill="%23798CE5"/></svg>';
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this._checkPromise = null;
    this._updateWallet = () => {
      if (!isInBrowser()) {
        return;
      }
      const guarda = window.guarda;
      if (supportGuarda() && guarda) {
        this._wallet = guarda;
        this.setState(AdapterState.Disconnect);
      } else {
        this._wallet = null;
        this.setState(AdapterState.NotFound);
      }
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[GuardaAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._wallet = null;
    this._address = null;
    if (supportGuarda()) {
      this._readyState = WalletReadyState.Found;
      this._updateWallet();
    } else {
      this._checkWallet().then(() => {
        if (this.connected) {
          this.emit("connect", this.address || "");
        }
      });
    }
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  network() {
    return __awaiter15(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        const wallet = this._wallet;
        if (!wallet || !wallet.tronWeb)
          throw new WalletDisconnectedError();
        try {
          const networkInfo = yield getNetworkInfoByTronWeb(wallet.tronWeb);
          return networkInfo;
        } catch (err) {
          throw new WalletGetNetworkError(err === null || err === void 0 ? void 0 : err.message, err);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  connect() {
    return __awaiter15(this, void 0, void 0, function* () {
      try {
        if (this.connected || this.connecting) {
          return;
        }
        yield this._checkWallet();
        if (this.readyState === WalletReadyState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        if (!this._wallet) {
          return;
        }
        this._connecting = true;
        const wallet = this._wallet;
        try {
          const res = yield wallet.tron.request({ method: "eth_requestAccounts" });
          if (!(res === null || res === void 0 ? void 0 : res[0])) {
            throw new WalletConnectionError("Request connect error.");
          }
          const address = res[0];
          this.setAddress(address);
          this.setState(AdapterState.Connected);
          this.emit("connect", this.address || "");
        } catch (error) {
          if (error instanceof WalletError) {
            throw error;
          } else {
            throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter15(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
    });
  }
  signTransaction(transaction) {
    return __awaiter15(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          const signedTx = yield wallet.tronWeb.trx.sign(transaction);
          return signedTx;
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignTransactionError(error.message, error);
          } else {
            throw new WalletSignTransactionError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signMessage(message) {
    return __awaiter15(this, void 0, void 0, function* () {
      try {
        const wallet = yield this.checkAndGetWallet();
        try {
          const signature = yield wallet.tronWeb.trx.signMessage(message);
          return signature;
        } catch (error) {
          if (error instanceof Error) {
            throw new WalletSignMessageError(error.message, error);
          } else {
            throw new WalletSignMessageError(error, new Error(error));
          }
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  checkAndGetWallet() {
    return __awaiter15(this, void 0, void 0, function* () {
      yield this._checkWallet();
      if (this.state !== AdapterState.Connected) {
        throw new WalletDisconnectedError();
      }
      const wallet = this._wallet;
      if (!wallet || !wallet.tronWeb) {
        throw new WalletDisconnectedError();
      }
      return wallet;
    });
  }
  _checkWallet() {
    if (this.readyState === WalletReadyState.Found) {
      return Promise.resolve(true);
    }
    if (this._checkPromise) {
      return this._checkPromise;
    }
    const interval = 100;
    const maxTimes = Math.floor(this.config.checkTimeout / interval);
    let times = 0, timer;
    this._checkPromise = new Promise((resolve) => {
      const check = () => {
        times++;
        const isSupport = supportGuarda();
        if (isSupport || times > maxTimes) {
          timer && clearInterval(timer);
          this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
          this._updateWallet();
          this.emit("readyStateChanged", this.readyState);
          resolve(isSupport);
        }
      };
      timer = setInterval(check, interval);
      check();
    });
    return this._checkPromise;
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    this._state = state;
    this.emit("stateChanged", state);
  }
};

// ../node_modules/@tronweb3/tronwallet-adapter-binance/lib/esm/adapter.js
var __awaiter16 = function(thisArg, _arguments, P5, generator) {
  function adopt(value) {
    return value instanceof P5 ? value : new P5(function(resolve) {
      resolve(value);
    });
  }
  return new (P5 || (P5 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var BinanceWalletAdapterName = "Binance Wallet";
var chainIdNetworkMap2 = {
  "0x2b6653dc": NetworkType.Mainnet,
  "0x94a9059e": NetworkType.Shasta,
  "0xcd8690dc": NetworkType.Nile
};
var BinanceWalletAdapter = class extends Adapter {
  constructor(config = {}) {
    super();
    this.name = BinanceWalletAdapterName;
    this.url = "https://www.binance.com/en/binancewallet";
    this.icon = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMEIwRTExIi8+CjxwYXRoIGQ9Ik01IDE1TDcuMjU4MDYgMTIuNzQxOUw5LjUxNjEzIDE1TDcuMjU4MDYgMTcuMjU4MUw1IDE1WiIgZmlsbD0iI0YwQjkwQiIvPgo8cGF0aCBkPSJNOC44NzA5NyAxMS4xMjlMMTUgNUwyMS4xMjkgMTEuMTI5TDE4Ljg3MSAxMy4zODcxTDE1IDkuNTE2MTNMMTEuMTI5IDEzLjM4NzFMOC44NzA5NyAxMS4xMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMi43NDE5IDE1TDE1IDEyLjc0MTlMMTcuMjU4MSAxNUwxNSAxNy4yNTgxTDEyLjc0MTkgMTVaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMS4xMjkgMTYuNjEyOUw4Ljg3MDk3IDE4Ljg3MUwxNSAyNUwyMS4xMjkgMTguODcxTDE4Ljg3MSAxNi42MTI5TDE1IDIwLjQ4MzlMMTEuMTI5IDE2LjYxMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0yMC40ODM5IDE1TDIyLjc0MTkgMTIuNzQxOUwyNSAxNUwyMi43NDE5IDE3LjI1ODFMMjAuNDgzOSAxNVoiIGZpbGw9IiNGMEI5MEIiLz4KPC9zdmc+Cg==";
    this._readyState = isInBrowser() ? WalletReadyState.Loading : WalletReadyState.NotFound;
    this._state = AdapterState.Loading;
    this._onAccountsChanged = (address) => {
      const preAddr = this.address || "";
      this.setAddress(address[0]);
      this.emit("accountsChanged", this.address || "", preAddr);
    };
    this._checkPromise = null;
    this._updateProvider = () => {
      var _a2;
      let state = this.state;
      let address = this.address;
      if ((_a2 = window.binancew3w) === null || _a2 === void 0 ? void 0 : _a2.tron) {
        this._provider = window.binancew3w.tron;
        address = null;
        state = AdapterState.Disconnect;
      } else {
        this._provider = null;
        address = null;
        state = AdapterState.NotFound;
      }
      this.setAddress(address);
      this.setState(state);
    };
    const { checkTimeout = 2 * 1e3, openUrlWhenWalletNotFound = true } = config;
    if (typeof checkTimeout !== "number") {
      throw new Error("[BinanceWalletAdapter] config.checkTimeout should be a number");
    }
    this.config = {
      checkTimeout,
      openUrlWhenWalletNotFound
    };
    this._connecting = false;
    this._provider = null;
    this._address = null;
    if (!isInBrowser()) {
      this._readyState = WalletReadyState.NotFound;
      this.setState(AdapterState.NotFound);
      return;
    }
    this._checkWallet().then(() => {
      if (this.connected) {
        this.emit("connect", this.address || "");
        this._listenEvent();
      }
    });
  }
  get address() {
    return this._address;
  }
  get state() {
    return this._state;
  }
  get readyState() {
    return this._readyState;
  }
  get connecting() {
    return this._connecting;
  }
  /**
   * Get network information used by Binance Wallet.
   * @returns {Network} Current network information.
   */
  network() {
    return __awaiter16(this, void 0, void 0, function* () {
      try {
        yield this._checkWallet();
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        try {
          const chainId = this._provider.getChainId();
          return {
            networkType: chainIdNetworkMap2[chainId] || NetworkType.Unknown,
            chainId,
            fullNode: "",
            solidityNode: "",
            eventServer: ""
          };
        } catch (e11) {
          throw new WalletGetNetworkError(e11 === null || e11 === void 0 ? void 0 : e11.message, e11);
        }
      } catch (e11) {
        this.emit("error", e11);
        throw e11;
      }
    });
  }
  connect() {
    return __awaiter16(this, void 0, void 0, function* () {
      try {
        if (this.connected || this.connecting)
          return;
        yield this._checkWallet();
        if (this.state === AdapterState.NotFound) {
          if (this.config.openUrlWhenWalletNotFound !== false && isInBrowser()) {
            window.open(this.url, "_blank");
          }
          throw new WalletNotFoundError();
        }
        this._connecting = true;
        try {
          const { address } = yield this._provider.getAccount();
          this.setAddress(address);
          this.setState(AdapterState.Connected);
          this.emit("connect", address);
          this._listenEvent();
        } catch (error) {
          throw new WalletConnectionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      } finally {
        this._connecting = false;
      }
    });
  }
  disconnect() {
    return __awaiter16(this, void 0, void 0, function* () {
      if (this.state !== AdapterState.Connected) {
        return;
      }
      yield this._provider.disconnect();
      this.setAddress(null);
      this.setState(AdapterState.Disconnect);
      this.emit("disconnect");
      this._stopListenEvent();
    });
  }
  signMessage(message) {
    return __awaiter16(this, void 0, void 0, function* () {
      try {
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        try {
          return yield this._provider.signMessageV2(message);
        } catch (error) {
          throw new WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  signTransaction(transaction) {
    return __awaiter16(this, void 0, void 0, function* () {
      try {
        if (this.state !== AdapterState.Connected)
          throw new WalletDisconnectedError();
        try {
          return yield this._provider.signTransaction(transaction);
        } catch (error) {
          throw new WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);
        }
      } catch (error) {
        this.emit("error", error);
        throw error;
      }
    });
  }
  _listenEvent() {
    this._stopListenEvent();
    this._provider.on("accountsChanged", this._onAccountsChanged);
  }
  _stopListenEvent() {
    this._provider.removeListener("accountsChanged", this._onAccountsChanged);
  }
  _checkWallet() {
    return __awaiter16(this, void 0, void 0, function* () {
      if (this.readyState === WalletReadyState.Found) {
        return true;
      }
      if (this._checkPromise) {
        return this._checkPromise;
      }
      const interval = 100;
      const maxTimes = Math.floor(this.config.checkTimeout / interval);
      let times = 0;
      let timer;
      this._checkPromise = new Promise((resolve) => {
        const check = () => {
          var _a2;
          times++;
          const isSupport = !!((_a2 = window.binancew3w) === null || _a2 === void 0 ? void 0 : _a2.tron);
          if (isSupport || times > maxTimes) {
            timer && clearInterval(timer);
            this._readyState = isSupport ? WalletReadyState.Found : WalletReadyState.NotFound;
            this._updateProvider();
            this.emit("readyStateChanged", this.readyState);
            resolve(isSupport);
          }
        };
        timer = setInterval(check, interval);
        check();
      });
      return this._checkPromise;
    });
  }
  setAddress(address) {
    this._address = address;
  }
  setState(state) {
    const preState = this.state;
    if (state !== preState) {
      this._state = state;
      this.emit("stateChanged", state);
    }
  }
};

// ../node_modules/@binance/w3w-utils/dist/index.js
var eF = __toESM(require_hash());
init_eventemitter3();

// ../node_modules/js-base64/base64.mjs
var _TD = typeof TextDecoder === "function" ? new TextDecoder() : void 0;
var _TE = typeof TextEncoder === "function" ? new TextEncoder() : void 0;
var b64ch = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
var b64chs = Array.prototype.slice.call(b64ch);
var b64tab = ((a4) => {
  let tab = {};
  a4.forEach((c4, i4) => tab[c4] = i4);
  return tab;
})(b64chs);
var _fromCC = String.fromCharCode.bind(String);
var _U8Afrom = typeof Uint8Array.from === "function" ? Uint8Array.from.bind(Uint8Array) : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));

// ../node_modules/@binance/w3w-utils/dist/index.js
function t3(e11) {
  if (e11 === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return e11;
}
function a3(e11, r3) {
  if (!(e11 instanceof r3)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function i3(e11, r3, t4) {
  if (A4()) {
    i3 = Reflect.construct;
  } else {
    i3 = function e12(e12, r4, t5) {
      var n2 = [null];
      n2.push.apply(n2, r4);
      var o3 = Function.bind.apply(e12, n2);
      var a4 = new o3();
      if (t5) w3(a4, t5.prototype);
      return a4;
    };
  }
  return i3.apply(null, arguments);
}
function s3(e11, r3) {
  for (var t4 = 0; t4 < r3.length; t4++) {
    var n2 = r3[t4];
    n2.enumerable = n2.enumerable || false;
    n2.configurable = true;
    if ("value" in n2) n2.writable = true;
    Object.defineProperty(e11, n2.key, n2);
  }
}
function u4(e11, r3, t4) {
  if (r3) s3(e11.prototype, r3);
  if (t4) s3(e11, t4);
  return e11;
}
function c3(e11, r3, t4) {
  if (r3 in e11) {
    Object.defineProperty(e11, r3, { value: t4, enumerable: true, configurable: true, writable: true });
  } else {
    e11[r3] = t4;
  }
  return e11;
}
function f4(e11) {
  f4 = Object.setPrototypeOf ? Object.getPrototypeOf : function e12(e12) {
    return e12.__proto__ || Object.getPrototypeOf(e12);
  };
  return f4(e11);
}
function l3(e11, r3) {
  if (typeof r3 !== "function" && r3 !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  e11.prototype = Object.create(r3 && r3.prototype, { constructor: { value: e11, writable: true, configurable: true } });
  if (r3) w3(e11, r3);
}
function p3(e11, r3) {
  if (r3 != null && typeof Symbol !== "undefined" && r3[Symbol.hasInstance]) {
    return !!r3[Symbol.hasInstance](e11);
  } else {
    return e11 instanceof r3;
  }
}
function d3(e11) {
  return Function.toString.call(e11).indexOf("[native code]") !== -1;
}
function m3(e11, r3) {
  if (r3 && (E3(r3) === "object" || typeof r3 === "function")) {
    return r3;
  }
  return t3(e11);
}
function w3(e11, r3) {
  w3 = Object.setPrototypeOf || function e12(e12, r4) {
    e12.__proto__ = r4;
    return e12;
  };
  return w3(e11, r3);
}
function E3(e11) {
  "@swc/helpers - typeof";
  return e11 && typeof Symbol !== "undefined" && e11.constructor === Symbol ? "symbol" : typeof e11;
}
function _3(e11) {
  var r3 = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
  _3 = function e12(e12) {
    if (e12 === null || !d3(e12)) return e12;
    if (typeof e12 !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }
    if (typeof r3 !== "undefined") {
      if (r3.has(e12)) return r3.get(e12);
      r3.set(e12, t4);
    }
    function t4() {
      return i3(e12, arguments, f4(this).constructor);
    }
    t4.prototype = Object.create(e12.prototype, { constructor: { value: t4, enumerable: false, writable: true, configurable: true } });
    return w3(t4, e12);
  };
  return _3(e11);
}
function A4() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;
  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
    return true;
  } catch (e11) {
    return false;
  }
}
function x3(e11) {
  var r3 = A4();
  return function t4() {
    var t5 = f4(e11), n2;
    if (r3) {
      var o3 = f4(this).constructor;
      n2 = Reflect.construct(t5, arguments, o3);
    } else {
      n2 = t5.apply(this, arguments);
    }
    return m3(this, n2);
  };
}
var N3 = Object.defineProperty;
var P4 = function(e11, r3, t4) {
  return r3 in e11 ? N3(e11, r3, { enumerable: true, configurable: true, writable: true, value: t4 }) : e11[r3] = t4;
};
var I2 = function(e11, r3, t4) {
  return P4(e11, (typeof r3 === "undefined" ? "undefined" : E3(r3)) != "symbol" ? r3 + "" : r3, t4), t4;
};
var T4;
var C3 = "PARSE_ERROR";
var j4 = "INVALID_REQUEST";
var D3 = "METHOD_NOT_FOUND";
var k3 = "INVALID_PARAMS";
var U2 = "INTERNAL_ERROR";
var B4 = "SERVER_ERROR";
var J3 = (T4 = {}, c3(T4, C3, { code: -32700, message: "Parse error" }), c3(T4, j4, { code: -32600, message: "Invalid Request" }), c3(T4, D3, { code: -32601, message: "Method not found" }), c3(T4, k3, { code: -32602, message: "Invalid params" }), c3(T4, U2, { code: -32603, message: "Internal error" }), c3(T4, B4, { code: -32e3, message: "Server error" }), T4);
var ep = function(e11) {
  var r3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
  var t4 = "bnc://app.binance.com/mp/app", n2 = "yFK5FCqYprrXDiVFbhyRx7", o3 = window.btoa("/pages/browser/index"), a4 = window.btoa("url=".concat(e11, "&defaultChainId=").concat(r3)), i4 = "".concat(t4, "?appId=").concat(n2, "&startPagePath=").concat(o3, "&startPageQuery=").concat(a4);
  return { http: "https://app.binance.com/en/download?_dp=".concat(window.btoa(i4)), bnc: i4 };
};
var eV = { 16: 10, 24: 12, 32: 14 };
var eq = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145];
var eH = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22];
var ez = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125];
var eW = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986];
var eG = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766];
var eQ = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126];
var eX = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436];
var eZ = [1374988112, 2118214995, 437757123, 975658646, 1001089995, 530400753, 2902087851, 1273168787, 540080725, 2910219766, 2295101073, 4110568485, 1340463100, 3307916247, 641025152, 3043140495, 3736164937, 632953703, 1172967064, 1576976609, 3274667266, 2169303058, 2370213795, 1809054150, 59727847, 361929877, 3211623147, 2505202138, 3569255213, 1484005843, 1239443753, 2395588676, 1975683434, 4102977912, 2572697195, 666464733, 3202437046, 4035489047, 3374361702, 2110667444, 1675577880, 3843699074, 2538681184, 1649639237, 2976151520, 3144396420, 4269907996, 4178062228, 1883793496, 2403728665, 2497604743, 1383856311, 2876494627, 1917518562, 3810496343, 1716890410, 3001755655, 800440835, 2261089178, 3543599269, 807962610, 599762354, 33778362, 3977675356, 2328828971, 2809771154, 4077384432, 1315562145, 1708848333, 101039829, 3509871135, 3299278474, 875451293, 2733856160, 92987698, 2767645557, 193195065, 1080094634, 1584504582, 3178106961, 1042385657, 2531067453, 3711829422, 1306967366, 2438237621, 1908694277, 67556463, 1615861247, 429456164, 3602770327, 2302690252, 1742315127, 2968011453, 126454664, 3877198648, 2043211483, 2709260871, 2084704233, 4169408201, 0, 159417987, 841739592, 504459436, 1817866830, 4245618683, 260388950, 1034867998, 908933415, 168810852, 1750902305, 2606453969, 607530554, 202008497, 2472011535, 3035535058, 463180190, 2160117071, 1641816226, 1517767529, 470948374, 3801332234, 3231722213, 1008918595, 303765277, 235474187, 4069246893, 766945465, 337553864, 1475418501, 2943682380, 4003061179, 2743034109, 4144047775, 1551037884, 1147550661, 1543208500, 2336434550, 3408119516, 3069049960, 3102011747, 3610369226, 1113818384, 328671808, 2227573024, 2236228733, 3535486456, 2935566865, 3341394285, 496906059, 3702665459, 226906860, 2009195472, 733156972, 2842737049, 294930682, 1206477858, 2835123396, 2700099354, 1451044056, 573804783, 2269728455, 3644379585, 2362090238, 2564033334, 2801107407, 2776292904, 3669462566, 1068351396, 742039012, 1350078989, 1784663195, 1417561698, 4136440770, 2430122216, 775550814, 2193862645, 2673705150, 1775276924, 1876241833, 3475313331, 3366754619, 270040487, 3902563182, 3678124923, 3441850377, 1851332852, 3969562369, 2203032232, 3868552805, 2868897406, 566021896, 4011190502, 3135740889, 1248802510, 3936291284, 699432150, 832877231, 708780849, 3332740144, 899835584, 1951317047, 4236429990, 3767586992, 866637845, 4043610186, 1106041591, 2144161806, 395441711, 1984812685, 1139781709, 3433712980, 3835036895, 2664543715, 1282050075, 3240894392, 1181045119, 2640243204, 25965917, 4203181171, 4211818798, 3009879386, 2463879762, 3910161971, 1842759443, 2597806476, 933301370, 1509430414, 3943906441, 3467192302, 3076639029, 3776767469, 2051518780, 2631065433, 1441952575, 404016761, 1942435775, 1408749034, 1610459739, 3745345300, 2017778566, 3400528769, 3110650942, 941896748, 3265478751, 371049330, 3168937228, 675039627, 4279080257, 967311729, 135050206, 3635733660, 1683407248, 2076935265, 3576870512, 1215061108, 3501741890];
var eY = [1347548327, 1400783205, 3273267108, 2520393566, 3409685355, 4045380933, 2880240216, 2471224067, 1428173050, 4138563181, 2441661558, 636813900, 4233094615, 3620022987, 2149987652, 2411029155, 1239331162, 1730525723, 2554718734, 3781033664, 46346101, 310463728, 2743944855, 3328955385, 3875770207, 2501218972, 3955191162, 3667219033, 768917123, 3545789473, 692707433, 1150208456, 1786102409, 2029293177, 1805211710, 3710368113, 3065962831, 401639597, 1724457132, 3028143674, 409198410, 2196052529, 1620529459, 1164071807, 3769721975, 2226875310, 486441376, 2499348523, 1483753576, 428819965, 2274680428, 3075636216, 598438867, 3799141122, 1474502543, 711349675, 129166120, 53458370, 2592523643, 2782082824, 4063242375, 2988687269, 3120694122, 1559041666, 730517276, 2460449204, 4042459122, 2706270690, 3446004468, 3573941694, 533804130, 2328143614, 2637442643, 2695033685, 839224033, 1973745387, 957055980, 2856345839, 106852767, 1371368976, 4181598602, 1033297158, 2933734917, 1179510461, 3046200461, 91341917, 1862534868, 4284502037, 605657339, 2547432937, 3431546947, 2003294622, 3182487618, 2282195339, 954669403, 3682191598, 1201765386, 3917234703, 3388507166, 0, 2198438022, 1211247597, 2887651696, 1315723890, 4227665663, 1443857720, 507358933, 657861945, 1678381017, 560487590, 3516619604, 975451694, 2970356327, 261314535, 3535072918, 2652609425, 1333838021, 2724322336, 1767536459, 370938394, 182621114, 3854606378, 1128014560, 487725847, 185469197, 2918353863, 3106780840, 3356761769, 2237133081, 1286567175, 3152976349, 4255350624, 2683765030, 3160175349, 3309594171, 878443390, 1988838185, 3704300486, 1756818940, 1673061617, 3403100636, 272786309, 1075025698, 545572369, 2105887268, 4174560061, 296679730, 1841768865, 1260232239, 4091327024, 3960309330, 3497509347, 1814803222, 2578018489, 4195456072, 575138148, 3299409036, 446754879, 3629546796, 4011996048, 3347532110, 3252238545, 4270639778, 915985419, 3483825537, 681933534, 651868046, 2755636671, 3828103837, 223377554, 2607439820, 1649704518, 3270937875, 3901806776, 1580087799, 4118987695, 3198115200, 2087309459, 2842678573, 3016697106, 1003007129, 2802849917, 1860738147, 2077965243, 164439672, 4100872472, 32283319, 2827177882, 1709610350, 2125135846, 136428751, 3874428392, 3652904859, 3460984630, 3572145929, 3593056380, 2939266226, 824852259, 818324884, 3224740454, 930369212, 2801566410, 2967507152, 355706840, 1257309336, 4148292826, 243256656, 790073846, 2373340630, 1296297904, 1422699085, 3756299780, 3818836405, 457992840, 3099667487, 2135319889, 77422314, 1560382517, 1945798516, 788204353, 1521706781, 1385356242, 870912086, 325965383, 2358957921, 2050466060, 2388260884, 2313884476, 4006521127, 901210569, 3990953189, 1014646705, 1503449823, 1062597235, 2031621326, 3212035895, 3931371469, 1533017514, 350174575, 2256028891, 2177544179, 1052338372, 741876788, 1606591296, 1914052035, 213705253, 2334669897, 1107234197, 1899603969, 3725069491, 2631447780, 2422494913, 1635502980, 1893020342, 1950903388, 1120974935];
var e$ = [2807058932, 1699970625, 2764249623, 1586903591, 1808481195, 1173430173, 1487645946, 59984867, 4199882800, 1844882806, 1989249228, 1277555970, 3623636965, 3419915562, 1149249077, 2744104290, 1514790577, 459744698, 244860394, 3235995134, 1963115311, 4027744588, 2544078150, 4190530515, 1608975247, 2627016082, 2062270317, 1507497298, 2200818878, 567498868, 1764313568, 3359936201, 2305455554, 2037970062, 1047239e3, 1910319033, 1337376481, 2904027272, 2892417312, 984907214, 1243112415, 830661914, 861968209, 2135253587, 2011214180, 2927934315, 2686254721, 731183368, 1750626376, 4246310725, 1820824798, 4172763771, 3542330227, 48394827, 2404901663, 2871682645, 671593195, 3254988725, 2073724613, 145085239, 2280796200, 2779915199, 1790575107, 2187128086, 472615631, 3029510009, 4075877127, 3802222185, 4107101658, 3201631749, 1646252340, 4270507174, 1402811438, 1436590835, 3778151818, 3950355702, 3963161475, 4020912224, 2667994737, 273792366, 2331590177, 104699613, 95345982, 3175501286, 2377486676, 1560637892, 3564045318, 369057872, 4213447064, 3919042237, 1137477952, 2658625497, 1119727848, 2340947849, 1530455833, 4007360968, 172466556, 266959938, 516552836, 0, 2256734592, 3980931627, 1890328081, 1917742170, 4294704398, 945164165, 3575528878, 958871085, 3647212047, 2787207260, 1423022939, 775562294, 1739656202, 3876557655, 2530391278, 2443058075, 3310321856, 547512796, 1265195639, 437656594, 3121275539, 719700128, 3762502690, 387781147, 218828297, 3350065803, 2830708150, 2848461854, 428169201, 122466165, 3720081049, 1627235199, 648017665, 4122762354, 1002783846, 2117360635, 695634755, 3336358691, 4234721005, 4049844452, 3704280881, 2232435299, 574624663, 287343814, 612205898, 1039717051, 840019705, 2708326185, 793451934, 821288114, 1391201670, 3822090177, 376187827, 3113855344, 1224348052, 1679968233, 2361698556, 1058709744, 752375421, 2431590963, 1321699145, 3519142200, 2734591178, 188127444, 2177869557, 3727205754, 2384911031, 3215212461, 2648976442, 2450346104, 3432737375, 1180849278, 331544205, 3102249176, 4150144569, 2952102595, 2159976285, 2474404304, 766078933, 313773861, 2570832044, 2108100632, 1668212892, 3145456443, 2013908262, 418672217, 3070356634, 2594734927, 1852171925, 3867060991, 3473416636, 3907448597, 2614737639, 919489135, 164948639, 2094410160, 2997825956, 590424639, 2486224549, 1723872674, 3157750862, 3399941250, 3501252752, 3625268135, 2555048196, 3673637356, 1343127501, 4130281361, 3599595085, 2957853679, 1297403050, 81781910, 3051593425, 2283490410, 532201772, 1367295589, 3926170974, 895287692, 1953757831, 1093597963, 492483431, 3528626907, 1446242576, 1192455638, 1636604631, 209336225, 344873464, 1015671571, 669961897, 3375740769, 3857572124, 2973530695, 3747192018, 1933530610, 3464042516, 935293895, 3454686199, 2858115069, 1863638845, 3683022916, 4085369519, 3292445032, 875313188, 1080017571, 3279033885, 621591778, 1233856572, 2504130317, 24197544, 3017672716, 3835484340, 3247465558, 2220981195, 3060847922, 1551124588, 1463996600];
var e1 = [4104605777, 1097159550, 396673818, 660510266, 2875968315, 2638606623, 4200115116, 3808662347, 821712160, 1986918061, 3430322568, 38544885, 3856137295, 718002117, 893681702, 1654886325, 2975484382, 3122358053, 3926825029, 4274053469, 796197571, 1290801793, 1184342925, 3556361835, 2405426947, 2459735317, 1836772287, 1381620373, 3196267988, 1948373848, 3764988233, 3385345166, 3263785589, 2390325492, 1480485785, 3111247143, 3780097726, 2293045232, 548169417, 3459953789, 3746175075, 439452389, 1362321559, 1400849762, 1685577905, 1806599355, 2174754046, 137073913, 1214797936, 1174215055, 3731654548, 2079897426, 1943217067, 1258480242, 529487843, 1437280870, 3945269170, 3049390895, 3313212038, 923313619, 679998e3, 3215307299, 57326082, 377642221, 3474729866, 2041877159, 133361907, 1776460110, 3673476453, 96392454, 878845905, 2801699524, 777231668, 4082475170, 2330014213, 4142626212, 2213296395, 1626319424, 1906247262, 1846563261, 562755902, 3708173718, 1040559837, 3871163981, 1418573201, 3294430577, 114585348, 1343618912, 2566595609, 3186202582, 1078185097, 3651041127, 3896688048, 2307622919, 425408743, 3371096953, 2081048481, 1108339068, 2216610296, 0, 2156299017, 736970802, 292596766, 1517440620, 251657213, 2235061775, 2933202493, 758720310, 265905162, 1554391400, 1532285339, 908999204, 174567692, 1474760595, 4002861748, 2610011675, 3234156416, 3693126241, 2001430874, 303699484, 2478443234, 2687165888, 585122620, 454499602, 151849742, 2345119218, 3064510765, 514443284, 4044981591, 1963412655, 2581445614, 2137062819, 19308535, 1928707164, 1715193156, 4219352155, 1126790795, 600235211, 3992742070, 3841024952, 836553431, 1669664834, 2535604243, 3323011204, 1243905413, 3141400786, 4180808110, 698445255, 2653899549, 2989552604, 2253581325, 3252932727, 3004591147, 1891211689, 2487810577, 3915653703, 4237083816, 4030667424, 2100090966, 865136418, 1229899655, 953270745, 3399679628, 3557504664, 4118925222, 2061379749, 3079546586, 2915017791, 983426092, 2022837584, 1607244650, 2118541908, 2366882550, 3635996816, 972512814, 3283088770, 1568718495, 3499326569, 3576539503, 621982671, 2895723464, 410887952, 2623762152, 1002142683, 645401037, 1494807662, 2595684844, 1335535747, 2507040230, 4293295786, 3167684641, 367585007, 3885750714, 1865862730, 2668221674, 2960971305, 2763173681, 1059270954, 2777952454, 2724642869, 1320957812, 2194319100, 2429595872, 2815956275, 77089521, 3973773121, 3444575871, 2448830231, 1305906550, 4021308739, 2857194700, 2516901860, 3518358430, 1787304780, 740276417, 1699839814, 1592394909, 2352307457, 2272556026, 188821243, 1729977011, 3687994002, 274084841, 3594982253, 3613494426, 2701949495, 4162096729, 322734571, 2837966542, 1640576439, 484830689, 1202797690, 3537852828, 4067639125, 349075736, 3342319475, 4157467219, 4255800159, 1030690015, 1155237496, 2951971274, 1757691577, 607398968, 2738905026, 499347990, 3794078908, 1011452712, 227885567, 2818666809, 213114376, 3034881240, 1455525988, 3414450555, 850817237, 1817998408, 3092726480];
var e22 = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795];
var e3 = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855];
var e4 = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150];
var e0 = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925];
function e5(e11) {
  return parseInt("".concat(e11)) === e11;
}
function e7(e11) {
  if (!e5(e11.length)) return false;
  for (var r3 = 0; r3 < e11.length; r3++) if (!e5(e11[r3]) || e11[r3] < 0 || e11[r3] > 255) return false;
  return true;
}
function e6(e11) {
  return new Uint8Array(e11);
}
function e8(e11) {
  var r3 = [];
  for (var t4 = 0; t4 < e11.length; t4 += 4) r3.push(e11[t4] << 24 | e11[t4 + 1] << 16 | e11[t4 + 2] << 8 | e11[t4 + 3]);
  return r3;
}
function e9(e11, r3) {
  if (e11.buffer && e11.name === "Uint8Array") return r3 && (e11.slice ? e11 = e11.slice() : e11 = Array.prototype.slice.call(e11)), e11;
  if (Array.isArray(e11)) {
    if (!e7(e11)) throw new Error("Array contains invalid value");
    return new Uint8Array(e11);
  }
  if (e5(e11.length) && e7(e11)) return new Uint8Array(e11);
  throw new Error("unsupported array-like object");
}
function re(e11, r3, t4, n2, o3) {
  (n2 != null || o3 != null) && (e11.slice ? e11 = e11.slice(n2, o3) : e11 = Array.prototype.slice.call(e11, n2, o3)), r3.set(e11, t4);
}
var rr = (function() {
  "use strict";
  function e11(r3) {
    a3(this, e11);
    I2(this, "key");
    I2(this, "_Ke");
    I2(this, "_Kd");
    this.key = e9(r3, true), this._prepare();
  }
  u4(e11, [{ key: "_prepare", value: function e12() {
    var e13 = eV[this.key.length];
    if (e13 == null) throw new Error("invalid key size (must be 16, 24 or 32 bytes)");
    this._Ke = [], this._Kd = [];
    for (var r3 = 0; r3 <= e13; r3++) this._Ke.push([0, 0, 0, 0]), this._Kd.push([0, 0, 0, 0]);
    var t4 = (e13 + 1) * 4, n2 = this.key.length / 4, o3 = e8(this.key), a4;
    for (var i4 = 0; i4 < n2; i4++) a4 = i4 >> 2, this._Ke[a4][i4 % 4] = o3[i4], this._Kd[e13 - a4][i4 % 4] = o3[i4];
    var s4 = 0, u5 = n2, c4;
    for (; u5 < t4; ) {
      if (c4 = o3[n2 - 1], o3[0] ^= eH[c4 >> 16 & 255] << 24 ^ eH[c4 >> 8 & 255] << 16 ^ eH[c4 & 255] << 8 ^ eH[c4 >> 24 & 255] ^ eq[s4] << 24, s4 += 1, n2 != 8) for (var f5 = 1; f5 < n2; f5++) o3[f5] ^= o3[f5 - 1];
      else {
        for (var l4 = 1; l4 < n2 / 2; l4++) o3[l4] ^= o3[l4 - 1];
        c4 = o3[n2 / 2 - 1], o3[n2 / 2] ^= eH[c4 & 255] ^ eH[c4 >> 8 & 255] << 8 ^ eH[c4 >> 16 & 255] << 16 ^ eH[c4 >> 24 & 255] << 24;
        for (var p4 = n2 / 2 + 1; p4 < n2; p4++) o3[p4] ^= o3[p4 - 1];
      }
      var d4 = 0, h3 = void 0, v3 = void 0;
      for (; d4 < n2 && u5 < t4; ) h3 = u5 >> 2, v3 = u5 % 4, this._Ke[h3][v3] = o3[d4], this._Kd[e13 - h3][v3] = o3[d4++], u5++;
    }
    for (var y3 = 1; y3 < e13; y3++) for (var g4 = 0; g4 < 4; g4++) c4 = this._Kd[y3][g4], this._Kd[y3][g4] = e22[c4 >> 24 & 255] ^ e3[c4 >> 16 & 255] ^ e4[c4 >> 8 & 255] ^ e0[c4 & 255];
  } }, { key: "encrypt", value: function e12(e12) {
    if (e12.length != 16) throw new Error("invalid plaintext size (must be 16 bytes)");
    var r3 = this._Ke.length - 1, t4 = [0, 0, 0, 0], n2 = e8(e12);
    for (var o3 = 0; o3 < 4; o3++) n2[o3] ^= this._Ke[0][o3];
    for (var a4 = 1; a4 < r3; a4++) {
      for (var i4 = 0; i4 < 4; i4++) t4[i4] = eW[n2[i4] >> 24 & 255] ^ eG[n2[(i4 + 1) % 4] >> 16 & 255] ^ eQ[n2[(i4 + 2) % 4] >> 8 & 255] ^ eX[n2[(i4 + 3) % 4] & 255] ^ this._Ke[a4][i4];
      n2 = t4.slice();
    }
    var s4 = e6(16), u5;
    for (var c4 = 0; c4 < 4; c4++) u5 = this._Ke[r3][c4], s4[4 * c4] = (eH[n2[c4] >> 24 & 255] ^ u5 >> 24) & 255, s4[4 * c4 + 1] = (eH[n2[(c4 + 1) % 4] >> 16 & 255] ^ u5 >> 16) & 255, s4[4 * c4 + 2] = (eH[n2[(c4 + 2) % 4] >> 8 & 255] ^ u5 >> 8) & 255, s4[4 * c4 + 3] = (eH[n2[(c4 + 3) % 4] & 255] ^ u5) & 255;
    return s4;
  } }, { key: "decrypt", value: function e12(e12) {
    if (e12.length != 16) throw new Error("invalid ciphertext size (must be 16 bytes)");
    var r3 = this._Kd.length - 1, t4 = [0, 0, 0, 0], n2 = e8(e12);
    for (var o3 = 0; o3 < 4; o3++) n2[o3] ^= this._Kd[0][o3];
    for (var a4 = 1; a4 < r3; a4++) {
      for (var i4 = 0; i4 < 4; i4++) t4[i4] = eZ[n2[i4] >> 24 & 255] ^ eY[n2[(i4 + 3) % 4] >> 16 & 255] ^ e$[n2[(i4 + 2) % 4] >> 8 & 255] ^ e1[n2[(i4 + 1) % 4] & 255] ^ this._Kd[a4][i4];
      n2 = t4.slice();
    }
    var s4 = e6(16), u5;
    for (var c4 = 0; c4 < 4; c4++) u5 = this._Kd[r3][c4], s4[4 * c4] = (ez[n2[c4] >> 24 & 255] ^ u5 >> 24) & 255, s4[4 * c4 + 1] = (ez[n2[(c4 + 3) % 4] >> 16 & 255] ^ u5 >> 16) & 255, s4[4 * c4 + 2] = (ez[n2[(c4 + 2) % 4] >> 8 & 255] ^ u5 >> 8) & 255, s4[4 * c4 + 3] = (ez[n2[(c4 + 1) % 4] & 255] ^ u5) & 255;
    return s4;
  } }]);
  return e11;
})();
var rt = (function() {
  "use strict";
  function e11(r3, t4) {
    a3(this, e11);
    I2(this, "_aes");
    I2(this, "_lastCipherblock");
    if (!t4) t4 = new Uint8Array(16);
    else if (t4.length != 16) throw new Error("invalid initialation vector size (must be 16 bytes)");
    this._lastCipherblock = e9(t4, true), this._aes = new rr(r3);
  }
  u4(e11, [{ key: "encrypt", value: function e12(e12) {
    if (e12 = e9(e12), e12.length % 16 !== 0) throw new Error("invalid plaintext size (must be multiple of 16 bytes)");
    var r3 = e6(e12.length), t4 = e6(16);
    for (var n2 = 0; n2 < e12.length; n2 += 16) {
      re(e12, t4, 0, n2, n2 + 16);
      for (var o3 = 0; o3 < 16; o3++) t4[o3] ^= this._lastCipherblock[o3];
      this._lastCipherblock = this._aes.encrypt(t4), re(this._lastCipherblock, r3, n2);
    }
    return r3;
  } }, { key: "decrypt", value: function e12(e12) {
    if (e12 = e9(e12), e12.length % 16 !== 0) throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");
    var r3 = e6(e12.length), t4 = e6(16);
    for (var n2 = 0; n2 < e12.length; n2 += 16) {
      re(e12, t4, 0, n2, n2 + 16), t4 = this._aes.decrypt(t4);
      for (var o3 = 0; o3 < 16; o3++) r3[n2 + o3] = t4[o3] ^ this._lastCipherblock[o3];
      re(e12, this._lastCipherblock, 0, n2, n2 + 16);
    }
    return r3;
  } }]);
  return e11;
})();
var rw = { ERROR: 0, WARN: 1, INFO: 2, DEBUG: 3 };
var rR = rw.DEBUG;
var rO = (typeof window === "undefined" ? "undefined" : E3(window)) < "u";
var rP = (function e10(e10) {
  "use strict";
  l3(n2, e10);
  var r3 = x3(n2);
  function n2(e11, o3) {
    a3(this, n2);
    var i4;
    i4 = r3.call(this, o3);
    I2(t3(i4), "code");
    i4.code = e11, Object.setPrototypeOf(t3(i4), (p3(this, n2) ? this.constructor : void 0).prototype);
    return i4;
  }
  u4(n2, [{ key: "toString", value: function e11() {
    return "".concat(this.message, " (").concat(this.code, ")");
  } }]);
  return n2;
})(_3(Error));

// ../node_modules/@tronweb3/tronwallet-adapter-binance/lib/esm/utils.js
function supportBinanceWallet() {
  return isInBrowser() && Boolean(window.isBinance);
}
function openBinanceWallet() {
  if (isInMobileBrowser() && !supportBinanceWallet()) {
    window.location.href = ep(window.location.href).bnc;
    return true;
  }
  return false;
}
export {
  BinanceWalletAdapter,
  BinanceWalletAdapterName,
  BitKeepAdapter,
  BitgetWalletAdapterName,
  BybitWalletAdapter,
  BybitWalletAdapterName,
  FoxWalletAdapter,
  FoxWalletAdapterName,
  GateWalletAdapter,
  GateWalletAdapterName,
  GuardaAdapter,
  GuardaAdapterName,
  ImTokenAdapter,
  ImTokenWalletAdapterName,
  LedgerAdapter,
  LedgerAdapterName,
  OkxWalletAdapter,
  OkxWalletAdapterName,
  TokenPocketAdapter,
  TokenPocketAdapterName,
  TomoWalletAdapter,
  TomoWalletAdapterName,
  TronLinkAdapter,
  TronLinkAdapterName,
  TrustAdapter,
  TrustAdapterName,
  WalletConnectAdapter,
  WalletConnectWalletName,
  chainIdNetworkMap,
  getNetworkInfoByTronWeb,
  isBybitApp,
  isGateApp,
  isInBybitApp,
  isInGateApp,
  isInOKApp,
  isInTokenPocket,
  isInTronLinkApp,
  isOKApp,
  isTrustApp,
  openBinanceWallet,
  openBitgetWallet,
  openBybitWallet,
  openConnectingModal,
  openFoxWallet,
  openGateWallet,
  openImTokenApp,
  openOkxWallet,
  openSelectAccountModal,
  openTokenPocket,
  openTronLink,
  openTrustWallet,
  openVerifyAddressModal,
  supportBinanceWallet,
  supportBitgetWallet,
  supportBybitWallet,
  supportFoxWallet,
  supportGateWallet,
  supportGuarda,
  supportImToken,
  supportOkxWallet,
  supportTokenPocket,
  supportTron,
  supportTronLink,
  supportTrust,
  waitTronwebReady
};
//# sourceMappingURL=@tronweb3_tronwallet-adapters.js.map
